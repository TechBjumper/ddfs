<?xml version="1.0"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd"
         ddfid ="mekar_srl_23mk0405" ddfname="Mekar SRL 23MK0405" ddfversion="3" canremove="yes">
		 
	<schemaVersion>1.6</schemaVersion>

	<device deviceid="mekar_srl_23mk0405">
		<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST"/>

		<setProductData ruleid="vendordata" field="vendor">Mekar SRL</setProductData>
		<setProductData ruleid="modeldata" field="model">23MK0405</setProductData>
		<setProductData ruleid="typedata" field="type">Cooling Device</setProductData>
		<setDefaultLabel ruleid="labeldata"><sysHostname/> - Slave <commSetting field="slaveaddress"/></setDefaultLabel>
		
		<valueMap ruleid="machine_state-vm">
			<valueIn>1</valueIn><valueOut>0</valueOut>
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>2</valueOut>
		</valueMap>

		<enumMap ruleid="machine_state-em">
			<label>Off</label>
			<label>On</label>
			<label>Unknown</label>
		</enumMap>

		<stateSensor ruleid="machine_state">
			<type>state</type>
			<sensorId>MACHINE_STATE</sensorId>
			<value>
				<mapValue mapid="machine_state-vm">
					<getOid>register195</getOid>
				</mapValue>
			</value>
			<label>Machine State</label>
			<enum>machine_state-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		
		<numSensor ruleid="setpoint_summer_supply">
			<type>temp</type>
			<sensorId>SETPOINT_SUMMER_SUPPLY</sensorId>
			<value>
				<mult>
					<op>0.1</op>
					<op><getOid>register201</getOid></op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Setpoint Summer Supply</label>
			<sensorSet>Measurements</sensorSet>
		</numSensor>
		
		<numSensor ruleid="setpoint_winter_supply">
			<type>temp</type>
			<sensorId>SETPOINT_WINTER_SUPPLY</sensorId>
			<value>
				<mult>
					<op>0.1</op>
					<op><getOid>register205</getOid></op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Setpoint Winter Supply</label>
			<sensorSet>Measurements</sensorSet>
		</numSensor>

		<valueMap ruleid="notactive_active-vm">
			<valueIn>0</valueIn><valueOut>0</valueOut>
			<valueIn>*</valueIn><valueOut>1</valueOut>
		</valueMap>
		<enumMap ruleid="notactive_active-em">
			<label>Not Active</label>
			<label>Active</label>
		</enumMap>
		
        <stateSensor ruleid="damper_renewal_delivery">
            <type>state</type>
            <sensorId>DAMPER_RENEWAL_DELIVERY</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2002</getOid></op>
                                    <op>0</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Damper and Renewal Delivery</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Outputs Supply</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="state_units">
            <type>state</type>
            <sensorId>STATE_UNITS</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2002</getOid></op>
                                    <op>1</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>State Units</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Outputs Supply</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="nonc_alarm">
            <type>state</type>
            <sensorId>NONC_ALARM</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2002</getOid></op>
                                    <op>2</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>NONC Alarm</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Outputs Supply</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="consent_fan_outlet">
            <type>state</type>
            <sensorId>CONSENT_FAN_OUTLET</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2002</getOid></op>
                                    <op>3</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Consent Fan Outlet</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Outputs Supply</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="consent_boiler">
            <type>state</type>
            <sensorId>CONSENT_BOILER</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2002</getOid></op>
                                    <op>4</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Consent Boiler</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Outputs Supply</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="consent_chiller">
            <type>state</type>
            <sensorId>CONSENT_CHILLER</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2002</getOid></op>
                                    <op>5</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Consent Chiller</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Outputs Supply</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="seasonal_active">
            <type>state</type>
            <sensorId>SEASONAL_ACTIVE</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2002</getOid></op>
                                    <op>6</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Seasonal Active</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Outputs Supply</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="consent_humidifier">
            <type>state</type>
            <sensorId>CONSENT_HUMIDIFIER</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2002</getOid></op>
                                    <op>7</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Consent Humidifier</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Outputs Supply</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="humidifier_alarm">
            <type>state</type>
            <sensorId>HUMIDIFIER_ALARM</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2003</getOid></op>
                                    <op>0</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Humidifier Alarm</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Inputs Treatment</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="condensing_unit_alarm">
            <type>state</type>
            <sensorId>CONDENSING_UNIT_ALARM</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2003</getOid></op>
                                    <op>1</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Condensing Unit Alarm</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Inputs Treatment</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="thermostat_heating_element">
            <type>state</type>
            <sensorId>THERMOSTAT_HEATING_ELEMENT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2003</getOid></op>
                                    <op>3</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Thermostat Heating Element</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Inputs Treatment</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="pressure_filter_3">
            <type>state</type>
            <sensorId>PRESSURE_FILTER_3</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2003</getOid></op>
                                    <op>4</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Pressure Filter 3</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Inputs Treatment</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="pressure_filter_2">
            <type>state</type>
            <sensorId>PRESSURE_FILTER_2</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2003</getOid></op>
                                    <op>5</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Pressure Filter 2</label>
            <enum>notactive_active-em</enum>
            <sensorSet>State Digital Inputs Treatment</sensorSet>
        </stateSensor>

        
		<numSensor ruleid="humidity_adjustment_ai9orai16">
			<type>humidity</type>
			<sensorId>HUMIDITY_ADJUSTMENT_AI9_OR_AI16</sensorId>
			<value>
				<getOid>register2022</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Humidity Adjustment AI9 or AI16</label>
			<sensorSet>Measurements</sensorSet>
		</numSensor>
		
		<numSensor ruleid="outdoor_temperature_ai4orai14">
			<type>temp</type>
			<sensorId>OUTDOOR_TEMP_AI4_OR_AI14</sensorId>
			<value>
				<mult>
					<op>0.1</op>
					<op><getOid>register2023</getOid></op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Outdoor Temperature AI4 or AI14</label>
			<sensorSet>Measurements</sensorSet>
		</numSensor>
		
		<numSensor ruleid="temperature_adjustment_ai1orai13">
			<type>temp</type>
			<sensorId>TEMPERATURE_ADJUSTMENT_AI1_OR_AI13</sensorId>
			<value>
				<mult>
					<op>0.1</op>
					<op><getOid>register2025</getOid></op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Temperature Adjustment AI1 or AI13</label>
			<sensorSet>Measurements</sensorSet>
		</numSensor>
		
        <stateSensor ruleid="client_ai2_fault">
            <type>state</type>
            <sensorId>CLIENT_AI2_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>0</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI2 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>
		
        <stateSensor ruleid="client_press_vent_man">
            <type>state</type>
            <sensorId>CLIENT_PRESS_VENT_MAN</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>1</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Press Vent Man</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_press_filter_1">
            <type>state</type>
            <sensorId>CLIENT_PRESS_FILTER_1</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>2</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Press Filter 1</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_press_filter_2">
            <type>state</type>
            <sensorId>CLIENT_PRESS_FILTER_2</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>3</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Press Filter 2</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_thermal_vent_man">
            <type>state</type>
            <sensorId>CLIENT_THERMAL_VENT_MAN</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>4</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Thermal Vent Man</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_thermostat_res_ele">
            <type>state</type>
            <sensorId>CLIENT_THERMOSTAT_RES_ELE</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>5</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Thermostat Res Ele</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_portisp_man">
            <type>state</type>
            <sensorId>CLIENT_PORTISP_MAN</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>6</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client PortIsp Man</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ripresboard_sconnected">
            <type>state</type>
            <sensorId>CLIENT_RIPRESBOARD_SCONNECTED</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>7</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client RipresBoard Sconnected</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_treatments_board_sconnected">
            <type>state</type>
            <sensorId>CLIENT_TREATMENTS_BOARD_SCONNECTED</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>8</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Treatments Board Sconnected</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_thermal_vent_rip">
            <type>state</type>
            <sensorId>CLIENT_THERMAL_VENT_RIP</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>9</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Thermal Vent Rip</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_portisp_rip">
            <type>state</type>
            <sensorId>CLIENT_PORTISP_RIP</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>10</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client PortIsp Rip</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_antifreeze">
            <type>state</type>
            <sensorId>CLIENT_ANTIFREEZE</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>11</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Antifreeze</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_press_filter_3">
            <type>state</type>
            <sensorId>CLIENT_PRESS_FILTER_3</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>12</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Press Filter 3</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_press_filter_recovery">
            <type>state</type>
            <sensorId>CLIENT_PRESS_FILTER_RECOVERY</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>13</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Press Filter Recovery</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_press_prefilter_recuperastore">
            <type>state</type>
            <sensorId>CLIENT_PRESS_PREFILTER_RECUPERASTORE</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>14</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Press PreFilter Recuperatore</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_press_vent_rip">
            <type>state</type>
            <sensorId>CLIENT_PRESS_VENT_RIP</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>15</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Press Vent Rip</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_condensing">
            <type>state</type>
            <sensorId>CLIENT_CONDENSING</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>16</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Condensing</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_humidifier">
            <type>state</type>
            <sensorId>CLIENT_HUMIDIFIER</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>17</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client Humidifier PompUmid</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ai1_fault">
            <type>state</type>
            <sensorId>CLIENT_AI1_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>18</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI1 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ai4_fault">
            <type>state</type>
            <sensorId>CLIENT_AI4_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>19</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI4 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ai7_fault">
            <type>state</type>
            <sensorId>CLIENT_AI7_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>20</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI7 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ai13_fault">
            <type>state</type>
            <sensorId>CLIENT_AI13_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>21</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI13 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ai14_fault">
            <type>state</type>
            <sensorId>CLIENT_AI14_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>22</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI14 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ai8_fault">
            <type>state</type>
            <sensorId>CLIENT_AI8_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>23</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI8 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ai9_fault">
            <type>state</type>
            <sensorId>CLIENT_AI9_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>24</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI9 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ai15_fault">
            <type>state</type>
            <sensorId>CLIENT_AI15_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>25</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI15 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

        <stateSensor ruleid="client_ai16_fault">
            <type>state</type>
            <sensorId>CLIENT_AI16_FAULT</sensorId>
            <value>
                <mapValue mapid="notactive_active-vm">
                    <formatNumber>
                        <bitwise_and>
                            <op>
                                <right_shift>
                                    <op><getOid>register2032</getOid></op>
                                    <op>26</op>
                                </right_shift>
                            </op>
                            <op>1</op>
                        </bitwise_and>
                    </formatNumber>
                </mapValue>
            </value>
            <label>Client AI16 Fault</label>
            <enum>notactive_active-em</enum>
            <sensorSet>Alarms Client</sensorSet>
        </stateSensor>

		<valueMap ruleid="ahu_unit_state-vm">
			<valueIn>1</valueIn><valueOut>0</valueOut>
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>2</valueOut>
		</valueMap>

		<enumMap ruleid="ahu_unit_state-em">
			<label>AHU Off</label>
			<label>AHU On</label>
			<label>Unknown</label>
		</enumMap>

		<stateSensor ruleid="ahu_unit_state">
			<type>state</type>
			<sensorId>AHU_UNIT_STATE</sensorId>
			<value>
				<mapValue mapid="ahu_unit_state-vm">
					<getOid>register2044</getOid>
				</mapValue>
			</value>
			<label>AHU Unit State</label>
			<enum>ahu_unit_state-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		
		<valueMap ruleid="season_state_extended-vm">
			<valueIn>1</valueIn><valueOut>0</valueOut>
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>*</valueIn><valueOut>5</valueOut>
		</valueMap>

		<enumMap ruleid="season_state_extended-em">
			<label>Winter</label>
			<label>Summer</label>
			<label>Auto</label>
			<label>Only Fan</label>
			<label>Unknown</label>
		</enumMap>

		<stateSensor ruleid="season_state_extended">
			<type>state</type>
			<sensorId>SEASON_STATE_EXTENDED</sensorId>
			<value>
				<mapValue mapid="season_state_extended-vm">
					<getOid>register2045</getOid>
				</mapValue>
			</value>
			<label>Season State (Extended)</label>
			<enum>season_state_extended-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
				
	</device>

	<protocol>
		<modbus>
			<value_ref_id valid="register195"> <!-- MACHINE_STATE -->
				<function>3</function>
				<start_addr>195</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="register201"> <!-- SETPOINT_SUMMER_SUPPLY -->
				<function>3</function>
				<start_addr>201</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="register205"> <!-- SETPOINT_WINTER_SUPPLY -->
				<function>3</function>
				<start_addr>205</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="register2002"> <!-- DAMPER_RENEWAL_DELIVERY, STATE_UNITS, NONC_ALARM, CONSENT_FAN_OUTLET, CONSENT_BOILER, CONSENT_CHILLER, SEASONAL_ACTIVE, CONSENT_HUMIDIFIER -->
				<function>3</function>
				<start_addr>2002</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register2003"> <!-- HUMIDIFIER_ALARM, CONDENSING_UNIT_ALARM, THERMOSTAT_HEATING_ELEMENT, PRESSURE_FILTER_3, PRESSURE_FILTER_2 -->
				<function>3</function>
				<start_addr>2003</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register2022"> <!-- HUMIDITY_ADJUSTMENT_AI9_OR_AI16 -->
				<function>3</function>
				<start_addr>2022</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register2023"> <!-- OUTDOOR_TEMP_AI4_OR_AI14 -->
				<function>3</function>
				<start_addr>2023</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register2025"> <!-- TEMPERATURE_ADJUSTMENT_AI2 -->
				<function>3</function>
				<start_addr>2025</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register2032"> <!-- CLIENT_AI2_FAULT, CLIENT_PRESS_VENT_MAN, CLIENT_PRESS_FILTER_1, CLIENT_PRESS_FILTER_2, CLIENT_THERMAL_VENT_MAN, CLIENT_THERMOSTAT_RES_ELE, CLIENT_PORTISP_MAN, CLIENT_RIPRESBOARD_SCONNECTED, CLIENT_TREATMENTS_BOARD_SCONNECTED, CLIENT_THERMAL_VENT_RIP, CLIENT_PORTISP_RIP, CLIENT_ANTIFREEZE, CLIENT_PRESS_FILTER_3, CLIENT_PRESS_FILTER_RECOVERY, CLIENT_PRESS_PREFILTER_RECUPERASTORE, CLIENT_PRESS_VENT_RIP, CLIENT_CONDENSING, CLIENT_HUMIDIFIER, CLIENT_AI1_FAULT, CLIENT_AI4_FAULT, CLIENT_AI7_FAULT, CLIENT_AI13_FAULT, CLIENT_AI14_FAULT, CLIENT_AI8_FAULT, CLIENT_AI9_FAULT, CLIENT_AI15_FAULT, CLIENT_AI16_FAULT -->
				<function>3</function>
				<start_addr>2032</start_addr>
				<quantity>4</quantity>
				<type>uint_64</type>
			</value_ref_id>
			<value_ref_id valid="register2044"> <!-- AHU_UNIT_STATE -->
				<function>3</function>
				<start_addr>2044</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register2045"> <!-- SEASON_STATE_EXTENDED -->
				<function>3</function>
				<start_addr>2045</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>

            
			<packet>
				<function>3</function>
				<start_addr>195</start_addr>
				<quantity>2</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>201</start_addr>
				<quantity>2</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>205</start_addr>
				<quantity>2</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>2002</start_addr>
				<quantity>2</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>2022</start_addr>
				<quantity>2</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>2025</start_addr>
				<quantity>1</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>2032</start_addr>
				<quantity>4</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>2044</start_addr>
				<quantity>2</quantity>
			</packet>
		</modbus>
	</protocol>
</APC_DDF>
