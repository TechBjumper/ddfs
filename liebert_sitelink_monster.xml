<?xml version="1.0"?>
<!-- Test Modbus related information -->
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd"
         ddfid="liebert_sitelink_monster" ddfname="Liebert SiteLink Monster" ddfversion="2" canremove="yes">
  <schemaVersion>1.6</schemaVersion>

  <device deviceid="liebert_sitelink_monster">
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST"/>

    <setProductData ruleid="vendordata" field="vendor">Liebert</setProductData>
    <setProductData ruleid="modeldata" field="model">SiteLink</setProductData>
    <!-- <setProductData ruleid="typedata" field="type">Power Meter</setProductData> -->
    <setDefaultLabel ruleid="labeldata"><sysHostname/> - Slave <commSetting field="slaveaddress"/></setDefaultLabel>

    <stateSensor ruleid="crac-8-leak">
        <type>state</type>
        <sensorId>CRAC_8_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 0 -->
                    <bitwise_and>
                        <op><getOid>register289</getOid></op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 8 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-8-alarm">
        <type>state</type>
        <sensorId>CRAC_8_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 1 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>1</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 8 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="crac-11-leak">
        <type>state</type>
        <sensorId>CRAC_11_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 2 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>2</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 11 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-11-alarm">
        <type>state</type>
        <sensorId>CRAC_11_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 3 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>3</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 11 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="crac-10-leak">
        <type>state</type>
        <sensorId>CRAC_10_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 4 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>4</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 10 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-10-alarm">
        <type>state</type>
        <sensorId>CRAC_10_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 5 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>5</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 10 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="crac-9-leak">
        <type>state</type>
        <sensorId>CRAC_9_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 6 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>6</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 9 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-9-alarm">
        <type>state</type>
        <sensorId>CRAC_9_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 7 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>7</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 9 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="crac-5-leak">
        <type>state</type>
        <sensorId>CRAC_5_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 8 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>8</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 5 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-5-alarm">
        <type>state</type>
        <sensorId>CRAC_5_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 9 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>9</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 5 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="crac-2-leak">
        <type>state</type>
        <sensorId>CRAC_2_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 10 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register289</getOid></op>
                                <op>10</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 2 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-2-alarm">
        <type>state</type>
        <sensorId>CRAC_2_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 0 -->
                    <bitwise_and>
                        <op><getOid>register290</getOid></op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 2 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="crac-1-leak">
        <type>state</type>
        <sensorId>CRAC_1_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 1 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register290</getOid></op>
                                <op>1</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 1 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-1-alarm">
        <type>state</type>
        <sensorId>CRAC_1_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 2 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register290</getOid></op>
                                <op>2</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 1 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="water-flow">
        <type>state</type>
        <sensorId>WATER_FLOW_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 3 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register290</getOid></op>
                                <op>3</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>Water Flow</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
        
    <stateSensor ruleid="crac-3-leak">
        <type>state</type>
        <sensorId>CRAC_3_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 5 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register290</getOid></op>
                                <op>5</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 3 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-3-alarm">
        <type>state</type>
        <sensorId>CRAC_3_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 6 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register290</getOid></op>
                                <op>6</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 3 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="crac-4-leak">
        <type>state</type>
        <sensorId>CRAC_4_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 7 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register290</getOid></op>
                                <op>7</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 4 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-4-alarm">
        <type>state</type>
        <sensorId>CRAC_4_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 8 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register290</getOid></op>
                                <op>8</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 4 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="crac-6-leak">
        <type>state</type>
        <sensorId>CRAC_6_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 9 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register290</getOid></op>
                                <op>9</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 6 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-6-alarm">
        <type>state</type>
        <sensorId>CRAC_6_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 10 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register290</getOid></op>
                                <op>10</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 6 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="crac-7-leak">
        <type>state</type>
        <sensorId>CRAC_7_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 0 -->
                    <bitwise_and>
                        <op><getOid>register291</getOid></op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 7 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="crac-7-alarm">
        <type>state</type>
        <sensorId>CRAC_7_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 1 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register291</getOid></op>
                                <op>1</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>CRAC 7 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="ac-1-leak">
        <type>state</type>
        <sensorId>AC_1_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 0 -->
                    <bitwise_and>
                        <op><getOid>register294</getOid></op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>AC 1 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="ac-1-alarm">
        <type>state</type>
        <sensorId>AC_1_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 1 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register294</getOid></op>
                                <op>1</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>AC 1 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="ac-2-leak">
        <type>state</type>
        <sensorId>AC_2_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 2 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register294</getOid></op>
                                <op>2</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>AC 2 Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>

    <stateSensor ruleid="ac-2-alarm">
        <type>state</type>
        <sensorId>AC_2_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 3 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register294</getOid></op>
                                <op>3</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>AC 2 Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>
    
    <stateSensor ruleid="low-fuel">
        <type>state</type>
        <sensorId>LOW_FUEL_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 6 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register294</getOid></op>
                                <op>6</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>Low Fuel</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>   

    <stateSensor ruleid="high-fuel">
        <type>state</type>
        <sensorId>HIGH_FUEL_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 7 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register294</getOid></op>
                                <op>7</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>High Fuel</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>   

    <stateSensor ruleid="ups-b-general-alarm">
        <type>state</type>
        <sensorId>UPS_B_GENERAL_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 8 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register294</getOid></op>
                                <op>8</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>UPS B General Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>   

    <stateSensor ruleid="ups-b-on-battery">
        <type>state</type>
        <sensorId>UPS_B_ON_BATTERY_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 9 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register294</getOid></op>
                                <op>9</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>UPS B On Battery</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>   

    <stateSensor ruleid="ups-a-general-alarm">
        <type>state</type>
        <sensorId>UPS_A_GENERAL_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 10 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register294</getOid></op>
                                <op>10</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>UPS A General Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>   

    <stateSensor ruleid="ups-a-on-battery">
        <type>state</type>
        <sensorId>UPS_A_ON_BATTERY_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 0 -->
                    <bitwise_and>
                        <op><getOid>register295</getOid></op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>UPS A On Battery</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor>   

    <stateSensor ruleid="generator-alarm">
        <type>state</type>
        <sensorId>GENERATOR_ALARM_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 1 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>1</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>Generator Alarm</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 

    <stateSensor ruleid="fire-1">
        <type>state</type>
        <sensorId>FIRE_1_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 2 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>2</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>Fire 1st</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 

    <stateSensor ruleid="fire-2">
        <type>state</type>
        <sensorId>FIRE_2_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 3 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>3</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>Fire 2nd</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="fire-trb">
        <type>state</type>
        <sensorId>FIRE_TRB_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 4 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>4</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>Fire TRB</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="pdu-a">
        <type>state</type>
        <sensorId>PDU_A_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 5 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>5</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>PDU A</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="pdu-b">
        <type>state</type>
        <sensorId>PDU_B_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 6 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>6</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>PDU B</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="pdu-c">
        <type>state</type>
        <sensorId>PDU_C_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 7 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>7</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>PDU C</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="pdu-d">
        <type>state</type>
        <sensorId>PDU_D_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 8 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>8</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>PDU D</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="pdu-f">
        <type>state</type>
        <sensorId>PDU_F_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 9 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>9</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>PDU F</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="pdu-h">
        <type>state</type>
        <sensorId>PDU_H_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 10 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register295</getOid></op>
                                <op>10</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>PDU H</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="dc-leak">
        <type>state</type>
        <sensorId>DC_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 0 -->
                    <bitwise_and>
                        <op><getOid>register296</getOid></op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber>            
            </mapValue>
        </value>
        <label>DC Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <numSensor ruleid="datacenter-temp">
      <type>temp</type>
      <sensorId>DATACENTER_TEMP</sensorId>
      <value>
          <!-- convert fahrenheit to celcius-->
          <div>
              <op>
                  <sub>
                      <op><getOid>datacentertemp</getOid></op>
                      <op>32</op>
                  </sub>
              </op>
              <op>1.8</op>
          </div>
      </value>
      <label>Datacenter Temp</label>
      <sensorSet>Temperature Sensors</sensorSet>
    </numSensor>

    <numSensor ruleid="ups-b-temp">
      <type>temp</type>
      <sensorId>UPS_B_TEMP</sensorId>
      <value>
          <!-- convert fahrenheit to celcius-->
          <div>
              <op>
                  <sub>
                      <op><getOid>upsbtemp</getOid></op>
                      <op>32</op>
                  </sub>
              </op>
              <op>1.8</op>
          </div>
      </value>
      <label>UPS B Temp</label>
      <sensorSet>Temperature Sensors</sensorSet>
    </numSensor>

    <stateSensor ruleid="pump-leak">
        <type>state</type>
        <sensorId>PUMP_LEAK_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 5 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register299</getOid></op>
                                <op>5</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber> 
            </mapValue>
        </value>
        <label>Pump Leak</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 

    <stateSensor ruleid="glycol-high-temp">
        <type>state</type>
        <sensorId>GLYCOL_HIGH_TEMP_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 6 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register299</getOid></op>
                                <op>6</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber> 
            </mapValue>
        </value>
        <label>Glycol High Temp</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="pump-failure">
        <type>state</type>
        <sensorId>PUMP_FAILURE_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 7 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register299</getOid></op>
                                <op>7</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber> 
            </mapValue>
        </value>
        <label>Pump Failure</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="emp-atsa">
        <type>state</type>
        <sensorId>EMP_ATSA_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 0 -->
                    <bitwise_and>
                        <op><getOid>register300</getOid></op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber> 
            </mapValue>
        </value>
        <label>Emp ATSA</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <stateSensor ruleid="emp-atsb">
        <type>state</type>
        <sensorId>EMP_ATSB_STATUS</sensorId>
        <value>
            <mapValue mapid="faultstatus-vm">
                <formatNumber>
                    <!-- Determined by bit 1 -->
                    <bitwise_and>
                        <op>
                            <right_shift>
                                <op><getOid>register300</getOid></op>
                                <op>1</op>
                            </right_shift>
                        </op>
                        <op>1</op>
                    </bitwise_and>
                </formatNumber> 
            </mapValue>
        </value>
        <label>Emp ATSB</label>
        <enum>faultstatus-em</enum>
        <sensorSet>Status Sensors</sensorSet>
    </stateSensor> 
    
    <!-- Fault Status value map -->
    <valueMap ruleid="faultstatus-vm">
        <valueIn>0</valueIn><valueOut>0</valueOut>
        <valueIn>1</valueIn><valueOut>1</valueOut>
        <valueIn>*</valueIn><valueOut>0</valueOut>
    </valueMap>

    <!-- Fault Status Enums -->
    <enumMap ruleid="faultstatus-em">
        <label>Normal</label>
        <label>Fault</label>
    </enumMap>

    <alarmFlags2 ruleid="register289alarms">
      <value><getOid>register289</getOid></value>

      <alarmFlagsTest mask="1" match="1" log="no">
        <name>
          <activeText>CRAC 8 Leak</activeText>
          <inactiveText>CRAC 8 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 8 Leak condition.</activeText>
          <inactiveText>The CRAC 8 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="2" match="2" log="no">
        <name>
          <activeText>CRAC 8 Alarm</activeText>
          <inactiveText>CRAC 8 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 8 Alarm condition.</activeText>
          <inactiveText>The CRAC 8 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="4" match="4" log="no">
        <name>
          <activeText>CRAC 11 Leak</activeText>
          <inactiveText>CRAC 11 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 11 Leak condition.</activeText>
          <inactiveText>The CRAC 11 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="8" match="8" log="no">
        <name>
          <activeText>CRAC 11 Alarm</activeText>
          <inactiveText>CRAC 11 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 11 Alarm condition.</activeText>
          <inactiveText>The CRAC 11 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="10" match="10" log="no">
        <name>
          <activeText>CRAC 10 Leak</activeText>
          <inactiveText>CRAC 10 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 10 Leak condition.</activeText>
          <inactiveText>The CRAC 10 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="20" match="20" log="no">
        <name>
          <activeText>CRAC 10 Alarm</activeText>
          <inactiveText>CRAC 10 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 10 Alarm condition.</activeText>
          <inactiveText>The CRAC 10 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="40" match="40" log="no">
        <name>
          <activeText>CRAC 9 Leak</activeText>
          <inactiveText>CRAC 9 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 9 Leak condition.</activeText>
          <inactiveText>The CRAC 9 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="80" match="80" log="no">
        <name>
          <activeText>CRAC 9 Alarm</activeText>
          <inactiveText>CRAC 9 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 9 Alarm condition.</activeText>
          <inactiveText>The CRAC 9 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="100" match="100" log="no">
        <name>
          <activeText>CRAC 5 Leak</activeText>
          <inactiveText>CRAC 5 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 5 Leak condition.</activeText>
          <inactiveText>The CRAC 5 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="200" match="200" log="no">
        <name>
          <activeText>CRAC 5 Alarm</activeText>
          <inactiveText>CRAC 5 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 5 Alarm condition.</activeText>
          <inactiveText>The CRAC 5 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="400" match="400" log="no">
        <name>
          <activeText>CRAC 2 Leak</activeText>
          <inactiveText>CRAC 2 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 2 Leak condition.</activeText>
          <inactiveText>The CRAC 2 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

    </alarmFlags2>

    <alarmFlags2 ruleid="register290alarms">
      <value><getOid>register290</getOid></value>

      <alarmFlagsTest mask="1" match="1" log="no">
        <name>
          <activeText>CRAC 2 Alarm</activeText>
          <inactiveText>CRAC 2 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 2 Alarm condition.</activeText>
          <inactiveText>The CRAC 2 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="2" match="2" log="no">
        <name>
          <activeText>CRAC 1 Leak</activeText>
          <inactiveText>CRAC 1 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 1 Leak condition.</activeText>
          <inactiveText>The CRAC 1 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="4" match="4" log="no">
        <name>
          <activeText>CRAC 1 Alarm</activeText>
          <inactiveText>CRAC 1 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 1 Alarm condition.</activeText>
          <inactiveText>The CRAC 1 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="8" match="8" log="no">
        <name>
          <activeText>Water Flow Alarm</activeText>
          <inactiveText>Water Flow Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Water Flow Alarm condition.</activeText>
          <inactiveText>The Water Flow Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="20" match="20" log="no">
        <name>
          <activeText>CRAC 3 Leak</activeText>
          <inactiveText>CRAC 3 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 3 Leak condition.</activeText>
          <inactiveText>The CRAC 3 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="40" match="40" log="no">
        <name>
          <activeText>CRAC 3 Alarm</activeText>
          <inactiveText>CRAC 3 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 3 Alarm condition.</activeText>
          <inactiveText>The CRAC 3 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="80" match="80" log="no">
        <name>
          <activeText>CRAC 4 Leak</activeText>
          <inactiveText>CRAC 4 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 4 Leak condition.</activeText>
          <inactiveText>The CRAC 4 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="100" match="100" log="no">
        <name>
          <activeText>CRAC 4 Alarm</activeText>
          <inactiveText>CRAC 4 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 4 Alarm condition.</activeText>
          <inactiveText>The CRAC 4 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="200" match="200" log="no">
        <name>
          <activeText>CRAC 6 Leak</activeText>
          <inactiveText>CRAC 6 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 6 Leak condition.</activeText>
          <inactiveText>The CRAC 6 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="400" match="400" log="no">
        <name>
          <activeText>CRAC 6 Alarm</activeText>
          <inactiveText>CRAC 6 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 6 Alarm condition.</activeText>
          <inactiveText>The CRAC 6 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

    </alarmFlags2>

    <alarmFlags2 ruleid="register291alarms">
      <value><getOid>register291</getOid></value>

      <alarmFlagsTest mask="1" match="1" log="no">
        <name>
          <activeText>CRAC 7 Leak</activeText>
          <inactiveText>CRAC 7 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 7 Leak condition.</activeText>
          <inactiveText>The CRAC 7 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="2" match="2" log="no">
        <name>
          <activeText>CRAC 7 Alarm</activeText>
          <inactiveText>CRAC 7 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a CRAC 7 Alarm condition.</activeText>
          <inactiveText>The CRAC 7 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

    </alarmFlags2>

    <alarmFlags2 ruleid="register294alarms">
      <value><getOid>register294</getOid></value>

      <alarmFlagsTest mask="1" match="1" log="no">
        <name>
          <activeText>AC 1 Leak</activeText>
          <inactiveText>AC 1 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a AC 1 Leak condition.</activeText>
          <inactiveText>The AC 1 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="2" match="2" log="no">
        <name>
          <activeText>AC 1 Alarm</activeText>
          <inactiveText>AC 1 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a AC 1 Alarm condition.</activeText>
          <inactiveText>The AC 1 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="4" match="4" log="no">
        <name>
          <activeText>AC 2 Leak</activeText>
          <inactiveText>AC 2 Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a AC 2 Leak condition.</activeText>
          <inactiveText>The AC 2 Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="8" match="8" log="no">
        <name>
          <activeText>AC 2 Alarm</activeText>
          <inactiveText>AC 2 Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a AC 2 Alarm condition.</activeText>
          <inactiveText>The AC 2 Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="40" match="40" log="no">
        <name>
          <activeText>Low Fuel Alarm</activeText>
          <inactiveText>Low Fuel Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Low Fuel Alarm condition.</activeText>
          <inactiveText>The Low Fuel Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="80" match="80" log="no">
        <name>
          <activeText>High Fuel Alarm</activeText>
          <inactiveText>High Fuel Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a High Fuel Alarm condition.</activeText>
          <inactiveText>The High Fuel Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="100" match="100" log="no">
        <name>
          <activeText>UPS B General Alarm</activeText>
          <inactiveText>UPS B General Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a UPS B General Alarm condition.</activeText>
          <inactiveText>The UPS B General Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="200" match="200" log="no">
        <name>
          <activeText>UPS B On Battery Alarm</activeText>
          <inactiveText>UPS B On Battery Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a UPS B On Battery Alarm condition.</activeText>
          <inactiveText>The UPS B On Battery Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="400" match="400" log="no">
        <name>
          <activeText>UPS A General Alarm</activeText>
          <inactiveText>UPS A General Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a UPS A General Alarm condition.</activeText>
          <inactiveText>The UPS A General Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>
    </alarmFlags2>

    <alarmFlags2 ruleid="register295alarms">
      <value><getOid>register295</getOid></value>

      <alarmFlagsTest mask="1" match="1" log="no">
        <name>
          <activeText>UPS A On Battery Alarm</activeText>
          <inactiveText>UPS A On Battery Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a UPS A On Battery Alarm condition.</activeText>
          <inactiveText>The UPS A On Battery Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="2" match="2" log="no">
        <name>
          <activeText>General Alarm</activeText>
          <inactiveText>General Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a General Alarm condition.</activeText>
          <inactiveText>The General Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="4" match="4" log="no">
        <name>
          <activeText>Fire 1st Alarm</activeText>
          <inactiveText>Fire 1st Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Fire 1st Alarm condition.</activeText>
          <inactiveText>The Fire 1st Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="8" match="8" log="no">
        <name>
          <activeText>Fire 2nd Alarm</activeText>
          <inactiveText>Fire 2nd Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Fire 2nd Alarm condition.</activeText>
          <inactiveText>The Fire 2nd Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="10" match="10" log="no">
        <name>
          <activeText>Fire TRB Alarm</activeText>
          <inactiveText>Fire TRB Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Fire TRB Alarm condition.</activeText>
          <inactiveText>The Fire TRB Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="20" match="20" log="no">
        <name>
          <activeText>PDU A Alarm</activeText>
          <inactiveText>PDU A Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a PDU A Alarm condition.</activeText>
          <inactiveText>The PDU A Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="40" match="40" log="no">
        <name>
          <activeText>PDU B Alarm</activeText>
          <inactiveText>PDU B Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a PDU B Alarm condition.</activeText>
          <inactiveText>The PDU B Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="80" match="80" log="no">
        <name>
          <activeText>PDU C Alarm</activeText>
          <inactiveText>PDU C Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a PDU C Alarm condition.</activeText>
          <inactiveText>The PDU C Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="100" match="100" log="no">
        <name>
          <activeText>PDU D Alarm</activeText>
          <inactiveText>PDU D Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a PDU D Alarm condition.</activeText>
          <inactiveText>The PDU D Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="200" match="200" log="no">
        <name>
          <activeText>PDU F Alarm</activeText>
          <inactiveText>PDU F Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a PDU F Alarm condition.</activeText>
          <inactiveText>The PDU F Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="400" match="400" log="no">
        <name>
          <activeText>PDU H Alarm</activeText>
          <inactiveText>PDU H Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a PDU A Alarm condition.</activeText>
          <inactiveText>The PDU A Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

    </alarmFlags2>

    <alarmFlags2 ruleid="register296alarms">
      <value><getOid>register296</getOid></value>

      <alarmFlagsTest mask="1" match="1" log="no">
        <name>
          <activeText>DC Leak</activeText>
          <inactiveText>DC Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a DC Leak condition.</activeText>
          <inactiveText>The DC Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

    </alarmFlags2>

    <alarmFlags2 ruleid="register299alarms">
      <value><getOid>register299</getOid></value>

      <alarmFlagsTest mask="20" match="20" log="no">
        <name>
          <activeText>Pump Leak</activeText>
          <inactiveText>Pump Leak Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Pump Leak condition.</activeText>
          <inactiveText>The Pump Leak condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="40" match="40" log="no">
        <name>
          <activeText>Glycol High Temp Alarm</activeText>
          <inactiveText>Glycol High Temp Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Glycol High Temp Alarm condition.</activeText>
          <inactiveText>The Glycol High Temp Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="80" match="80" log="no">
        <name>
          <activeText>Pump Failure</activeText>
          <inactiveText>Pump Failure Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Pump Failure condition.</activeText>
          <inactiveText>The Pump Failure condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

    </alarmFlags2>

    <alarmFlags2 ruleid="register300alarms">
      <value><getOid>register300</getOid></value>

      <alarmFlagsTest mask="1" match="1" log="no">
        <name>
          <activeText>Emp ATSA Alarm</activeText>
          <inactiveText>Emp ATSA Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Emp ATSA Alarm condition.</activeText>
          <inactiveText>The Emp ATSA Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

      <alarmFlagsTest mask="2" match="2" log="no">
        <name>
          <activeText>Emp ATSB Alarm</activeText>
          <inactiveText>Emp ATSB Alarm Cleared</inactiveText>
        </name>
        <severity>error</severity>
        <category>Output</category>
        <description>
          <activeText>The system has detected a Emp ATSB Alarm condition.</activeText>
          <inactiveText>The Emp ATSB Alarm condition has been cleared.</inactiveText>
        </description>
      </alarmFlagsTest>

    </alarmFlags2>
  </device>

  <protocol>
    <modbus>
      <!-- Register map starts at 40001, keep naming convention but offset addresses by 1 -->
      <value_ref_id valid="datacentertemp">
        <function>3</function>
        <start_addr>24</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="upsbtemp">
        <function>3</function>
        <start_addr>25</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="register289">
        <function>3</function>
        <start_addr>288</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="register290">
        <function>3</function>
        <start_addr>289</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="register291">
        <function>3</function>
        <start_addr>290</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="register294">
        <function>3</function>
        <start_addr>293</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="register295">
        <function>3</function>
        <start_addr>294</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="register296">
        <function>3</function>
        <start_addr>295</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="register299">
        <function>3</function>
        <start_addr>298</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="register300">
        <function>3</function>
        <start_addr>299</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>

      <!-- Bulk read for performance -->
      <!-- Register map starts at 40001, keep naming convention but offset addresses by 1 -->
      <packet>
        <function>3</function>
        <start_addr>24</start_addr>
        <quantity>2</quantity>
      </packet>
      <packet>
        <function>3</function>
        <start_addr>288</start_addr>
        <quantity>3</quantity>
      </packet>
      <packet>
        <function>3</function>
        <start_addr>293</start_addr>
        <quantity>3</quantity>
      </packet>
      <packet>
        <function>3</function>
        <start_addr>298</start_addr>
        <quantity>2</quantity>
      </packet>
     </modbus>
  </protocol>
</APC_DDF>
