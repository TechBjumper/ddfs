<?xml version="1.0"?>
<!-- Test Modbus related information -->
<APC_DDF
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd"
	ddfid="micrologic_50p"
	ddfname="Micrologic 5.0p"
	ddfversion="3">
	<schemaVersion>1.6</schemaVersion>
	<!-- DDF_424 -->
	<device deviceid="micrologic_50p">
		<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST"/>

		<setProductData ruleid="vendordata" field="vendor">Schneider Electric</setProductData>
		<setProductData ruleid="modeldata" field="model">Micrologic 5.0p</setProductData>
		<setProductData ruleid="typedata" field="type">Power Meter</setProductData>
		<setDefaultLabel ruleid="labeldata"><sysHostname/> - Slave <commSetting field="slaveaddress"/></setDefaultLabel>

		<numSensor ruleid="voltage_an">
			<type>voltage</type>
			<sensorId>VOLTAGE_LN_1</sensorId>
			<value>
				<getOid>voltagean</getOid>
			</value>
			<label>Voltage, A-N</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>	

		<numSensor ruleid="voltage_bn">
			<type>voltage</type>
			<sensorId>VOLTAGE_LN_2</sensorId>
			<value>
				<getOid>voltagebn</getOid>
			</value>
			<label>Voltage, B-N</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>	

		<numSensor ruleid="voltage_cn">
			<type>voltage</type>
			<sensorId>VOLTAGE_LN_3</sensorId>
			<value>
				<getOid>voltagecn</getOid>
			</value>
			<label>Voltage, C-N</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>		  

		<numSensor ruleid="current_a">
			<type>amperage</type>
			<sensorId>CURRENT_1</sensorId>
			<value>
				<getOid>currenta</getOid>
			</value>
			<label>Current, A</label>
			<sensorSet>Current Sensors</sensorSet>
		</numSensor>			

		<numSensor ruleid="current_b">
			<type>amperage</type>
			<sensorId>CURRENT_2</sensorId>
			<value>
				<getOid>currentb</getOid>
			</value>
			<label>Current, B</label>
			<sensorSet>Current Sensors</sensorSet>
		</numSensor>			    	    		    	  

		<numSensor ruleid="current_c">
			<type>amperage</type>
			<sensorId>CURRENT_3</sensorId>
			<value>
				<getOid>currentc</getOid>
			</value>
			<label>Current, C</label>
			<sensorSet>Current Sensors</sensorSet>
		</numSensor>			

		<numSensor ruleid="voltage_ab">
			<type>voltage</type>
			<sensorId>VOLTAGE_LL_1</sensorId>
			<value>
				<getOid>voltageab</getOid>
			</value>
			<label>Voltage, A-B</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>	

		<numSensor ruleid="voltage_bc">
			<type>voltage</type>
			<sensorId>VOLTAGE_LL_2</sensorId>
			<value>
				<getOid>voltagebc</getOid>
			</value>
			<label>Voltage, B-C</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>	

		<numSensor ruleid="voltage_ca">
			<type>voltage</type>
			<sensorId>VOLTAGE_LL_3</sensorId>
			<value>
				<getOid>voltageca</getOid>
			</value>
			<label>Voltage, C-A</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>	

		<numSensor ruleid="apparent_power_a">
			<type>num/powerKVA</type>
			<sensorId>POWER_KVA_1</sensorId>
			<value>
				<getOid>apparentpowera</getOid>
			</value>
			<label>Apparent Power, A</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>	 	 

		<numSensor ruleid="apparent_power_b">
			<type>num/powerKVA</type>
			<sensorId>POWER_KVA_2</sensorId>
			<value>
				<getOid>apparentpowerb</getOid>
			</value>
			<label>Apparent Power, B</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>	 	 	 

		<numSensor ruleid="apparent_power_c">
			<type>num/powerKVA</type>
			<sensorId>POWER_KVA_3</sensorId>
			<value>
				<getOid>apparentpowerc</getOid>
			</value>
			<label>Apparent Power, C</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>	 	 	    

		<numSensor ruleid="apparent_power_tot">
			<type>num/powerKVA</type>
			<sensorId>TOTAL_POWER_KVA_1</sensorId>
			<value>
				<getOid>apparentpowertot</getOid>
			</value>
			<label>Apparent Power, Total</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>  

		<numSensor ruleid="apparent_power_peak">
			<type>num/powerKVA</type>
			<sensorId>PEAK_POWER_KVA_1</sensorId>
			<value>
				<getOid>apparentpowerpeak</getOid>
			</value>
			<label>Apparent Power, Peak</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>	

		<numSensor ruleid="real_power_a">
			<type>num/powerKW</type>
			<sensorId>POWER_KW_1</sensorId>
			<value>
				<getOid>realpowera</getOid>
			</value>
			<label>Real Power, A</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>	

		<numSensor ruleid="real_power_b">
			<type>num/powerKW</type>
			<sensorId>POWER_KW_2</sensorId>
			<value>
				<getOid>realpowerb</getOid>
			</value>
			<label>Real Power, B</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>	

		<numSensor ruleid="real_power_c">
			<type>num/powerKW</type>
			<sensorId>POWER_KW_3</sensorId>
			<value>
				<getOid>realpowerc</getOid>
			</value>
			<label>Real Power, C</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>	 	  

		<numSensor ruleid="real_power_tot">
			<type>num/powerKW</type>
			<sensorId>TOTAL_POWER_KW_1</sensorId>
			<value>
				<getOid>realpowertot</getOid>
			</value>
			<label>Real Power, Total</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>                    

		<numSensor ruleid="real_power_peak">
			<type>num/powerKW</type>
			<sensorId>PEAK_POWER_KW_1</sensorId>
			<value>
				<getOid>realpowerpeak</getOid>
			</value>
			<label>Real Power, Peak</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>	

	</device>

	<protocol>
		<modbus>	
			<value_ref_id valid="voltageab">
				<function>3</function>
				<start_addr>999</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 	
			<value_ref_id valid="voltagebc">
				<function>3</function>
				<start_addr>1000</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 		  			  		  	  	  		  
			<value_ref_id valid="voltageca">
				<function>3</function>
				<start_addr>1001</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 	
			<value_ref_id valid="voltagean">
				<function>3</function>
				<start_addr>1002</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 	
			<value_ref_id valid="voltagebn">
				<function>3</function>
				<start_addr>1003</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 		  			  		  	  	  		  
			<value_ref_id valid="voltagecn">
				<function>3</function>
				<start_addr>1004</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 			
			<value_ref_id valid="currenta">
				<function>3</function>
				<start_addr>1015</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 		
			<value_ref_id valid="currentb">
				<function>3</function>
				<start_addr>1016</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 	
			<value_ref_id valid="currentc">
				<function>3</function>
				<start_addr>1017</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 		
			<value_ref_id valid="realpowera">
				<function>3</function>
				<start_addr>1033</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 		
			<value_ref_id valid="realpowerb">
				<function>3</function>
				<start_addr>1034</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 			
			<value_ref_id valid="realpowerc">
				<function>3</function>
				<start_addr>1035</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 		
			<value_ref_id valid="realpowertot">
				<function>3</function>
				<start_addr>1036</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 		
			<value_ref_id valid="apparentpowera">
				<function>3</function>
				<start_addr>1041</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 		
			<value_ref_id valid="apparentpowerb">
				<function>3</function>
				<start_addr>1042</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 			
			<value_ref_id valid="apparentpowerc">
				<function>3</function>
				<start_addr>1043</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 		
			<value_ref_id valid="apparentpowertot">
				<function>3</function>
				<start_addr>1044</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 
			<value_ref_id valid="realpowerpeak">
				<function>3</function>
				<start_addr>2223</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 
			<value_ref_id valid="apparentpowerpeak">
				<function>3</function>
				<start_addr>2235</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id> 

			<packet>
				<function>3</function>
				<start_addr>999</start_addr>
				<quantity>46</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>2223</start_addr>
				<quantity>1</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>2235</start_addr>
				<quantity>1</quantity>
			</packet>
		</modbus>
	</protocol>
</APC_DDF>	
