<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="apc_ddf_1_6.xsl"?>
<APC_DDF
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd"
	ddfid="advantech_adam_4150"
	ddfname="Advantech ADAM 4150"
	ddfversion="1"
	canremove="yes">
	<schemaVersion>1.6</schemaVersion>
	<device deviceid="advantech_adam_4150">
		<setProductData ruleid="vendordata" field="vendor">Advantech</setProductData>
		<setProductData ruleid="modeldata" field="model">ADAM 4150</setProductData>
		<setProductData ruleid="typedata" field="type">Environmental Monitor</setProductData>
		<setDefaultLabel ruleid="labeldata"><sysHostname/> - Slave <commSetting field="slaveaddress"/></setDefaultLabel>

		<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST"/>

		<stateSensor ruleid="state1">
			<type>state</type>
			<sensorId>STATE1</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE1</getOid>
				</mapValue>
			</value>
			<label>Digital Input 0</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state2">
			<type>state</type>
			<sensorId>STATE2</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE2</getOid>
				</mapValue>
			</value>
			<label>Digital Input 1</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state3">
			<type>state</type>
			<sensorId>STATE3</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE3</getOid>
				</mapValue>
			</value>
			<label>Digital Input 2</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state4">
			<type>state</type>
			<sensorId>STATE4</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE4</getOid>
				</mapValue>
			</value>
			<label>Digital Input 3</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state5">
			<type>state</type>
			<sensorId>STATE5</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE5</getOid>
				</mapValue>
			</value>
			<label>Digital Input 4</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state6">
			<type>state</type>
			<sensorId>STATE6</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE6</getOid>
				</mapValue>
			</value>
			<label>Digital Input 5</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state7">
			<type>state</type>
			<sensorId>STATE7</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE7</getOid>
				</mapValue>
			</value>
			<label>Digital Input 6</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state33">
			<type>state</type>
			<sensorId>STATE33</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE33</getOid>
				</mapValue>
			</value>
			<label>Input 0 Counter Mode</label>
			<enum>startStop-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state36">
			<type>state</type>
			<sensorId>STATE36</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE36</getOid>
				</mapValue>
			</value>
			<label>Input 0 Latch Status</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state37">
			<type>state</type>
			<sensorId>STATE37</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE37</getOid>
				</mapValue>
			</value>
			<label>Input 1 Counter Mode</label>
			<enum>startStop-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state40">
			<type>state</type>
			<sensorId>STATE40</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE40</getOid>
				</mapValue>
			</value>
			<label>Input 1 Latch Status</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state41">
			<type>state</type>
			<sensorId>STATE41</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE41</getOid>
				</mapValue>
			</value>
			<label>Input 2 Counter Mode</label>
			<enum>startStop-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state44">
			<type>state</type>
			<sensorId>STATE44</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE44</getOid>
				</mapValue>
			</value>
			<label>Input 2 Latch Status</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state45">
			<type>state</type>
			<sensorId>STATE45</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE45</getOid>
				</mapValue>
			</value>
			<label>Input 3 Counter Mode</label>
			<enum>startStop-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state48">
			<type>state</type>
			<sensorId>STATE48</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE48</getOid>
				</mapValue>
			</value>
			<label>Input 3 Latch Status</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state49">
			<type>state</type>
			<sensorId>STATE49</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE49</getOid>
				</mapValue>
			</value>
			<label>Input 4 Counter Mode</label>
			<enum>startStop-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state52">
			<type>state</type>
			<sensorId>STATE52</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE52</getOid>
				</mapValue>
			</value>
			<label>Input 4 Latch Status</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state53">
			<type>state</type>
			<sensorId>STATE53</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE53</getOid>
				</mapValue>
			</value>
			<label>Input 5 Counter Mode</label>
			<enum>startStop-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state56">
			<type>state</type>
			<sensorId>STATE56</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE56</getOid>
				</mapValue>
			</value>
			<label>Input 5 Latch Status</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state57">
			<type>state</type>
			<sensorId>STATE57</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE57</getOid>
				</mapValue>
			</value>
			<label>Input 6 Counter Mode</label>
			<enum>startStop-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<stateSensor ruleid="state60">
			<type>state</type>
			<sensorId>STATE60</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>STATE60</getOid>
				</mapValue>
			</value>
			<label>Input 6 Latch Status</label>
			<enum>onOff-em</enum>
			<sensorSet></sensorSet>
		</stateSensor>
		<numSensor ruleid="num1">
			<type>num</type>
			<units></units>
			<sensorId>NUM1</sensorId>
			<value>
				<mult>
				<op><getOid>NUM1</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Input 0 Freq. Count</label>
			<sensorSet></sensorSet>
		</numSensor>
		<numSensor ruleid="num3">
			<type>num</type>
			<units></units>
			<sensorId>NUM3</sensorId>
			<value>
				<mult>
				<op><getOid>NUM3</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Input 1 Freq. Count</label>
			<sensorSet></sensorSet>
		</numSensor>
		<numSensor ruleid="num5">
			<type>num</type>
			<units></units>
			<sensorId>NUM5</sensorId>
			<value>
				<mult>
				<op><getOid>NUM5</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Input 2 Freq. Count</label>
			<sensorSet></sensorSet>
		</numSensor>
		<numSensor ruleid="num7">
			<type>num</type>
			<units></units>
			<sensorId>NUM7</sensorId>
			<value>
				<mult>
				<op><getOid>NUM7</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Input 3 Freq. Count</label>
			<sensorSet></sensorSet>
		</numSensor>
		<numSensor ruleid="num9">
			<type>num</type>
			<units></units>
			<sensorId>NUM9</sensorId>
			<value>
				<mult>
				<op><getOid>NUM9</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Input 4 Freq. Count</label>
			<sensorSet></sensorSet>
		</numSensor>
		<numSensor ruleid="num11">
			<type>num</type>
			<units></units>
			<sensorId>NUM11</sensorId>
			<value>
				<mult>
				<op><getOid>NUM11</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Input 5 Freq. Count</label>
			<sensorSet></sensorSet>
		</numSensor>
		<numSensor ruleid="num13">
			<type>num</type>
			<units></units>
			<sensorId>NUM13</sensorId>
			<value>
				<mult>
				<op><getOid>NUM13</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Input 6 Freq. Count</label>
			<sensorSet></sensorSet>
		</numSensor>
		<valueMap ruleid="binaryDefaultZero-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="onOff-em">
			<label>Off</label>
			<label>On</label>
		</enumMap>
		<enumMap ruleid="trueFalse-em">
			<label>False</label>
			<label>True</label>
		</enumMap>
		<enumMap ruleid="startStop-em">
			<label>Stop</label>
			<label>Start</label>
		</enumMap>

	</device>
	<protocol>
		<modbus>
			<value_ref_id valid="STATE1">
				<function>1</function>
				<start_addr>0</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE2">
				<function>1</function>
				<start_addr>1</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE3">
				<function>1</function>
				<start_addr>2</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE4">
				<function>1</function>
				<start_addr>3</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE5">
				<function>1</function>
				<start_addr>4</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE6">
				<function>1</function>
				<start_addr>5</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE7">
				<function>1</function>
				<start_addr>6</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE33">
				<function>1</function>
				<start_addr>32</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE36">
				<function>1</function>
				<start_addr>35</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE37">
				<function>1</function>
				<start_addr>36</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE40">
				<function>1</function>
				<start_addr>39</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE41">
				<function>1</function>
				<start_addr>40</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE44">
				<function>1</function>
				<start_addr>43</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE45">
				<function>1</function>
				<start_addr>44</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE48">
				<function>1</function>
				<start_addr>47</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE49">
				<function>1</function>
				<start_addr>48</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE52">
				<function>1</function>
				<start_addr>51</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE53">
				<function>1</function>
				<start_addr>52</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE56">
				<function>1</function>
				<start_addr>55</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE57">
				<function>1</function>
				<start_addr>56</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="STATE60">
				<function>1</function>
				<start_addr>59</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="NUM1">
				<function>3</function>
				<start_addr>0</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="NUM3">
				<function>3</function>
				<start_addr>2</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="NUM5">
				<function>3</function>
				<start_addr>4</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="NUM7">
				<function>3</function>
				<start_addr>6</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="NUM9">
				<function>3</function>
				<start_addr>8</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="NUM11">
				<function>3</function>
				<start_addr>10</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="NUM13">
				<function>3</function>
				<start_addr>12</start_addr>
				<quantity>2</quantity>
				<type>uint_32</type>
			</value_ref_id>
		</modbus>
	</protocol>
</APC_DDF>
