<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="bayer_sitelink4" ddfname="bayer sitelink4" ddfversion="1" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="bayer_sitelink4">
    <setProductData ruleid="vendordata" field="vendor">bayer</setProductData>
    <setProductData ruleid="modeldata" field="model">sitelink4</setProductData>
    <setProductData ruleid="typedata" field="type">Communications Gateway</setProductData>
	
	<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
	
    <numSensor ruleid="input_voltage_phase_a-b">
      <type>voltage</type>
      <units />
      <sensorId>_INPUT_VOLTAGE_PHASE_A-B</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_193</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Input voltage phase a-b</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="input_voltage_phase_b-c">
      <type>voltage</type>
      <units />
      <sensorId>_INPUT_VOLTAGE_PHASE_B-C</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_194</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Input voltage phase b-c</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="input_voltage_phase_c-a">
      <type>voltage</type>
      <units />
      <sensorId>_INPUT_VOLTAGE_PHASE_C-A</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_195</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Input voltage phase c-a</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_voltage_phase_a-b">
      <type>voltage</type>
      <units />
      <sensorId>_OUTPUT_VOLTAGE_PHASE_A-B</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_196</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output voltage phase a-b</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_voltage_phase_b-c">
      <type>voltage</type>
      <units />
      <sensorId>_OUTPUT_VOLTAGE_PHASE_B-C</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_197</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output voltage phase b-c</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_voltage_phase_c-a">
      <type>voltage</type>
      <units />
      <sensorId>_OUTPUT_VOLTAGE_PHASE_C-A</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_198</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output voltage phase c-a</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_voltage_phase_a-n">
      <type>voltage</type>
      <units />
      <sensorId>_OUTPUT_VOLTAGE_PHASE_A-N</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_199</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output voltage phase a-n</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_voltage_phase_b-n">
      <type>voltage</type>
      <units />
      <sensorId>_OUTPUT_VOLTAGE_PHASE_B-N</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_200</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output voltage phase b-n</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_voltage_phase_c-n">
      <type>voltage</type>
      <units />
      <sensorId>_OUTPUT_VOLTAGE_PHASE_C-N</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_201</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output voltage phase c-n</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_current_phase_a">
      <type>amperage</type>
      <units />
      <sensorId>_OUTPUT_CURRENT_PHASE_A</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_202</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output current phase a</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_current_phase_b">
      <type>amperage</type>
      <units />
      <sensorId>_OUTPUT_CURRENT_PHASE_B</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_203</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output current phase b</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_current_phase_c">
      <type>amperage</type>
      <units />
      <sensorId>_OUTPUT_CURRENT_PHASE_C</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_204</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output current phase c</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="system_ground_current">
      <type>amperage</type>
      <units />
      <sensorId>_SYSTEM_GROUND_CURRENT</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_208</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>System ground current</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_neutral_current">
      <type>amperage</type>
      <units />
      <sensorId>_OUTPUT_NEUTRAL_CURRENT</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_209</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output neutral current</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_kva">
      <type>num/powerKVA</type>
      <units />
      <sensorId>_OUTPUT_KVA</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_210</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output kva</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_kw">
      <type>num/powerKW</type>
      <units />
      <sensorId>_OUTPUT_KW</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_211</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output kw</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="output_frequency">
      <type>frequency</type>
      <units />
      <sensorId>_OUTPUT_FREQUENCY</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_212</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Output frequency</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="percent_capacity_phase_a">
      <type>pctofcapacity</type>
      <units />
      <sensorId>_PERCENT_CAPACITY_PHASE_A</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_205</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Percent capacity phase a</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="percent_capacity_phase_b">
      <type>pctofcapacity</type>
      <units />
      <sensorId>_PERCENT_CAPACITY_PHASE_B</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_206</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Percent capacity phase b</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
    <numSensor ruleid="percent_capacity_phase_c">
      <type>pctofcapacity</type>
      <units />
      <sensorId>_PERCENT_CAPACITY_PHASE_C</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_207</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Percent capacity phase c</label>
      <sensorSet>Num Sensors</sensorSet>
    </numSensor>
	
<alarmFlags ruleid="alarm1">                
	<value>
				<getOid>Function_3_Reg_329</getOid>
			</value>
<alarmFlagsTest mask="2" match="2">
				<name>
					<activeText>Liebert Communications Fail Alarm present</activeText>
					<inactiveText>Liebert Communications Fail Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Liebert Communications Fail Alarm condition exists.</activeText>
					<inactiveText>A Liebert Communications Fail Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="4" match="4">
				<name>
					<activeText>Output Under Voltage Alarm present</activeText>
					<inactiveText>Output Under Voltage Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Output Under Voltage Alarm condition exists.</activeText>
					<inactiveText>A Output Under Voltage Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="8" match="8">
				<name>
					<activeText>Output Over Voltage Alarm present</activeText>
					<inactiveText>Output Over Voltage Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Output Over Voltage Alarm condition exists.</activeText>
					<inactiveText>A Output Over Voltage Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="10" match="10">
				<name>
					<activeText>Output Over Current Alarm present</activeText>
					<inactiveText>Output Over Current Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Output Over Current Alarm condition exists.</activeText>
					<inactiveText>A Output Over Current Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="20" match="20">
				<name>
					<activeText>Frequency Deviation Alarm present</activeText>
					<inactiveText>Frequency Deviation Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Frequency Deviation Alarm condition exists.</activeText>
					<inactiveText>A Frequency Deviation Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="40" match="40">
				<name>
					<activeText>Ground Over Current Alarm present</activeText>
					<inactiveText>Ground Over Current Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Ground Over Current Alarm condition exists.</activeText>
					<inactiveText>A Ground Over Current Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="80" match="80">
				<name>
					<activeText>Transformer Over Temperature Alarm present</activeText>
					<inactiveText>Transformer Over Temperature Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Transformer Over Temperature Alarm condition exists.</activeText>
					<inactiveText>A Transformer Over Temperature Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="100" match="100">
				<name>
					<activeText>Ground System Faulty Alarm present</activeText>
					<inactiveText>Ground System Faulty Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Ground System Faulty Alarm condition exists.</activeText>
					<inactiveText>A Ground System Faulty Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="200" match="200">
				<name>
					<activeText>Ground Failure Alarm present</activeText>
					<inactiveText>Ground Failure Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Ground Failure Alarm condition exists.</activeText>
					<inactiveText>A Ground Failure Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="400" match="400">
				<name>
					<activeText>Liquid Detected Alarm present</activeText>
					<inactiveText>Liquid Detected Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Liquid Detected Alarm condition exists.</activeText>
					<inactiveText>A Liquid Detected Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="800" match="800">
				<name>
					<activeText>Security Alarm Alarm present</activeText>
					<inactiveText>Security Alarm Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Security Alarm Alarm condition exists.</activeText>
					<inactiveText>A Security Alarm Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
</alarmFlags>

<alarmFlags ruleid="alarm2">                 <value>
				<getOid>Function_3_Reg_330</getOid>
			</value>
<alarmFlagsTest mask="20" match="20">
				<name>
					<activeText>Load Alarm Alarm present</activeText>
					<inactiveText>Load Alarm Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Load Alarm Alarm condition exists.</activeText>
					<inactiveText>A Load Alarm Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="40" match="40">
				<name>
					<activeText>Custom Alarm 1 Alarm present</activeText>
					<inactiveText>Custom Alarm 1 Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Custom Alarm 1 Alarm condition exists.</activeText>
					<inactiveText>A Custom Alarm 1 Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
<alarmFlagsTest mask="80" match="80">
				<name>
					<activeText>Custom Alarm 2 Alarm present</activeText>
					<inactiveText>Custom Alarm 2 Alarm Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Custom Alarm 2 Alarm condition exists.</activeText>
					<inactiveText>A Custom Alarm 2 Alarm condition no longer exists.</inactiveText>
				</description>
			</alarmFlagsTest>
</alarmFlags>	
	
	
</device>
  
  
  <protocol>
    <modbus>
	
      <value_ref_id valid="Function_3_Reg_193">
        <function>3</function>
        <start_addr>192</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_194">
        <function>3</function>
        <start_addr>193</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_195">
        <function>3</function>
        <start_addr>194</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_196">
        <function>3</function>
        <start_addr>195</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_197">
        <function>3</function>
        <start_addr>196</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_198">
        <function>3</function>
        <start_addr>197</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_199">
        <function>3</function>
        <start_addr>198</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_200">
        <function>3</function>
        <start_addr>199</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_201">
        <function>3</function>
        <start_addr>200</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_202">
        <function>3</function>
        <start_addr>201</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_203">
        <function>3</function>
        <start_addr>202</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_204">
        <function>3</function>
        <start_addr>203</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_208">
        <function>3</function>
        <start_addr>207</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_209">
        <function>3</function>
        <start_addr>208</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_210">
        <function>3</function>
        <start_addr>209</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_211">
        <function>3</function>
        <start_addr>210</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_212">
        <function>3</function>
        <start_addr>211</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_205">
        <function>3</function>
        <start_addr>204</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_206">
        <function>3</function>
        <start_addr>205</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_207">
        <function>3</function>
        <start_addr>206</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>

     <value_ref_id valid="Function_3_Reg_329">
        <function>3</function>
        <start_addr>328</start_addr>
        <quantity>1</quantity>
         <type>uint_16</type>
      </value_ref_id>

      <value_ref_id valid="Function_3_Reg_330">
        <function>3</function>
        <start_addr>329</start_addr>
        <quantity>1</quantity>
         <type>uint_16</type>
      </value_ref_id>	  
	  
	  
    </modbus>
  </protocol>
</APC_DDF>
