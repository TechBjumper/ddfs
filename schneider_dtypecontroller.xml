<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="schneider_dtypecontroller" ddfname="Schneider Dtypecontroller" ddfversion="1" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="schneider_dtypecontroller">
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
    <setProductData ruleid="vendordata" field="vendor">Schneider</setProductData>
    <setProductData ruleid="modeldata" field="model">Dtypecontroller</setProductData>
    <setProductData ruleid="typedata" field="type">Power Meter</setProductData>
    <setDefaultLabel ruleid="labeldata">
      <sysHostname />
      - Slave
      <commSetting field="slaveaddress" />
    </setDefaultLabel>
    <numSensor ruleid="power_source i a phase_voltage ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE I A PHASE_VOLTAGE </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEIAPHASE_VOLTAGE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源I A相电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="power_source i b phase_voltage ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE I B PHASE_VOLTAGE </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEIBPHASE_VOLTAGE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源I B相电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="power_source i c phase_voltage ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE I C PHASE_VOLTAGE </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEICPHASE_VOLTAGE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源I C相电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="power_source ii a phase_voltage ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE II A PHASE_VOLTAGE </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEIIAPHASE_VOLTAGE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源II A相电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="power_source ii b phase_voltage ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE II B PHASE_VOLTAGE </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEIIBPHASE_VOLTAGE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源II B相电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="power_source ii c phase_voltage ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE II C PHASE_VOLTAGE </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEIICPHASE_VOLTAGE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源II C相电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="a interphase_current ">
      <type>amperage</type>
      <units />
      <sensorId>_A INTERPHASE_CURRENT </sensorId>
      <value>
        <mult>
          <op>
            <getOid>AINTERPHASE_CURRENT</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>A相电流</label>
      <sensorSet>当前</sensorSet>
    </numSensor>
    <numSensor ruleid="b interphase_current ">
      <type>amperage</type>
      <units />
      <sensorId>_B INTERPHASE_CURRENT </sensorId>
      <value>
        <mult>
          <op>
            <getOid>BINTERPHASE_CURRENT</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>B相电流</label>
      <sensorSet>当前</sensorSet>
    </numSensor>
    <numSensor ruleid="c interphase_current ">
      <type>amperage</type>
      <units />
      <sensorId>_C INTERPHASE_CURRENT </sensorId>
      <value>
        <mult>
          <op>
            <getOid>CINTERPHASE_CURRENT</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>C相电流</label>
      <sensorSet>当前</sensorSet>
    </numSensor>
    <numSensor ruleid="active_power ">
      <type>num/powerKW</type>
      <units />
      <sensorId>_ACTIVE_POWER </sensorId>
      <value>
        <mult>
          <op>
            <getOid>ACTIVE_POWER</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>有功功率</label>
      <sensorSet>力量</sensorSet>
    </numSensor>
    <numSensor ruleid="active_energy ">
      <type>num/kwatthr</type>
      <units />
      <sensorId>_ACTIVE_ENERGY </sensorId>
      <value>
        <mult>
          <op>
            <getOid>ACTIVE_ENERGY</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>有功电能</label>
      <sensorSet>力量</sensorSet>
    </numSensor>
    <numSensor ruleid="transforms the number_of_times ">
      <type>num</type>
      <units />
      <sensorId>_TRANSFORMS THE NUMBER_OF_TIMES </sensorId>
      <value>
        <mult>
          <op>
            <getOid>TRANSFORMSTHENUMBER_OF_TIMES</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>转换次数</label>
      <sensorSet>数字</sensorSet>
    </numSensor>
    <numSensor ruleid="power_source i undervoltage threshold_values ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE I UNDERVOLTAGE THRESHOLD_VALUES </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEIUNDERVOLTAGETHRESHOLD_VALUES</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源I欠压阈值</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="power_source i hyper threshold_values ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE I HYPER THRESHOLD_VALUES </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEIHYPERTHRESHOLD_VALUES</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源I过压阈值</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="power_source ii undervoltage threshold_values ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE II UNDERVOLTAGE THRESHOLD_VALUES </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEIIUNDERVOLTAGETHRESHOLD_VALUES</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源II欠压阈值</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="power_source ii hyper threshold_values ">
      <type>voltage</type>
      <units />
      <sensorId>_POWER_SOURCE II HYPER THRESHOLD_VALUES </sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_SOURCEIIHYPERTHRESHOLD_VALUES</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电源II过压阈值</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="overflow threshold_value ">
      <type>amperage</type>
      <units />
      <sensorId>_OVERFLOW THRESHOLD_VALUE </sensorId>
      <value>
        <mult>
          <op>
            <getOid>OVERFLOWTHRESHOLD_VALUE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>过流阈值</label>
      <sensorSet>当前</sensorSet>
    </numSensor>
    <numSensor ruleid="changes the ratio">
      <type>num</type>
      <units />
      <sensorId>_CHANGES THE RATIO</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CHANGESTHERATIO</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>变比</label>
      <sensorSet>数字</sensorSet>
    </numSensor>
  </device>
  <protocol>
    <modbus>
      <value_ref_id valid="POWER_SOURCEICPHASE_VOLTAGE">
        <function>3</function>
        <start_addr>33</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="ACTIVE_ENERGY">
        <function>3</function>
        <start_addr>41</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_SOURCEIAPHASE_VOLTAGE">
        <function>3</function>
        <start_addr>31</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_SOURCEIIBPHASE_VOLTAGE">
        <function>3</function>
        <start_addr>35</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="OVERFLOWTHRESHOLD_VALUE">
        <function>3</function>
        <start_addr>63</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_SOURCEIIHYPERTHRESHOLD_VALUES">
        <function>3</function>
        <start_addr>62</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_SOURCEIIAPHASE_VOLTAGE">
        <function>3</function>
        <start_addr>34</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_SOURCEIUNDERVOLTAGETHRESHOLD_VALUES">
        <function>3</function>
        <start_addr>59</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_SOURCEIIUNDERVOLTAGETHRESHOLD_VALUES">
        <function>3</function>
        <start_addr>61</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_SOURCEIHYPERTHRESHOLD_VALUES">
        <function>3</function>
        <start_addr>60</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_SOURCEIBPHASE_VOLTAGE">
        <function>3</function>
        <start_addr>32</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_SOURCEIICPHASE_VOLTAGE">
        <function>3</function>
        <start_addr>36</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="TRANSFORMSTHENUMBER_OF_TIMES">
        <function>3</function>
        <start_addr>44</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="AINTERPHASE_CURRENT">
        <function>3</function>
        <start_addr>37</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="BINTERPHASE_CURRENT">
        <function>3</function>
        <start_addr>38</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CINTERPHASE_CURRENT">
        <function>3</function>
        <start_addr>39</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CHANGESTHERATIO">
        <function>3</function>
        <start_addr>64</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="ACTIVE_POWER">
        <function>3</function>
        <start_addr>40</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
    </modbus>
  </protocol>
</APC_DDF>
