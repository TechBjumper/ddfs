<?xml version="1.0"?>
<!-- 
	raritan_pdu CUSTOM  
	Dev: Nicholas St. Pierre
	Ticket #13699
-->
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="apc_ddf_1_6.xsd"
	ddfid="raritan_pdu"
	ddfname="Raritan PDU [CUSTOM]"
	ddfversion="27"
	canremove="yes">
<schemaVersion>1.6</schemaVersion>

	<device deviceid="raritan_pdu2">
	
		<!-- iso.org.dod.internet.private.enterprises.raritan.pdu2 = '1.3.6.1.4.1.13742.6' -->
		<oidMustExist ruleid="raritan_pdu2_detect" oid=".1.3.6.1.4.1.13742.6" istree="yes" />

        <setProductData ruleid="typedata" field="type">
			<mapValue mapid="deviceType-vm">
            <getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid>
			</mapValue>
        </setProductData>

        <setProductData ruleid="vendordata" field="vendor">
            <getOid>.1.3.6.1.4.1.13742.6.3.2.1.1.2.1</getOid>
        </setProductData>
        <setProductData ruleid="modeldata" field="model">
            <getOid>.1.3.6.1.4.1.13742.6.3.2.1.1.3.1</getOid>
        </setProductData>
        <setProductData ruleid="serialdata" field="serial_num">
            <getOid>.1.3.6.1.4.1.13742.6.3.2.1.1.4.1</getOid>
        </setProductData>
        <setProductData ruleid="macdata" field="mac_addr">
            <getOid>.1.3.6.1.4.1.13742.6.3.2.2.1.11.1</getOid>
        </setProductData>
        <setProductData ruleid="firmwaredata" field="appversion">
            <getOid>.1.3.6.1.4.1.13742.6.3.2.3.1.6.1.1.1</getOid>
        </setProductData>
        <setProductData ruleid="inputs" field="inputphasecount">1</setProductData>
        <setProductData ruleid="outputs" field="outputphasecount">1</setProductData>

		<setDefaultLabel>
            <getOid>.1.3.6.1.4.1.13742.6.3.2.2.1.13.1</getOid>
        </setDefaultLabel>
		<!--
			Ok, here we have a funky MIB.  There are only a few sensors definitions.  However, given the way
			the MIB for this device is setup, it is not straight forward.  This device has a couple sensor
			value OIDs.  For each of these value OIDs, there is a unit OID.  Each OID also has a 'sensor type'
			index.  Here 'sensor type' indicates temp, humid, etc.
			
			Below there is a map for botzware sensor types, for mapping the unit OID to a botzware sensor type.  
			There is also a unit map, for mapping the unit OID to a botzware sensor unit (for percent, RPM... 
			that have no sensor type, just a unit).  There are also scaling maps, both for scaling defined by the
			MIB/device, and the scaling necessary to convert the device value to the units expected by botzware.
		-->
		
		<valueMap ruleid="deviceType-vm">
			<valueIn>0</valueIn><valueOut>Rack PDU</valueOut>
			<valueIn>1</valueIn><valueOut>Branch Circuit Monitor</valueOut>
			<valueIn>2</valueIn><valueOut>Transfer Switch</valueOut>
			<valueIn>*</valueIn><valueOut>Generic Device</valueOut>
		</valueMap>
		
		<valueMap ruleid="sensorType-vm">
			<valueIn>-1</valueIn><valueOut>num</valueOut> <!-- none -->
			<valueIn>0</valueIn><valueOut>num</valueOut> <!-- other -->
			<valueIn>1</valueIn><valueOut>voltage</valueOut> <!-- volt -->
			<valueIn>2</valueIn><valueOut>amperage</valueOut> <!-- amp -->
			<valueIn>3</valueIn><valueOut>powerW</valueOut> <!-- watt -->
			<valueIn>4</valueIn><valueOut>powerVA</valueOut> <!-- voltamp -->
			<valueIn>5</valueIn><valueOut>num/kdisprealenergy</valueOut> <!-- wattHour -->
			<valueIn>6</valueIn><valueOut>num/kdispappenergy</valueOut> <!-- voltampHour -->
			<valueIn>7</valueIn><valueOut>temp</valueOut> <!-- degreeC -->
			<valueIn>8</valueIn><valueOut>frequency</valueOut> <!-- hertz -->
			<valueIn>9</valueIn><valueOut>num</valueOut> <!-- percent -->
			<valueIn>10</valueIn><valueOut>num</valueOut> <!-- meterpersec -->
			<valueIn>11</valueIn><valueOut>pressure</valueOut> <!-- pascal -->
			<valueIn>12</valueIn><valueOut>pressure</valueOut> <!-- psi -->
			<valueIn>13</valueIn><valueOut>num</valueOut> <!-- g (grams?) -->
			<valueIn>14</valueIn><valueOut>temp</valueOut> <!-- degreeF -->
			<valueIn>15</valueIn><valueOut>num</valueOut> <!-- feet -->
			<valueIn>16</valueIn><valueOut>num</valueOut> <!-- inches -->
			<valueIn>17</valueIn><valueOut>num</valueOut> <!-- cm -->
			<valueIn>18</valueIn><valueOut>num</valueOut> <!-- meters -->
			<valueIn>19</valueIn><valueOut>num</valueOut> <!-- rpm -->
			<valueIn>20</valueIn><valueOut>num</valueOut> <!-- degreesAngle -->
			<valueIn>*</valueIn><valueOut>num</valueOut> <!-- default -->
		</valueMap>

		<!-- botzware sensor units mapped to device units OID values -->
		<valueMap ruleid="sensorUnits-vm">
			<valueIn>9</valueIn><valueOut>percent</valueOut> <!-- percent -->
			<valueIn>10</valueIn><valueOut>meterspermin</valueOut> <!-- meterpersec -->
			<valueIn>11</valueIn><valueOut>pascal</valueOut> <!-- pascal -->
			<valueIn>12</valueIn><valueOut>psi</valueOut> <!-- psi -->
			<valueIn>13</valueIn><valueOut>milligrams</valueOut> <!-- g (grams?) -->
			<valueIn>15</valueIn><valueOut>feet</valueOut> <!-- feet -->
			<valueIn>16</valueIn><valueOut>feet</valueOut> <!-- inches -->
			<valueIn>17</valueIn><valueOut>meters</valueOut> <!-- cm -->
			<valueIn>18</valueIn><valueOut>meters</valueOut> <!-- meters -->
			<valueIn>19</valueIn><valueOut>rpm</valueOut> <!-- rpm -->
			<valueIn>20</valueIn><valueOut>degreesAngle</valueOut> <!-- degreesAngle -->
			<valueIn>*</valueIn><valueOut>unknown</valueOut> <!-- default -->
		</valueMap>

		<!-- subtraction operations mapped to device units OID values -->
		<valueMap ruleid="sensorSubtract-vm">
			<valueIn>14</valueIn><valueOut>32</valueOut> <!-- degreeF -->
			<valueIn>*</valueIn><valueOut>0</valueOut> <!-- default -->
		</valueMap>

		<!-- multiplication operations mapped to device units OID values -->
		<valueMap ruleid="sensorMultiply-vm">
			<valueIn>10</valueIn><valueOut>60</valueOut> <!-- meterpersec -->
			<valueIn>11</valueIn><valueOut>0.001</valueOut> <!-- pascal -->
			<valueIn>13</valueIn><valueOut>1000</valueOut> <!-- g (grams?) -->
			<valueIn>14</valueIn><valueOut>0.556</valueOut> <!-- degreeF -->
			<valueIn>16</valueIn><valueOut>0.083</valueOut> <!-- inches -->
			<valueIn>17</valueIn><valueOut>0.01</valueOut> <!-- cm -->
			<valueIn>*</valueIn><valueOut>1</valueOut> <!-- default -->
		</valueMap>

		<!-- 
			decimal count to scaling multiplier; 
			the device supplies the # of decimals for each value 
		-->
		<valueMap ruleid="sensorScaling-vm">
			<valueIn>0</valueIn><valueOut>1</valueOut> 
			<valueIn>1</valueIn><valueOut>0.1</valueOut> 
			<valueIn>2</valueIn><valueOut>0.01</valueOut> 
			<valueIn>3</valueIn><valueOut>0.001</valueOut> 
			<valueIn>4</valueIn><valueOut>0.0001</valueOut> 
			<valueIn>5</valueIn><valueOut>0.00001</valueOut> 
			<valueIn>*</valueIn><valueOut>1</valueOut> 
		</valueMap>

		<!-- 
			each sensor value OID has a isAvailable OID which uses
			a 'TruthValue' syntax; mapping below
		-->
		<valueMap ruleid="isSensorAvailable-vm">
			<valueIn>1</valueIn><valueOut>[true]</valueOut>
			<valueIn>*</valueIn><valueOut>[false]</valueOut>
		</valueMap>
		
		<!-- 
			the OID indexes used are pduID, outletID, and sensorType; 
			the appropriate label for sensorTypeIndex of the OIDs is
			mapped below 
		-->
		<valueMap ruleid="sensorTypeIndex-vm">
			<valueIn>1</valueIn><valueOut>RMS Current</valueOut> 
			<valueIn>2</valueIn><valueOut>Peak Current</valueOut> 
			<valueIn>3</valueIn><valueOut>Unbalanced Current</valueOut> 
			<valueIn>4</valueIn><valueOut>RMS Voltage</valueOut> 
			<valueIn>5</valueIn><valueOut>Active Power</valueOut>
			<valueIn>6</valueIn><valueOut>Apparent Power</valueOut> 
			<valueIn>7</valueIn><valueOut>Power Factor</valueOut> 
			<valueIn>8</valueIn><valueOut>Active Energy</valueOut> 
			<valueIn>9</valueIn><valueOut>Apparent Energy</valueOut> 
			<valueIn>10</valueIn><valueOut>Temperature</valueOut> 
			<valueIn>11</valueIn><valueOut>Humidity</valueOut> 
			<valueIn>12</valueIn><valueOut>Air Flow</valueOut> 
			<valueIn>13</valueIn><valueOut>Air Pressure</valueOut> 
			<valueIn>14</valueIn><valueOut>On-Off</valueOut> 
			<valueIn>15</valueIn><valueOut>Trip</valueOut> 
			<valueIn>16</valueIn><valueOut>Vibration</valueOut> 
			<valueIn>17</valueIn><valueOut>Water Detection</valueOut> 
			<valueIn>18</valueIn><valueOut>Smoke Detection</valueOut>
			<valueIn>19</valueIn><valueOut>Binary</valueOut> 
			<valueIn>20</valueIn><valueOut>Contact</valueOut> 
			<valueIn>21</valueIn><valueOut>Fan Speed</valueOut> 
			<valueIn>22</valueIn><valueOut>Surge Protector Status</valueOut> 
			<valueIn>23</valueIn><valueOut>Frequency</valueOut> 
			<valueIn>24</valueIn><valueOut>Phase Angle</valueOut> 
			<valueIn>25</valueIn><valueOut>RMS Voltage L-N</valueOut> 
			<valueIn>26</valueIn><valueOut>Residual Current</valueOut> 
			<valueIn>27</valueIn><valueOut>RCM State</valueOut> 
			<valueIn>*</valueIn><valueOut>Unknown</valueOut> 
		</valueMap>
		
		<valueMap ruleid="deviceTypeLabel-vm">
			<valueIn>0</valueIn><valueOut>RPDU</valueOut>
			<valueIn>1</valueIn><valueOut>Circuit Monitor</valueOut>
			<valueIn>2</valueIn><valueOut>ATS</valueOut>
			<valueIn>*</valueIn><valueOut>Device</valueOut>
		</valueMap>

		<valueMap ruleid="inletSensorID-vm">
			<valueIn>2</valueIn><valueOut>_TOTAL_INLET_CURRENT</valueOut> 
			<valueIn>3</valueIn><valueOut>_INLET_POWER_TOTAL</valueOut>
			<valueIn>4</valueIn><valueOut>_INLET_APPARENT_POWER_TOTAL</valueOut> 
			<valueIn>5</valueIn><valueOut>_INLET_ENERGY_TOTAL_1</valueOut> 
			<valueIn>*</valueIn><valueOut>_INLET_SENSOR_VALUE</valueOut> 
		</valueMap>
		<numSensor ruleid="inletSensorValues" index=".1.3.6.1.4.1.13742.6.5.2.3.1.4">
			<type><mapValue mapid="sensorType-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.6</getRowOid></mapValue></type>
			<!-- the units will be ignored, unless type=num -->
			<units><mapValue mapid="sensorUnits-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.6</getRowOid></mapValue></units>
			<sensorId>
				<rowNumber/>
				<mapValue mapid="inletSensorID-vm">
				<getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.6</getRowOid>
				</mapValue>
			</sensorId>
			<rowTest>
				<mapValue mapid="isSensorAvailable-vm"><getRowOid>.1.3.6.1.4.1.13742.6.5.2.3.1.2</getRowOid></mapValue>
			</rowTest>
			<value>
				<!-- first mult & sub are used to convert to units expected by botzware  -->
				<mult>
					<op>
						<sub>
							<op>
								<!-- adjust device value scaling, based on scaling data provided by device -->
								<mult>
									<op>
										<!-- MIB specifies # of decimals for each value -->
										<mapValue mapid="sensorScaling-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.7</getRowOid></mapValue>
									</op>
									<op>
										<getRowOid>.1.3.6.1.4.1.13742.6.5.2.3.1.4</getRowOid>
									</op>
								</mult>
							</op> 
							<op>
								<mapValue mapid="sensorSubtract-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.6</getRowOid></mapValue>
							</op>
						</sub>
					</op>
					<op>
						<mapValue mapid="sensorMultiply-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.6</getRowOid></mapValue>
					</op>
				</mult>
			</value>
			<label>
				<!-- the three OID indexes are pduId, inletId, and sensorType; sensorType indicating Temp, Humid, etc -->
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex>
				<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue>
			</label>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex>
			</sensorSet>
		</numSensor>
		<alarmFlags2 ruleid="inletSensorValueLowerCritical-af" index=".1.3.6.1.4.1.13742.6.5.2.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.25</getRowOid></op>
					<op>1</op>
					</bitwise_and>
				</op>
				<op>1</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<lt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.3.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.21</getRowOid></op>
					</lt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="inletSensorValueLowerWarning-af" index=".1.3.6.1.4.1.13742.6.5.2.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.25</getRowOid></op>
					<op>2</op>
					</bitwise_and>
				</op>
				<op>2</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<ge>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.21</getRowOid></op>
						</ge>
					</op>
					<op>
						<lt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.22</getRowOid></op>
						</lt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

		<alarmFlags2 ruleid="inletSensorValueUpperCritical-af" index=".1.3.6.1.4.1.13742.6.5.2.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.25</getRowOid></op>
					<op>8</op>
					</bitwise_and>
				</op>
				<op>8</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<gt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.3.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.23</getRowOid></op>
					</gt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has exceeded user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="inletSensorValueUpperWarning-af" index=".1.3.6.1.4.1.13742.6.5.2.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.25</getRowOid></op>
					<op>4</op>
					</bitwise_and>
				</op>
				<op>4</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<le>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.23</getRowOid></op>
						</le>
					</op>
					<op>
						<gt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.4.1.24</getRowOid></op>
						</gt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has exceeded user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>


		<valueMap ruleid="inletPoleSensorID-vm">
			<valueIn>2</valueIn><valueOut>INLET_CURRENT</valueOut> 
			<valueIn>3</valueIn><valueOut>_RPDU_INLET_POWER</valueOut>
			<valueIn>4</valueIn><valueOut>_RPDU_INLET_APPARENT_POWER</valueOut> 
			<valueIn>*</valueIn><valueOut>_INLET_POLE_SENSOR_VALUE</valueOut> 
		</valueMap>
		<numSensor ruleid="inletPoleSensorValues" index=".1.3.6.1.4.1.13742.6.5.2.4.1.4">
			<type><mapValue mapid="sensorType-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.6</getRowOid></mapValue></type>
			<!-- the units will be ignored, unless type=num -->
			<units><mapValue mapid="sensorUnits-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.6</getRowOid></mapValue></units>
			<sensorId>
				<rowNumber/>_
				<mapValue mapid="inletPoleSensorID-vm">
				<getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.6</getRowOid>
				</mapValue>_
				<regex>
				<op>(\d+).(\d+).(\d+).(\d+)</op>
				<op><rowIndex/></op>
				<op>%3$s</op>
				</regex>
			</sensorId>
			<rowTest>
				<mapValue mapid="isSensorAvailable-vm"><getRowOid>.1.3.6.1.4.1.13742.6.5.2.4.1.2</getRowOid></mapValue>
			</rowTest>
			<value>
				<!-- first mult & sub are used to convert to units expected by botzware  -->
				<mult>
					<op>
						<sub>
							<op>
								<!-- adjust device value scaling, based on scaling data provided by device -->
								<mult>
									<op>
										<!-- MIB specifies # of decimals for each value -->
										<mapValue mapid="sensorScaling-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.7</getRowOid></mapValue>
									</op>
									<op>
										<getRowOid>.1.3.6.1.4.1.13742.6.5.2.4.1.4</getRowOid>
									</op>
								</mult>
							</op> 
							<op>
								<mapValue mapid="sensorSubtract-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.6</getRowOid></mapValue>
							</op>
						</sub>
					</op>
					<op>
						<mapValue mapid="sensorMultiply-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.6</getRowOid></mapValue>
					</op>
				</mult>
			</value>
			<label>
				<!-- the four OID indexes are pduId, inletId, inletPoleIndex, and sensorType; sensorType indicating Temp, Humid, etc -->
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
				<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
				<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue>
			</label>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
				<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex>
			</sensorSet>
		</numSensor>
		<alarmFlags2 ruleid="inletPoleSensorValueLowerCritical-af" index=".1.3.6.1.4.1.13742.6.5.2.4.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.25</getRowOid></op>
					<op>1</op>
					</bitwise_and>
				</op>
				<op>1</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<lt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.4.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.21</getRowOid></op>
					</lt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="inletPoleSensorValueLowerWarning-af" index=".1.3.6.1.4.1.13742.6.5.2.4.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.25</getRowOid></op>
					<op>2</op>
					</bitwise_and>
				</op>
				<op>2</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<ge>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.4.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.21</getRowOid></op>
						</ge>
					</op>
					<op>
						<lt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.4.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.22</getRowOid></op>
						</lt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

		<alarmFlags2 ruleid="inletPoleSensorValueUpperCritical-af" index=".1.3.6.1.4.1.13742.6.5.2.4.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.25</getRowOid></op>
					<op>8</op>
					</bitwise_and>
				</op>
				<op>8</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<gt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.4.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.23</getRowOid></op>
					</gt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has exceeded user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="inletPoleSensorValueUpperWarning-af" index=".1.3.6.1.4.1.13742.6.5.2.4.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.25</getRowOid></op>
					<op>4</op>
					</bitwise_and>
				</op>
				<op>4</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<le>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.4.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.23</getRowOid></op>
						</le>
					</op>
					<op>
						<gt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.2.4.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.3.6.1.24</getRowOid></op>
						</gt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has exceeded user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
						<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

		<numSensor ruleid="overCurrentProtectorSensorValues" index=".1.3.6.1.4.1.13742.6.5.3.3.1.4">
			<type><mapValue mapid="sensorType-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.6</getRowOid></mapValue></type>
			<!-- the units will be ignored, unless type=num -->
			<units><mapValue mapid="sensorUnits-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.6</getRowOid></mapValue></units>
			<sensorId>OCP_SENSOR_VALUE_<rowIndex/></sensorId>
			<rowTest>
				<mapValue mapid="isSensorAvailable-vm"><getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.2</getRowOid></mapValue>
			</rowTest>
			<value>
				<!-- first mult & sub are used to convert to units expected by botzware  -->
				<mult>
					<op>
						<sub>
							<op>
								<!-- adjust device value scaling, based on scaling data provided by device -->
								<mult>
									<op>
										<!-- MIB specifies # of decimals for each value -->
										<mapValue mapid="sensorScaling-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.7</getRowOid></mapValue>
									</op>
									<op>
										<getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.4</getRowOid>
									</op>
								</mult>
							</op> 
							<op>
								<mapValue mapid="sensorSubtract-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.6</getRowOid></mapValue>
							</op>
						</sub>
					</op>
					<op>
						<mapValue mapid="sensorMultiply-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.6</getRowOid></mapValue>
					</op>
				</mult>
			</value>
			<label>
				<!-- the three OID indexes are pduId, inletId, and sensorType; sensorType indicating Temp, Humid, etc -->
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
				<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue>
			</label>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
			</sensorSet>
		</numSensor>
		<alarmFlags2 ruleid="overCurrentProtectorSensorValueLowerCritical-af" index=".1.3.6.1.4.1.13742.6.5.3.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.25</getRowOid></op>
					<op>1</op>
					</bitwise_and>
				</op>
				<op>1</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<lt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.21</getRowOid></op>
					</lt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="overCurrentProtectorSensorValueLowerWarning-af" index=".1.3.6.1.4.1.13742.6.5.3.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.25</getRowOid></op>
					<op>2</op>
					</bitwise_and>
				</op>
				<op>2</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<ge>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.21</getRowOid></op>
						</ge>
					</op>
					<op>
						<lt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.22</getRowOid></op>
						</lt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

		<alarmFlags2 ruleid="overCurrentProtectorSensorValueUpperCritical-af" index=".1.3.6.1.4.1.13742.6.5.3.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.25</getRowOid></op>
					<op>8</op>
					</bitwise_and>
				</op>
				<op>8</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<gt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.23</getRowOid></op>
					</gt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has exceeded user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="overCurrentProtectorSensorValueUpperWarning-af" index=".1.3.6.1.4.1.13742.6.5.3.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.25</getRowOid></op>
					<op>4</op>
					</bitwise_and>
				</op>
				<op>4</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<le>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.23</getRowOid></op>
						</le>
					</op>
					<op>
						<gt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.4.4.1.24</getRowOid></op>
						</gt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has exceeded user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
						<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		
		<numSensor ruleid="outputPowerTotal">
			<type>powerW</type>
			<sensorId>OUTPUT_POWER_TOTAL</sensorId>
			<value>
				<mult>
					<op>
						<sub>
							<op>
								<mult>
									<op>
										<!-- MIB specifies # of decimals for each value -->
										<mapValue mapid="sensorScaling-vm"><getOid>.1.3.6.1.4.1.13742.6.3.5.4.1.7.1.1.5</getOid></mapValue>
									</op>
									<op>
										<add>
											<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.1.5</getOid></op>
											<op>
												<add>
													<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.2.5</getOid></op>
													<op>
														<add>
															<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.3.5</getOid></op>
															<op>
																<add>
																	<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.4.5</getOid></op>
																	<op>
																		<add>
																			<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.5.5</getOid></op>
																			<op>
																				<add>
																					<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.6.5</getOid></op>
																					<op>
																						<add>
																							<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.7.5</getOid></op>
																							<op>
																								<add>
																									<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.8.5</getOid></op>
																									<op>
																										<add>
																											<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.9.5</getOid></op>
																											<op>
																												<add>
																													<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.10.5</getOid></op>
																													<op>
																														<add>
																															<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.11.5</getOid></op>
																															<op>
																																<add>
																																	<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.12.5</getOid></op>
																																	<op>
																																		<add>
																																			<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.13.5</getOid></op>
																																			<op>
																																				<add>
																																					<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.14.5</getOid></op>
																																					<op>
																																						<add>
																																							<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.15.5</getOid></op>
																																							<op>
																																								<add>
																																									<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.16.5</getOid></op>
																																									<op>
																																										<add>
																																											<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.17.5</getOid></op>
																																											<op>
																																												<add>
																																													<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.18.5</getOid></op>
																																													<op>
																																														<add>
																																															<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.19.5</getOid></op>
																																															<op>
																																																<add>
																																																	<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.20.5</getOid></op>
																																																	<op>
																																																		<add>
																																																			<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.21.5</getOid></op>
																																																			<op>
																																																				<add>
																																																					<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.22.5</getOid></op>
																																																					<op>
																																																						<add>
																																																							<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.23.5</getOid></op>
																																																							<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.24.5</getOid></op>
																																																						</add>
																																																					</op>
																																																				</add>
																																																			</op>
																																																		</add>
																																																	</op>
																																																</add>
																																															</op>
																																														</add>
																																													</op>
																																												</add>
																																											</op>
																																										</add>
																																									</op>
																																								</add>
																																							</op>
																																						</add>
																																					</op>
																																				</add>
																																			</op>
																																		</add>
																																	</op>
																																</add>
																															</op>
																														</add>
																													</op>
																												</add>
																											</op>
																										</add>
																									</op>
																								</add>
																							</op>
																						</add>
																					</op>
																				</add>
																			</op>
																		</add>
																	</op>
																</add>
															</op>
														</add>
													</op>
												</add>
											</op>
										</add>
									</op>
								</mult>
							</op>
							<op>
								<mapValue mapid="sensorSubtract-vm"><getOid>.1.3.6.1.4.1.13742.6.3.5.4.1.6.1.1.5</getOid></mapValue>
							</op>
						</sub>
					</op>
					<op>
						<mapValue mapid="sensorMultiply-vm"><getOid>.1.3.6.1.4.1.13742.6.3.5.4.1.6.1.1.5</getOid></mapValue>
					</op>
				</mult>
			</value>
			<label>Output Power Total</label>
			<sensorSet>Totals</sensorSet>
		</numSensor>
		<numSensor ruleid="outputCurrentTotal">
			<type>amperage</type>
			<sensorId>OUTPUT_CURRENT_TOTAL</sensorId>
			<value>
				<mult>
					<op>
						<sub>
							<op>
								<mult>
									<op>
										<!-- MIB specifies # of decimals for each value -->
										<mapValue mapid="sensorScaling-vm"><getOid>.1.3.6.1.4.1.13742.6.3.5.4.1.7.1.1.1</getOid></mapValue>
									</op>
									<op>
										<add>
											<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.1.1</getOid></op>
											<op>
												<add>
													<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.2.1</getOid></op>
													<op>
														<add>
															<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.3.1</getOid></op>
															<op>
																<add>
																	<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.4.1</getOid></op>
																	<op>
																		<add>
																			<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.5.1</getOid></op>
																			<op>
																				<add>
																					<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.6.1</getOid></op>
																					<op>
																						<add>
																							<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.7.1</getOid></op>
																							<op>
																								<add>
																									<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.8.1</getOid></op>
																									<op>
																										<add>
																											<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.9.1</getOid></op>
																											<op>
																												<add>
																													<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.10.1</getOid></op>
																													<op>
																														<add>
																															<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.11.1</getOid></op>
																															<op>
																																<add>
																																	<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.12.1</getOid></op>
																																	<op>
																																		<add>
																																			<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.13.1</getOid></op>
																																			<op>
																																				<add>
																																					<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.14.1</getOid></op>
																																					<op>
																																						<add>
																																							<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.15.1</getOid></op>
																																							<op>
																																								<add>
																																									<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.16.1</getOid></op>
																																									<op>
																																										<add>
																																											<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.17.1</getOid></op>
																																											<op>
																																												<add>
																																													<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.18.1</getOid></op>
																																													<op>
																																														<add>
																																															<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.19.1</getOid></op>
																																															<op>
																																																<add>
																																																	<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.20.1</getOid></op>
																																																	<op>
																																																		<add>
																																																			<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.21.1</getOid></op>
																																																			<op>
																																																				<add>
																																																					<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.22.1</getOid></op>
																																																					<op>
																																																						<add>
																																																							<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.23.1</getOid></op>
																																																							<op><getOid default="0">.1.3.6.1.4.1.13742.6.5.4.3.1.4.1.24.1</getOid></op>
																																																						</add>
																																																					</op>
																																																				</add>
																																																			</op>
																																																		</add>
																																																	</op>
																																																</add>
																																															</op>
																																														</add>
																																													</op>
																																												</add>
																																											</op>
																																										</add>
																																									</op>
																																								</add>
																																							</op>
																																						</add>
																																					</op>
																																				</add>
																																			</op>
																																		</add>
																																	</op>
																																</add>
																															</op>
																														</add>
																													</op>
																												</add>
																											</op>
																										</add>
																									</op>
																								</add>
																							</op>
																						</add>
																					</op>
																				</add>
																			</op>
																		</add>
																	</op>
																</add>
															</op>
														</add>
													</op>
												</add>
											</op>
										</add>
									</op>
								</mult>
							</op>
							<op>
								<mapValue mapid="sensorSubtract-vm"><getOid>.1.3.6.1.4.1.13742.6.3.5.4.1.6.1.1.1</getOid></mapValue>
							</op>
						</sub>
					</op>
					<op>
						<mapValue mapid="sensorMultiply-vm"><getOid>.1.3.6.1.4.1.13742.6.3.5.4.1.6.1.1.1</getOid></mapValue>
					</op>
				</mult>
			</value>
			<label>Output Current Total</label>
			<sensorSet>Totals</sensorSet>
		</numSensor>

		<!-- outlet sensor values -->
		<numSensor ruleid="outletSensorValues" index=".1.3.6.1.4.1.13742.6.5.4.3.1.4">
			<type><mapValue mapid="sensorType-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.6</getRowOid></mapValue></type>
			<!-- the units will be ignored, unless type=num -->
			<units><mapValue mapid="sensorUnits-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.6</getRowOid></mapValue></units>
			<sensorId>OUTLET_SENSOR_VALUE_<rowIndex/></sensorId>
			<rowTest>
				<mapValue mapid="isSensorAvailable-vm"><getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.2</getRowOid></mapValue>
			</rowTest>
			<value>
				<!-- first mult & sub are used to convert to units expected by botzware  -->
				<mult>
					<op>
						<sub>
							<op>
								<!-- adjust device value scaling, based on scaling data provided by device -->
								<mult>
									<op>
										<!-- MIB specifies # of decimals for each value -->
										<mapValue mapid="sensorScaling-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.7</getRowOid></mapValue>
									</op>
									<op>
										<getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.4</getRowOid>
									</op>
								</mult>
							</op> 
							<op>
								<mapValue mapid="sensorSubtract-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.6</getRowOid></mapValue>
							</op>
						</sub>
					</op>
					<op>
						<mapValue mapid="sensorMultiply-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.6</getRowOid></mapValue>
					</op>
				</mult>
			</value>
			<label>
				<!-- the three OID indexes are pduId, outletId, and sensorType; sensorType indicating Temp, Humid, etc -->
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
				(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)
				<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue>
			</label>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
				(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)
			</sensorSet>
		</numSensor>
		<alarmFlags2 ruleid="outletSensorValueLowerCritical-af" index=".1.3.6.1.4.1.13742.6.5.4.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.25</getRowOid></op>
					<op>1</op>
					</bitwise_and>
				</op>
				<op>1</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<lt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.21</getRowOid></op>
					</lt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="outletSensorValueLowerCritical-af" index=".1.3.6.1.4.1.13742.6.5.4.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.25</getRowOid></op>
					<op>2</op>
					</bitwise_and>
				</op>
				<op>2</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<ge>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.21</getRowOid></op>
						</ge>
					</op>
					<op>
						<lt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.22</getRowOid></op>
						</lt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

		<alarmFlags2 ruleid="outletSensorValueUpperCritical-af" index=".1.3.6.1.4.1.13742.6.5.4.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.25</getRowOid></op>
					<op>8</op>
					</bitwise_and>
				</op>
				<op>8</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<gt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.23</getRowOid></op>
					</gt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has exceeded user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="outletSensorValueUpperWarning-af" index=".1.3.6.1.4.1.13742.6.5.4.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.25</getRowOid></op>
					<op>4</op>
					</bitwise_and>
				</op>
				<op>4</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<le>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.23</getRowOid></op>
						</le>
					</op>
					<op>
						<gt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.5.4.1.24</getRowOid></op>
						</gt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has exceeded user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
						(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)<space/>
						<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

		<valueMap ruleid="externalSensorType-vm">
			<valueIn>1</valueIn><valueOut>amperage</valueOut> 
			<valueIn>2</valueIn><valueOut>amperage</valueOut> 
			<valueIn>3</valueIn><valueOut>amperage</valueOut> 
			<valueIn>4</valueIn><valueOut>voltage</valueOut> 
			<valueIn>5</valueIn><valueOut>powerW</valueOut>
			<valueIn>6</valueIn><valueOut>powerVA</valueOut> 
			<valueIn>7</valueIn><valueOut>num/powerfactor</valueOut> 
			<valueIn>8</valueIn><valueOut>num/kwatthr</valueOut> 
			<valueIn>9</valueIn><valueOut>num/kVAhr</valueOut> 
			<valueIn>10</valueIn><valueOut>temp</valueOut> 
			<valueIn>11</valueIn><valueOut>humidity</valueOut> 
			<valueIn>12</valueIn><valueOut>airflow</valueOut> 
			<valueIn>13</valueIn><valueOut>pressure</valueOut> 
			<valueIn>14</valueIn><valueOut>num</valueOut> 
			<valueIn>15</valueIn><valueOut>num</valueOut> 
			<valueIn>16</valueIn><valueOut>num</valueOut> 
			<valueIn>17</valueIn><valueOut>num</valueOut> 
			<valueIn>18</valueIn><valueOut>num</valueOut>
			<valueIn>19</valueIn><valueOut>num</valueOut> 
			<valueIn>20</valueIn><valueOut>num</valueOut> 
			<valueIn>21</valueIn><valueOut>fanspeed</valueOut> 
			<valueIn>*</valueIn><valueOut>num</valueOut> 
		</valueMap>
		<valueMap ruleid="externalSensorID-vm">
			<valueIn>10</valueIn><valueOut>_RPDU_TEMP</valueOut> 
			<valueIn>11</valueIn><valueOut>_RPDU_HUMIDITY</valueOut>
			<valueIn>*</valueIn><valueOut>EXTERNAL_SENSOR_VALUE</valueOut> 
		</valueMap>
		<!-- outlet sensor values -->
		<numSensor ruleid="externalSensorValues" index=".1.3.6.1.4.1.13742.6.5.5.3.1.4">
			<type><mapValue mapid="externalSensorType-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.2</getRowOid></mapValue></type>
			<!-- the units will be ignored, unless type=num -->
			<units><mapValue mapid="sensorUnits-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.16</getRowOid></mapValue></units>
			<sensorId>
				<mapValue mapid="externalSensorID-vm">
				<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.2</getRowOid>
				</mapValue>_<rowNumber/>
			</sensorId>
			<rowTest>
				<mapValue mapid="isSensorAvailable-vm"><getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.2</getRowOid></mapValue>
			</rowTest>
			<value>
				<!-- first mult & sub are used to convert to units expected by botzware  -->
				<mult>
				<op>
					<sub>
					<op>
						<!-- adjust device value scaling, based on scaling data provided by device -->
						<mult>
						<op>
							<!-- MIB specifies # of decimals for each value -->
							<mapValue mapid="sensorScaling-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.17</getRowOid></mapValue>
						</op>
						<op>
							<getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.4</getRowOid>
						</op>
						</mult>
					</op> 
					<op>
						<mapValue mapid="sensorSubtract-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.16</getRowOid></mapValue>
					</op>
					</sub>
				</op>
				<op>
						<mapValue mapid="sensorMultiply-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.16</getRowOid></mapValue>
				</op>
				</mult>
			</value>
			<label>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
				<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>(
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.2</getRowOid></op><op>14</op></eq></op>
					<op><mapValue mapid="sensorTypeIndex-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.10</getRowOid></mapValue></op>
					<op><mapValue mapid="sensorTypeIndex-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.2</getRowOid></mapValue></op>
				</if>)
			</label>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>External Sensors
			</sensorSet>
		</numSensor>
		<alarmFlags2 ruleid="externalSensorValueLowerCritical-af" index=".1.3.6.1.4.1.13742.6.5.5.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.35</getRowOid></op>
					<op>1</op>
					</bitwise_and>
				</op>
				<op>1</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<lt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.31</getRowOid></op>
					</lt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="externalSensorValueLowerCritical-af" index=".1.3.6.1.4.1.13742.6.5.5.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.35</getRowOid></op>
					<op>2</op>
					</bitwise_and>
				</op>
				<op>2</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<ge>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.31</getRowOid></op>
						</ge>
					</op>
					<op>
						<lt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.32</getRowOid></op>
						</lt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						Below Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						has fallen below user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

		<alarmFlags2 ruleid="externalSensorValueUpperCritical-af" index=".1.3.6.1.4.1.13742.6.5.5.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.35</getRowOid></op>
					<op>8</op>
					</bitwise_and>
				</op>
				<op>8</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<gt>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.4</getRowOid></op>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.33</getRowOid></op>
					</gt>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						Normal
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						has exceeded user-defined threshold.
					</activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
					<inactiveText>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="externalSensorValueUpperWarning-af" index=".1.3.6.1.4.1.13742.6.5.5.3.1.4">
			<rowTest>
				<eq>
				<op>
					<bitwise_and>
					<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.35</getRowOid></op>
					<op>4</op>
					</bitwise_and>
				</op>
				<op>4</op>
				</eq>
			</rowTest>
			<value>
				<if>
				<op>
					<and>
					<op>
						<le>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.33</getRowOid></op>
						</le>
					</op>
					<op>
						<gt>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.4</getRowOid></op>
						<op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.34</getRowOid></op>
						</gt>
					</op>
					</and>
				</op>
				<op>1</op><op>0</op>
				</if>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						Above Threshold
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						Normal
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						has exceeded user-defined threshold.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
						<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>
						has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

		<!-- value & enum maps from MIB definitions for sensor status -->
		<valueMap ruleid="sensorStatus-vm">
			<valueIn>-1</valueIn><valueOut>0</valueOut> 
			<valueIn>0</valueIn><valueOut>1</valueOut> 
			<valueIn>1</valueIn><valueOut>2</valueOut> 
			<valueIn>2</valueIn><valueOut>3</valueOut> 
			<valueIn>3</valueIn><valueOut>4</valueOut>
			<valueIn>4</valueIn><valueOut>5</valueOut> 
			<valueIn>5</valueIn><valueOut>6</valueOut> 
			<valueIn>6</valueIn><valueOut>7</valueOut> 
			<valueIn>7</valueIn><valueOut>8</valueOut> 
			<valueIn>8</valueIn><valueOut>9</valueOut> 
			<valueIn>9</valueIn><valueOut>10</valueOut> 
			<valueIn>10</valueIn><valueOut>11</valueOut> 
			<valueIn>11</valueIn><valueOut>12</valueOut> 
			<valueIn>*</valueIn><valueOut>13</valueOut> 
		</valueMap>
		
		<enumMap ruleid="sensorStatus-em">
			<label>Unavailable</label>
			<label>Open</label>
			<label>Closed</label>
			<label>Below Lower Critical</label>
			<label>Below Lower Warning</label>
			<label>Normal</label>
			<label>Above Upper Warning</label>
			<label>Above Upper Critical</label>
			<label>On</label>
			<label>Off</label>
			<label>Detected</label>
			<label>Not Detected</label>
			<label>Alarmed</label>
			<label>Unknown</label>
		</enumMap>

		<stateSensor ruleid="inletSensorStatus" index=".1.3.6.1.4.1.13742.6.5.2.3.1.3">
			<type>state</type>
			<sensorId>INLET_SENSOR_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="sensorStatus-vm">
					<getRowOid>.1.3.6.1.4.1.13742.6.5.2.3.1.3</getRowOid>
				</mapValue>
			</value>
			<label>
				<!-- the three OID indexes are pduId, inletId, and sensorType; sensorType indicating Temp, Humid, etc -->
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex>
				<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue>
				<space/>Sensor Status
			</label>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex>
			</sensorSet>
			<enum>sensorStatus-em</enum>
		</stateSensor>

		<stateSensor ruleid="inletPoleSensorStatus" index=".1.3.6.1.4.1.13742.6.5.2.4.1.3">
			<type>state</type>
			<sensorId>INLET_POLE_SENSOR_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="sensorStatus-vm">
					<getRowOid>.1.3.6.1.4.1.13742.6.5.2.4.1.3</getRowOid>
				</mapValue>
			</value>
			<label>
				<!-- the three OID indexes are pduId, inletId, and sensorType; sensorType indicating Temp, Humid, etc -->
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
				<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex><space/>
				<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue>
				<space/>Sensor Status
			</label>
			<enum>sensorStatus-em</enum>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+\.\d+</op><op><rowIndex/></op><op>%1$s Inlet %2$s</op></regex><space/>
				<regex><op>\d+\.\d+\.(\d+)\.\d+</op><op><rowIndex/></op><op>Pole %1$s</op></regex>
			</sensorSet>
		</stateSensor>

		<stateSensor ruleid="overCurrentProtectorSensorStatus" index=".1.3.6.1.4.1.13742.6.5.3.3.1.3">
			<type>state</type>
			<sensorId>OCP_SENSOR_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="sensorStatus-vm">
					<getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.3</getRowOid>
				</mapValue>
			</value>
			<label>
				<!-- the three OID indexes are pduId, inletId, and sensorType; sensorType indicating Temp, Humid, etc -->
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex><space/>
				<mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue>
				<space/>Sensor Status
			</label>
			<enum>sensorStatus-em</enum>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s OCP %2$s</op></regex>
			</sensorSet>
		</stateSensor>
		<alarmFlags2 ruleid="overCurrentProtectorSensorStatus-alarm" index=".1.3.6.1.4.1.13742.6.5.3.3.1.3">
			<value><getRowOid>.1.3.6.1.4.1.13742.6.5.3.3.1.3</getRowOid></value>
			<alarmFlagsTest match="0">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)\.\d+</op>
						<op><rowIndex/></op>
						<op>%1$s OCP %2$s</op>
						</regex><space/>
						<mapValue mapid="sensorTypeIndex-vm">
							<regex>
							<op>\d+\.\d+\.(\d+)</op>
							<op><rowIndex/></op>
							<op>%1$s</op>
							</regex>
						</mapValue><space/>Open
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)\.\d+</op>
						<op><rowIndex/></op>
						<op>%1$s OCP %2$s</op>
						</regex><space/>
						<mapValue mapid="sensorTypeIndex-vm">
							<regex>
							<op>\d+\.\d+\.(\d+)</op>
							<op><rowIndex/></op>
							<op>%1$s</op>
							</regex>
						</mapValue><space/>No Longer Open
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)\.\d+</op>
						<op><rowIndex/></op>
						<op>%1$s OCP %2$s</op>
						</regex><space/>
						<mapValue mapid="sensorTypeIndex-vm">
							<regex>
							<op>\d+\.\d+\.(\d+)</op>
							<op><rowIndex/></op>
							<op>%1$s</op>
							</regex>
						</mapValue><space/>is open.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)\.\d+</op>
						<op><rowIndex/></op>
						<op>%1$s OCP %2$s</op>
						</regex><space/>
						<mapValue mapid="sensorTypeIndex-vm">
							<regex>
							<op>\d+\.\d+\.(\d+)</op>
							<op><rowIndex/></op>
							<op>%1$s</op>
							</regex>
						</mapValue><space/>is no longer open.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

		<stateSensor ruleid="outletSensorStatus" index=".1.3.6.1.4.1.13742.6.5.4.3.1.3">
			<type>state</type>
			<sensorId>OUTLET_SENSOR_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="sensorStatus-vm">
					<getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.3</getRowOid>
				</mapValue>
			</value>  
			<label>
				<!-- the three OID indexes are pduId, outletId, and sensorType; sensorType indicating Temp, Humid, etc -->
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
				(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)
				<space/><mapValue mapid="sensorTypeIndex-vm"><regex><op>\d+\.\d+\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex></mapValue>
				<space/>Sensor Status
			</label>
			<enum>sensorStatus-em</enum>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s Outlet %2$s</op></regex><space/>
				(<getOid>.1.3.6.1.4.1.13742.6.3.5.3.1.3.<regex><op>(\d+)\.(\d+)\.\d+</op><op><rowIndex/></op><op>%1$s.%2$s</op></regex></getOid>)
			</sensorSet>
		</stateSensor>
		<!--<alarmFlags2 ruleid="outletSensorStatus-alarm" index=".1.3.6.1.4.1.13742.6.5.4.3.1.3">
			<value><getRowOid>.1.3.6.1.4.1.13742.6.5.4.3.1.3</getRowOid></value>
			<alarmFlagsTest match="8">
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)\.\d+</op>
						<op><rowIndex/></op>
						<op>%1$s Outlet %2$s</op>
						</regex><space/>
						<mapValue mapid="sensorTypeIndex-vm">
							<regex>
							<op>\d+\.\d+\.(\d+)</op>
							<op><rowIndex/></op>
							<op>%1$s</op>
							</regex>
						</mapValue><space/>Off
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)\.\d+</op>
						<op><rowIndex/></op>
						<op>%1$s Outlet %2$s</op>
						</regex><space/>
						<mapValue mapid="sensorTypeIndex-vm">
							<regex>
							<op>\d+\.\d+\.(\d+)</op>
							<op><rowIndex/></op>
							<op>%1$s</op>
							</regex>
						</mapValue><space/>No Longer Off
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)\.\d+</op>
						<op><rowIndex/></op>
						<op>%1$s Outlet %2$s</op>
						</regex><space/>
						<mapValue mapid="sensorTypeIndex-vm">
							<regex>
							<op>\d+\.\d+\.(\d+)</op>
							<op><rowIndex/></op>
							<op>%1$s</op>
							</regex>
						</mapValue><space/>is off.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)\.\d+</op>
						<op><rowIndex/></op>
						<op>%1$s Outlet %2$s</op>
						</regex><space/>
						<mapValue mapid="sensorTypeIndex-vm">
							<regex>
							<op>\d+\.\d+\.(\d+)</op>
							<op><rowIndex/></op>
							<op>%1$s</op>
							</regex>
						</mapValue><space/>is no longer off.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>-->

		<stateSensor ruleid="externalSensorStatus" index=".1.3.6.1.4.1.13742.6.5.5.3.1.3">
			<type>state</type>
			<sensorId>EXTERNAL_SENSOR_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="sensorStatus-vm">
					<getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.3</getRowOid>
				</mapValue>
			</value>  
			<label>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>
				<getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid><space/>(
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.2</getRowOid></op><op>14</op></eq></op>
					<op><mapValue mapid="sensorTypeIndex-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.10</getRowOid></mapValue></op>
					<op><mapValue mapid="sensorTypeIndex-vm"><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.2</getRowOid></mapValue></op>
				</if>
				)<space/>Sensor Status
			</label>
			<enum>sensorStatus-em</enum>
			<sensorSet>
				<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
				<regex><op>(\d+)\.(\d+)</op><op><rowIndex/></op><op>%1$s</op></regex><space/>External Sensors
			</sensorSet>
		</stateSensor>
		<alarmFlags2 ruleid="externalSensorStatus-alarm" index=".1.3.6.1.4.1.13742.6.5.5.3.1.3">
			<value><getRowOid>.1.3.6.1.4.1.13742.6.5.5.3.1.3</getRowOid></value>
			<alarmFlagsTest match="b"><!-- 0xb = 11 -->
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> Alarm
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> Alarm Cleared
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> is in an Alarmed state.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
			<alarmFlagsTest match="1a"><!-- 0x1a = 26 -->
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> Fault
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> Fault Cleared
					</inactiveText>
				</name>
				<severity>failure</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> is in a Fault state.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
			<alarmFlagsTest match="1b"><!-- 0x1b = 27 -->
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> Warning
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> Warning Cleared
					</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> is in a Warning state.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
			<alarmFlagsTest match="1c"><!-- 0x1c = 28 -->
				<name>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> Critical
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> Critical Cleared
					</inactiveText>
				</name>
				<severity>critical</severity>
				<category>System</category>
				<description>
					<activeText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> is in a Critical state.
					</activeText>
					<inactiveText>
						<mapValue mapid="deviceTypeLabel-vm"><getOid default="0">.1.3.6.1.4.1.13742.6.3.2.2.1.67.1</getOid></mapValue><space/>
						<regex>
						<op>(\d+)\.(\d+)</op>
						<op><rowIndex/></op>
						<op>%1$s</op>
						</regex><space/><getRowOid>.1.3.6.1.4.1.13742.6.3.6.3.1.4</getRowOid> has returned to normal.
					</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>

	</device>
</APC_DDF>
