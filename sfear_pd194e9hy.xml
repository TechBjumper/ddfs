<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="sfear_pd194e9hy" ddfname="Sfear PD194E9HY" ddfversion="1" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="Sfear_PD194E9HY">
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
    <setProductData ruleid="vendordata" field="vendor">Sfear</setProductData>
    <setProductData ruleid="modeldata" field="model">PD194E 9HY</setProductData>
    <setProductData ruleid="typedata" field="type">Power Meter</setProductData>
    <setDefaultLabel ruleid="labeldata">
      <sysHostname />
      - Slave
      <commSetting field="slaveaddress" />
    </setDefaultLabel>
    <numSensor ruleid="function3_0">
      <type>voltage</type>
      <units />
      <sensorId>_FUNCTION3_0</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_0</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_0</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_2">
      <type>voltage</type>
      <units />
      <sensorId>_FUNCTION3_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_2</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_2</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_4">
      <type>voltage</type>
      <units />
      <sensorId>_FUNCTION3_4</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_4</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_4</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_6">
      <type>voltage</type>
      <units />
      <sensorId>_FUNCTION3_6</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_6</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_6</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_8">
      <type>voltage</type>
      <units />
      <sensorId>_FUNCTION3_8</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_8</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_8</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_10">
      <type>voltage</type>
      <units />
      <sensorId>_FUNCTION3_10</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_10</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_10</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_12">
      <type>amperage</type>
      <units />
      <sensorId>_FUNCTION3_12</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_12</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_12</label>
      <sensorSet>Ampere</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_14">
      <type>amperage</type>
      <units />
      <sensorId>_FUNCTION3_14</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_14</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_14</label>
      <sensorSet>Ampere</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_16">
      <type>amperage</type>
      <units />
      <sensorId>_FUNCTION3_16</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_16</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_16</label>
      <sensorSet>Ampere</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_18">
      <type>num/powerKW</type>
      <units />
      <sensorId>_FUNCTION3_18</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_18</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_18</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_20">
      <type>num/powerKW</type>
      <units />
      <sensorId>_FUNCTION3_20</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_20</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_20</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_22">
      <type>num/powerKW</type>
      <units />
      <sensorId>_FUNCTION3_22</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_22</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_22</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_24">
      <type>num/powerKW</type>
      <units />
      <sensorId>_FUNCTION3_24</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_24</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_24</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_26">
      <type>num/powerKVAR</type>
      <units />
      <sensorId>_FUNCTION3_26</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_26</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_26</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_28">
      <type>num/powerKVAR</type>
      <units />
      <sensorId>_FUNCTION3_28</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_28</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_28</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_30">
      <type>num/powerKVAR</type>
      <units />
      <sensorId>_FUNCTION3_30</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_30</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_30</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_32">
      <type>num/powerKVAR</type>
      <units />
      <sensorId>_FUNCTION3_32</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_32</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_32</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_34">
      <type>num/powerKVA</type>
      <units />
      <sensorId>_FUNCTION3_34</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_34</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_34</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_36">
      <type>num</type>
      <units />
      <sensorId>_FUNCTION3_36</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_36</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_36</label>
      <sensorSet>General</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_38">
      <type>frequency</type>
      <units />
      <sensorId>_FUNCTION3_38</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_38</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_38</label>
      <sensorSet>Frequency</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_40">
      <type>num/kwatthr</type>
      <units />
      <sensorId>_FUNCTION3_40</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_40</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_40</label>
      <sensorSet>Energy</sensorSet>
    </numSensor>
    <numSensor ruleid="function3_42">
      <type>num/kwatthr</type>
      <units />
      <sensorId>_FUNCTION3_42</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_42</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Function3_42</label>
      <sensorSet>Energy</sensorSet>
    </numSensor>
    <stateSensor ruleid="function4_state_1">
      <type>state</type>
      <sensorId>_FUNCTION4_STATE_1</sensorId>
      <value>
        <mapValue mapid="onoffline_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_4_Reg_2000</getOid>
                  </op>
                  <op>0</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Function4_state_1</label>
      <enum>onoffline_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
	<valueMap ruleid="onoffline_vm">
<valueIn>0</valueIn>
			<valueOut>0</valueOut>
<valueIn>1</valueIn>
			<valueOut>1</valueOut>
<valueIn>*</valueIn>
		<valueOut>0</valueOut>
</valueMap>

<enumMap ruleid="onoffline_em">
<label>On-line</label>
<label>Off-line</label>
</enumMap>
  </device>
  <protocol>
    <modbus>
      <value_ref_id valid="Function_3_Reg_6">
        <function>3</function>
        <start_addr>5</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_4">
        <function>3</function>
        <start_addr>3</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_2">
        <function>3</function>
        <start_addr>1</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_12">
        <function>3</function>
        <start_addr>11</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_10">
        <function>3</function>
        <start_addr>9</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_8">
        <function>3</function>
        <start_addr>7</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_14">
        <function>3</function>
        <start_addr>13</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_22">
        <function>3</function>
        <start_addr>21</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_0">
        <function>3</function>
        <start_addr>0</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_16">
        <function>3</function>
        <start_addr>15</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_24">
        <function>3</function>
        <start_addr>23</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_32">
        <function>3</function>
        <start_addr>31</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_34">
        <function>3</function>
        <start_addr>33</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_42">
        <function>3</function>
        <start_addr>41</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_18">
        <function>3</function>
        <start_addr>17</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_20">
        <function>3</function>
        <start_addr>19</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_26">
        <function>3</function>
        <start_addr>25</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_28">
        <function>3</function>
        <start_addr>27</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_36">
        <function>3</function>
        <start_addr>35</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_38">
        <function>3</function>
        <start_addr>37</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_40">
        <function>3</function>
        <start_addr>39</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_30">
        <function>3</function>
        <start_addr>29</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="Function_4_Reg_2000">
        <function>4</function>
        <start_addr>1999</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
    </modbus>
  </protocol>
</APC_DDF>
