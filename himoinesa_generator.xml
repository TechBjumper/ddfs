<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="himoinesa_generator" ddfname="Himoinesa Generator" ddfversion="1" canremove="yes">
	<schemaVersion>1.6</schemaVersion>
	<device deviceid="himoinesa_generator">
		<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
		<setProductData ruleid="vendordata" field="vendor">Himoinesa</setProductData>
		<setProductData ruleid="modeldata" field="model">Generator</setProductData>
		<setProductData ruleid="typedata" field="type">Generator</setProductData>
		<setDefaultLabel ruleid="labeldata">
			<sysHostname />
      - Slave
			<commSetting field="slaveaddress" />
		</setDefaultLabel>
		<stateSensor ruleid="starting_the_engine">
			<type>state</type>
			<sensorId>_STARTING_THE_ENGINE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>STARTING_THE_ENGINE</getOid>
				</mapValue>
			</value>
			<label>Starting the Engine</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Coil Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="automatic_mode">
			<type>state</type>
			<sensorId>_AUTOMATIC_MODE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>AUTOMATIC_MODE</getOid>
				</mapValue>
			</value>
			<label>Automatic Mode</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Coil Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="manual_mode">
			<type>state</type>
			<sensorId>_MANUAL_MODE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>MANUAL_MODE</getOid>
				</mapValue>
			</value>
			<label>Manual Mode</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Coil Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="test_mode">
			<type>state</type>
			<sensorId>_TEST_MODE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>TEST_MODE</getOid>
				</mapValue>
			</value>
			<label>Test Mode</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Coil Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="high_water_temperature">
			<type>state</type>
			<sensorId>_HIGH_WATER_TEMPERATURE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>HIGH_WATER_TEMPERATURE</getOid>
				</mapValue>
			</value>
			<label>High Water Temperature</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="low_oil_pressure">
			<type>state</type>
			<sensorId>_LOW_OIL_PRESSURE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>LOW_OIL_PRESSURE</getOid>
				</mapValue>
			</value>
			<label>Low Oil Pressure</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="emergency_stop">
			<type>state</type>
			<sensorId>_EMERGENCY_STOP</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>EMERGENCY_STOP</getOid>
				</mapValue>
			</value>
			<label>Emergency Stop</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="battery_alternator_fault">
			<type>state</type>
			<sensorId>_BATTERY_ALTERNATOR_FAULT</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>BATTERY_ALTERNATOR_FAULT</getOid>
				</mapValue>
			</value>
			<label>Battery Alternator Fault</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="start_up_fault">
			<type>state</type>
			<sensorId>_START_UP_FAULT</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>START_UP_FAULT</getOid>
				</mapValue>
			</value>
			<label>Start up Fault</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="low_water_level">
			<type>state</type>
			<sensorId>_LOW_WATER_LEVEL</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>LOW_WATER_LEVEL</getOid>
				</mapValue>
			</value>
			<label>Low Water Level</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="overload">
			<type>state</type>
			<sensorId>_OVERLOAD</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>OVERLOAD</getOid>
				</mapValue>
			</value>
			<label>Overload</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="low_battery_voltage">
			<type>state</type>
			<sensorId>_LOW_BATTERY_VOLTAGE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>LOW_BATTERY_VOLTAGE</getOid>
				</mapValue>
			</value>
			<label>Low Battery Voltage</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="pre_alarm_low_water_temperature">
			<type>state</type>
			<sensorId>_PRE_ALARM_LOW_WATER_TEMPERATURE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>PRE_ALARM_LOW_WATER_TEMPERATURE</getOid>
				</mapValue>
			</value>
			<label>Pre alarm Low Water Temperature</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="pre_alarm_low_oil_pressure">
			<type>state</type>
			<sensorId>_PRE_ALARM_LOW_OIL_PRESSURE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>PRE_ALARM_LOW_OIL_PRESSURE</getOid>
				</mapValue>
			</value>
			<label>Pre alarm Low Oil Pressure</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="short_circuit">
			<type>state</type>
			<sensorId>_SHORT_CIRCUIT</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>SHORT_CIRCUIT</getOid>
				</mapValue>
			</value>
			<label>Short Circuit</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="unexpected_stop">
			<type>state</type>
			<sensorId>_UNEXPECTED_STOP</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>UNEXPECTED_STOP</getOid>
				</mapValue>
			</value>
			<label>Unexpected Stop</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="failure_to_stop">
			<type>state</type>
			<sensorId>_FAILURE_TO_STOP</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>FAILURE_TO_STOP</getOid>
				</mapValue>
			</value>
			<label>Failure to Stop</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="signal_drop_of_the_group">
			<type>state</type>
			<sensorId>_SIGNAL_DROP_OF_THE_GROUP</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>SIGNAL_DROP_OF_THE_GROUP</getOid>
				</mapValue>
			</value>
			<label>Signal Drop of the Group</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="communication_failure_with_switching">
			<type>state</type>
			<sensorId>_COMMUNICATION_FAILURE_WITH_SWITCHING</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>COMMUNICATION_FAILURE_WITH_SWITCHING</getOid>
				</mapValue>
			</value>
			<label>Communication Failure with Switching</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="network_signal_drop">
			<type>state</type>
			<sensorId>_NETWORK_SIGNAL_DROP</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>NETWORK_SIGNAL_DROP</getOid>
				</mapValue>
			</value>
			<label>Network Signal Drop</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="cr_activation_failure">
			<type>state</type>
			<sensorId>_CR_ACTIVATION_FAILURE</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>CR_ACTIVATION_FAILURE</getOid>
				</mapValue>
			</value>
			<label>CR Activation Failure</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="failure_to_activate_cg">
			<type>state</type>
			<sensorId>_FAILURE_TO_ACTIVATE_CG</sensorId>
			<value>
				<mapValue mapid="tru_fal_vm">
					<getOid>FAILURE_TO_ACTIVATE_CG</getOid>
				</mapValue>
			</value>
			<label>Failure to Activate CG</label>
			<enum>tru_fal_em</enum>
			<sensorSet>Input Status</sensorSet>
		</stateSensor>
		<numSensor ruleid="total_running_time">
			<type>timeinmin</type>
			<sensorId>_TIME_ON_GEN_1</sensorId>
			<value>
				<getOid>TOTAL_RUNNING_TIME</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Total Running Time</label>
			<sensorSet>Input Register</sensorSet>
		</numSensor>
		<valueMap ruleid="tru_fal_vm">
			<valueIn>0</valueIn>
			<valueOut>0</valueOut>
			<valueIn>1</valueIn>
			<valueOut>1</valueOut>
			<valueIn>*</valueIn>
			<valueOut>0</valueOut>
		</valueMap>

		<enumMap ruleid="tru_fal_em">
			<label>False</label>
			<label>True</label>
		</enumMap>
	</device>
	<protocol>
		<modbus>
			<value_ref_id valid="STARTING_THE_ENGINE">
				<function>1</function>
				<start_addr>1</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="AUTOMATIC_MODE">
				<function>1</function>
				<start_addr>3</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="MANUAL_MODE">
				<function>1</function>
				<start_addr>4</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="TEST_MODE">
				<function>1</function>
				<start_addr>5</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="HIGH_WATER_TEMPERATURE">
				<function>2</function>
				<start_addr>0</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="LOW_OIL_PRESSURE">
				<function>2</function>
				<start_addr>1</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="EMERGENCY_STOP">
				<function>2</function>
				<start_addr>2</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="BATTERY_ALTERNATOR_FAULT">
				<function>2</function>
				<start_addr>3</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="START_UP_FAULT">
				<function>2</function>
				<start_addr>4</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="LOW_WATER_LEVEL">
				<function>2</function>
				<start_addr>5</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="OVERLOAD">
				<function>2</function>
				<start_addr>9</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="LOW_BATTERY_VOLTAGE">
				<function>2</function>
				<start_addr>15</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="PRE_ALARM_LOW_WATER_TEMPERATURE">
				<function>2</function>
				<start_addr>16</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="PRE_ALARM_LOW_OIL_PRESSURE">
				<function>2</function>
				<start_addr>17</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="SHORT_CIRCUIT">
				<function>2</function>
				<start_addr>19</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="UNEXPECTED_STOP">
				<function>2</function>
				<start_addr>22</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="FAILURE_TO_STOP">
				<function>2</function>
				<start_addr>23</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="SIGNAL_DROP_OF_THE_GROUP">
				<function>2</function>
				<start_addr>25</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="COMMUNICATION_FAILURE_WITH_SWITCHING">
				<function>2</function>
				<start_addr>29</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="NETWORK_SIGNAL_DROP">
				<function>2</function>
				<start_addr>35</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="CR_ACTIVATION_FAILURE">
				<function>2</function>
				<start_addr>36</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="FAILURE_TO_ACTIVATE_CG">
				<function>2</function>
				<start_addr>37</start_addr>
				<quantity>1</quantity>
				<type>bit</type>
			</value_ref_id>
			<value_ref_id valid="TOTAL_RUNNING_TIME">
				<function>4</function>
				<start_addr>41</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
		</modbus>
	</protocol>
</APC_DDF>
