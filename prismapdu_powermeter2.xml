<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="prismapdu_powermeter2" ddfname="PrismaPDU PowerMeter2" ddfversion="1" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="prismapdu_powermeter2">
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
    <setProductData ruleid="vendordata" field="vendor">PrismaPDU</setProductData>
    <setProductData ruleid="modeldata" field="model">Power Meter2</setProductData>
    <setProductData ruleid="typedata" field="type">Power Meter</setProductData>
    <setDefaultLabel ruleid="labeldata">
      <sysHostname />
      - Slave
      <commSetting field="slaveaddress" />
    </setDefaultLabel>
    <stateSensor ruleid="qf1_status">
      <type>state</type>
      <sensorId>_QF1_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>QF1_STATUS</getOid>
        </mapValue>
      </value>
      <label>QF1 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="qf2_status">
      <type>state</type>
      <sensorId>_QF2_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>QF2_STATUS</getOid>
        </mapValue>
      </value>
      <label>QF2 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb1_status">
      <type>state</type>
      <sensorId>_CB1_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB1_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB1 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb2_status">
      <type>state</type>
      <sensorId>_CB2_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB2_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB2 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb3_status">
      <type>state</type>
      <sensorId>_CB3_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB3_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB3 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb4_status">
      <type>state</type>
      <sensorId>_CB4_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB4_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB4 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb5_status">
      <type>state</type>
      <sensorId>_CB5_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB5_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB5 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb6_status">
      <type>state</type>
      <sensorId>_CB6_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB6_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB6 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb7_status">
      <type>state</type>
      <sensorId>_CB7_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB7_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB7 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb8_status">
      <type>state</type>
      <sensorId>_CB8_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB8_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB8 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb9_status">
      <type>state</type>
      <sensorId>_CB9_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB9_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB9 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb10_status">
      <type>state</type>
      <sensorId>_CB10_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB10_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB10 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb11_status">
      <type>state</type>
      <sensorId>_CB11_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB11_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB11 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb12_status">
      <type>state</type>
      <sensorId>_CB12_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB12_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB12 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb13_status">
      <type>state</type>
      <sensorId>_CB13_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB13_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB13 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb14_status">
      <type>state</type>
      <sensorId>_CB14_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB14_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB14 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb15_status">
      <type>state</type>
      <sensorId>_CB15_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB15_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB15 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb16_status">
      <type>state</type>
      <sensorId>_CB16_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB16_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB16 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb17_status">
      <type>state</type>
      <sensorId>_CB17_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB17_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB17 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb18_status">
      <type>state</type>
      <sensorId>_CB18_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB18_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB18 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb19_status">
      <type>state</type>
      <sensorId>_CB19_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB19_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB19 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb20_status">
      <type>state</type>
      <sensorId>_CB20_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB20_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB20 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="cb21_status">
      <type>state</type>
      <sensorId>_CB21_STATUS</sensorId>
      <value>
        <mapValue mapid="open_close_vm">
          <getOid>CB21_STATUS</getOid>
        </mapValue>
      </value>
      <label>CB21 Status</label>
      <enum>open_close_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
	
		<valueMap ruleid="open_close_vm">
			<valueIn>0</valueIn><valueOut>0</valueOut>
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="open_close_em">
			<label>Open</label>
			<label>Close</label>
		</enumMap>	
	
  </device>
  <protocol>
    <modbus>
      <value_ref_id valid="QF1_STATUS">
        <function>1</function>
        <start_addr>0</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="QF2_STATUS">
        <function>1</function>
        <start_addr>1</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB1_STATUS">
        <function>1</function>
        <start_addr>2</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB2_STATUS">
        <function>1</function>
        <start_addr>3</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB3_STATUS">
        <function>1</function>
        <start_addr>4</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB4_STATUS">
        <function>1</function>
        <start_addr>5</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB5_STATUS">
        <function>1</function>
        <start_addr>6</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB6_STATUS">
        <function>1</function>
        <start_addr>7</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB7_STATUS">
        <function>1</function>
        <start_addr>8</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB8_STATUS">
        <function>1</function>
        <start_addr>9</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB9_STATUS">
        <function>1</function>
        <start_addr>10</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB10_STATUS">
        <function>1</function>
        <start_addr>11</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB11_STATUS">
        <function>1</function>
        <start_addr>12</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB12_STATUS">
        <function>1</function>
        <start_addr>13</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB13_STATUS">
        <function>1</function>
        <start_addr>14</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB14_STATUS">
        <function>1</function>
        <start_addr>15</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB15_STATUS">
        <function>1</function>
        <start_addr>16</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB16_STATUS">
        <function>1</function>
        <start_addr>17</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB17_STATUS">
        <function>1</function>
        <start_addr>18</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB18_STATUS">
        <function>1</function>
        <start_addr>19</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB19_STATUS">
        <function>1</function>
        <start_addr>20</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB20_STATUS">
        <function>1</function>
        <start_addr>21</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CB21_STATUS">
        <function>1</function>
        <start_addr>22</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
    </modbus>
  </protocol>
</APC_DDF>
