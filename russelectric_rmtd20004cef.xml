<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="russelectric_rmtd20004cef" ddfname="RussElectric RMTD20004CEF" ddfversion="1" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="russelectric_rmtd20004cef">
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
    <setProductData ruleid="vendordata" field="vendor">RussElectric</setProductData>
    <setProductData ruleid="modeldata" field="model">RMTD20004CEF</setProductData>
    <setProductData ruleid="typedata" field="type">Transfer Switch</setProductData>
    <setDefaultLabel ruleid="labeldata">
      <sysHostname />
      - Slave
      <commSetting field="slaveaddress" />
    </setDefaultLabel>
    <numSensor ruleid="normal_source_phase_a-b_volts">
      <type>voltage</type>
      <units />
      <sensorId>1_OUTPUT_VOLTAGE_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>NORMAL_SOURCE_PHASE_AB_VOLTS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Normal Source Phase A-B Volts</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="normal_source_phase_b-c_volts">
      <type>voltage</type>
      <units />
      <sensorId>2_OUTPUT_VOLTAGE_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>NORMAL_SOURCE_PHASE_BC_VOLTS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Normal Source Phase B-C Volts</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="normal_source_phase_c-a_volts">
      <type>voltage</type>
      <units />
      <sensorId>3_OUTPUT_VOLTAGE_3</sensorId>
      <value>
        <mult>
          <op>
            <getOid>NORMAL_SOURCE_PHASE_CA_VOLTS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Normal Source Phase C-A Volts</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="normal_source_frequency">
      <type>frequency</type>
      <units />
      <sensorId>1_OUTPUT_FREQ</sensorId>
      <value>
        <mult>
          <op>
            <getOid>NORMAL_SOURCE_FREQUENCY</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Normal Source Frequency</label>
      <sensorSet>Frequency</sensorSet>
    </numSensor>
    <numSensor ruleid="emergency_source_phase_a-b_volts">
      <type>voltage</type>
      <units />
      <sensorId>4_OUTPUT_VOLTAGE_4</sensorId>
      <value>
        <mult>
          <op>
            <getOid>EMERGENCY_SOURCE_PHASE_AB_VOLTS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Emergency Source Phase A-B Volts</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="emergency_source_phase_b-c_volts">
      <type>voltage</type>
      <units />
      <sensorId>5_OUTPUT_VOLTAGE_5</sensorId>
      <value>
        <mult>
          <op>
            <getOid>EMERGENCY_SOURCE_PHASE_BC_VOLTS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Emergency Source Phase B-C Volts</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="emergency_source_phase_c-a_volts">
      <type>voltage</type>
      <units />
      <sensorId>6_OUTPUT_VOLTAGE_6</sensorId>
      <value>
        <mult>
          <op>
            <getOid>EMERGENCY_SOURCE_PHASE_CA_VOLTS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Emergency Source Phase C-A Volts</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="emergency_source_frequency">
      <type>frequency</type>
      <units />
      <sensorId>2_OUTPUT_FREQ</sensorId>
      <value>
        <mult>
          <op>
            <getOid>EMERGENCY_SOURCE_FREQUENCY</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Emergency Source Frequency</label>
      <sensorSet>Frequency</sensorSet>
    </numSensor>
    <numSensor ruleid="current_phase_a">
      <type>amperage</type>
      <units />
      <sensorId>1_OUTPUT_1_CURRENT_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CURRENT_PHASE_A</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Current Phase A</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="current_phase_b">
      <type>amperage</type>
      <units />
      <sensorId>2_OUTPUT_2_CURRENT_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CURRENT_PHASE_B</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Current Phase B</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="current_phase_c">
      <type>amperage</type>
      <units />
      <sensorId>3_OUTPUT_3_CURRENT_3</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CURRENT_PHASE_C</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Current Phase C</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="real_power_kw">
      <type>num/powerKW</type>
      <units />
      <sensorId>SINGLE_PHASE_KW_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>REAL_POWER_KW</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Real Power KW</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="reactive_power_kvar">
      <type>num/powerKVAR</type>
      <units />
      <sensorId>1_TOTAL_POWER_KVAR_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>REACTIVE_POWER_KVAR</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Reactive Power KVAR</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="apparent_power_kva">
      <type>num/powerKVA</type>
      <units />
      <sensorId>1_TOTAL_POWER_KVA_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>APPARENT_POWER_KVA</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Apparent Power KVA</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="power_factor">
      <type>num/powerfactor</type>
      <units />
      <sensorId>1_TOTAL_POWER_FACTOR_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_FACTOR</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Power Factor</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="demand_kw">
      <type>num/powerKW</type>
      <units />
      <sensorId>SINGLE_PHASE_KW_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>DEMAND_KW</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Demand KW</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="demand_kvar">
      <type>num/powerKVAR</type>
      <units />
      <sensorId>2_TOTAL_POWER_KVAR_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>DEMAND_KVAR</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Demand KVAR</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="demand_kva">
      <type>num/powerKVA</type>
      <units />
      <sensorId>2_TOTAL_POWER_KVA_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>DEMAND_KVA</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Demand KVA</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="demand_amps">
      <type>amperage</type>
      <units />
      <sensorId>1_OUTPUT_2_CURRENT</sensorId>
      <value>
        <mult>
          <op>
            <getOid>DEMAND_AMPS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Demand AMPS</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="pt_ratio">
      <type>num</type>
      <units />
      <sensorId>1_TS_ANALOG_VALUE_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PT_RATIO</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>PT Ratio</label>
      <sensorSet>General</sensorSet>
    </numSensor>
    <numSensor ruleid="ct_ratio">
      <type>num</type>
      <units />
      <sensorId>2_TS_ANALOG_VALUE_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CT_RATIO</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>CT Ratio</label>
      <sensorSet>General</sensorSet>
    </numSensor>
    <stateSensor ruleid="xfr_switch_connected_to_normal_sourceanalog">
      <type>state</type>
      <sensorId>1_IN_ROOM_UNIT_STATE_1</sensorId>
      <value>
        <mapValue mapid="truefalse_vm">
          <getOid>XFR_SWITCH_CONNECTED_TO_NORMAL_SOURCEANALOG</getOid>
        </mapValue>
      </value>
      <label>XFR Switch Connected to Normal SourceAnalog</label>
      <enum>truefalse_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="xfr_switch_connected_to_emergency_source">
      <type>state</type>
      <sensorId>2_IN_ROOM_UNIT_STATE_2</sensorId>
      <value>
        <mapValue mapid="truefalse_vm">
          <getOid>XFR_SWITCH_CONNECTED_TO_EMERGENCY_SOURCE</getOid>
        </mapValue>
      </value>
      <label>XFR Switch Connected to Emergency Source</label>
      <enum>truefalse_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="xfr_switch_in_neutral_position">
      <type>state</type>
      <sensorId>3_IN_ROOM_UNIT_STATE_3</sensorId>
      <value>
        <mapValue mapid="truefalse_vm">
          <getOid>XFR_SWITCH_IN_NEUTRAL_POSITION</getOid>
        </mapValue>
      </value>
      <label>XFR Switch in Neutral Position</label>
      <enum>truefalse_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="bypass_to_normal_position">
      <type>state</type>
      <sensorId>4_IN_ROOM_UNIT_STATE_4</sensorId>
      <value>
        <mapValue mapid="errornoerror_vm">
          <getOid>BYPASS_TO_NORMAL_POSITION</getOid>
        </mapValue>
      </value>
      <label>Bypass to Normal Position</label>
      <enum>errornoerror_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="bypass_to_emergency_position">
      <type>state</type>
      <sensorId>5_IN_ROOM_UNIT_STATE_5</sensorId>
      <value>
        <mapValue mapid="errornoerror_vm">
          <getOid>BYPASS_TO_EMERGENCY_POSITION</getOid>
        </mapValue>
      </value>
      <label>Bypass to Emergency Position</label>
      <enum>errornoerror_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
    <stateSensor ruleid="loss_of_comm">
      <type>state</type>
      <sensorId>6_IN_ROOM_UNIT_STATE_6</sensorId>
      <value>
        <mapValue mapid="errornoerror_vm">
          <getOid>LOSS_OF_COMM</getOid>
        </mapValue>
      </value>
      <label>Loss of Comm</label>
      <enum>errornoerror_em</enum>
      <sensorSet>General</sensorSet>
    </stateSensor>
	<valueMap ruleid="errornoerror_vm">
			<valueIn>0</valueIn>
			<valueOut>0</valueOut>
			<valueIn>1</valueIn>
			<valueOut>1</valueOut>
			<valueIn>*</valueIn>
			<valueOut>0</valueOut>
	</valueMap>

	<enumMap ruleid="errornoerror_em">
			<label>No Error</label>
			<label>Error</label>
	</enumMap>
	<valueMap ruleid="truefalse_vm">
			<valueIn>0</valueIn>
			<valueOut>0</valueOut>
			<valueIn>1</valueIn>
			<valueOut>1</valueOut>
			<valueIn>*</valueIn>
			<valueOut>0</valueOut>
	</valueMap>

	<enumMap ruleid="truefalse_em">
			<label>False</label>
			<label>True</label>
	</enumMap>
  </device>
  <protocol>
    <modbus>
      <value_ref_id valid="CT_RATIO">
        <function>3</function>
        <start_addr>44</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="XFR_SWITCH_IN_NEUTRAL_POSITION">
        <function>2</function>
        <start_addr>2</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="EMERGENCY_SOURCE_FREQUENCY">
        <function>3</function>
        <start_addr>7</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="DEMAND_KVA">
        <function>3</function>
        <start_addr>49</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="XFR_SWITCH_CONNECTED_TO_EMERGENCY_SOURCE">
        <function>2</function>
        <start_addr>1</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="PT_RATIO">
        <function>3</function>
        <start_addr>43</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="REACTIVE_POWER_KVAR">
        <function>3</function>
        <start_addr>34</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="DEMAND_KVAR">
        <function>3</function>
        <start_addr>48</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CURRENT_PHASE_B">
        <function>3</function>
        <start_addr>31</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="APPARENT_POWER_KVA">
        <function>3</function>
        <start_addr>35</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="XFR_SWITCH_CONNECTED_TO_NORMAL_SOURCEANALOG">
        <function>2</function>
        <start_addr>0</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="NORMAL_SOURCE_PHASE_BC_VOLTS">
        <function>3</function>
        <start_addr>1</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="REAL_POWER_KW">
        <function>3</function>
        <start_addr>33</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="NORMAL_SOURCE_PHASE_AB_VOLTS">
        <function>3</function>
        <start_addr>0</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CURRENT_PHASE_C">
        <function>3</function>
        <start_addr>32</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="DEMAND_KW">
        <function>3</function>
        <start_addr>47</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="EMERGENCY_SOURCE_PHASE_CA_VOLTS">
        <function>3</function>
        <start_addr>6</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="BYPASS_TO_NORMAL_POSITION">
        <function>1</function>
        <start_addr>27</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="DEMAND_AMPS">
        <function>3</function>
        <start_addr>50</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="NORMAL_SOURCE_PHASE_CA_VOLTS">
        <function>3</function>
        <start_addr>2</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_FACTOR">
        <function>3</function>
        <start_addr>36</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="LOSS_OF_COMM">
        <function>1</function>
        <start_addr>0</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="EMERGENCY_SOURCE_PHASE_AB_VOLTS">
        <function>3</function>
        <start_addr>4</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="EMERGENCY_SOURCE_PHASE_BC_VOLTS">
        <function>3</function>
        <start_addr>5</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="NORMAL_SOURCE_FREQUENCY">
        <function>3</function>
        <start_addr>3</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="BYPASS_TO_EMERGENCY_POSITION">
        <function>1</function>
        <start_addr>28</start_addr>
        <quantity>1</quantity>
        <type>bit</type>
      </value_ref_id>
      <value_ref_id valid="CURRENT_PHASE_A">
        <function>3</function>
        <start_addr>30</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
    </modbus>
  </protocol>
</APC_DDF>
