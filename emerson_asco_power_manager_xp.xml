<?xml version="1.0" encoding="UTF-8"?>
<!-- Oleksiy O. Loktev spezialist@email.ua Date: 14.05.2014 -->

<!-- Test Modbus related information -->
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd"
	ddfid="emerson_asco_power_manager_xp" ddfname="Emerson ASCO Power Manager Xp" ddfversion="6" canremove="no">
	<schemaVersion>1.6</schemaVersion>

	<device deviceid="emerson_asco_power_manager_xp">
		<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST"/>

		<setDefaultLabel ruleid="labeldata">ASCO PM<commSetting field="slaveaddress"/>(<sysHostname/>)</setDefaultLabel>

		<setProductData ruleid="vendordata" field="vendor">Emerson Electric</setProductData>
		<setProductData ruleid="modeldata" field="model">ASCO 5200 Series Power Manager Xp</setProductData>
		<setProductData ruleid="typedata" field="type">Power Meter</setProductData>
		<!--		<setProductData ruleid="mac_addrdata" field="mac_addr">xx:xx:xx:xx:xx:xx</setProductData> -->
		<!--		<setProductData ruleid="appversiondata" field="appversion">myVersion</setProductData> -->
		<!--		<setProductData ruleid="serial_numdata" field="serial_num">myS/N</setProductData> -->

		<!--		<setLocationData ruleid="namedata" field="SYSNAME">myName</setLocationData> -->
		<!--		<setLocationData ruleid="locationdata" field="LOCATION">myLocation</setLocationData> -->
		<!--		<setLocationData ruleid="contactdata" field="CONTACT">myContact</setLocationData> -->
		<!--		<setLocationData ruleid="descdata" field="NOTES">myNotes</setLocationData> -->

		<normalCondition>
			<name>Online: No Alarms Present</name>
			<description>The device is operating normally.</description>
			<normalRecommendedActions>
				<recommendedActionId>No action required.</recommendedActionId>
			</normalRecommendedActions>
		</normalCondition>

		<valueMap ruleid="skip_missing_sensor">
			<valueIn>32767</valueIn>
			<valueOut>[false]</valueOut>
			<valueIn>*</valueIn>
			<valueOut>[true]</valueOut>
		</valueMap>

		<!-- Data Protocol 40001 for power manager -->
		<numSensor ruleid="sensor_register_10">
			<type>voltage</type>
			<sensorId>id_register_10</sensorId>
			<value>
				<getOid>register_10</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to neutral voltage, V1</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_11">
			<type>voltage</type>
			<sensorId>id_register_11</sensorId>
			<value>
				<getOid>register_11</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to neutral voltage, V2</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_12">
			<type>voltage</type>
			<sensorId>id_register_12</sensorId>
			<value>
				<getOid>register_12</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to neutral voltage, V3</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_13">
			<type>voltage</type>
			<sensorId>id_register_13</sensorId>
			<value>
				<getOid>register_13</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to neutral average voltage, Va</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_14">
			<type>voltage</type>
			<sensorId>id_register_14</sensorId>
			<value>
				<getOid>register_14</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to phase voltage, U12</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_15">
			<type>voltage</type>
			<sensorId>id_register_15</sensorId>
			<value>
				<getOid>register_15</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to phase voltage, U23</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_16">
			<type>voltage</type>
			<sensorId>id_register_16</sensorId>
			<value>
				<getOid>register_16</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to phase voltage, U31</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_17">
			<type>voltage</type>
			<sensorId>id_register_17</sensorId>
			<value>
				<getOid>register_17</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to phase average voltage, Ua</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_18">
			<type>num</type>
			<units>percent</units>
			<sensorId>id_register_18</sensorId>
			<value>
				<getOid>register_18</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to phase voltage unbalance</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_19">
			<type>num</type>
			<units>percent</units>
			<sensorId>id_register_19</sensorId>
			<value>
				<getOid>register_19</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Phase to neutral voltage unbalance</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_20">
			<type>amperage</type>
			<sensorId>id_register_20</sensorId>
			<value>
				<getOid>register_20</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Current, I1</label>
			<sensorSet>Current Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_21">
			<type>amperage</type>
			<sensorId>id_register_21</sensorId>
			<value>
				<getOid>register_21</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Current, I2</label>
			<sensorSet>Current Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_22">
			<type>amperage</type>
			<sensorId>id_register_22</sensorId>
			<value>
				<getOid>register_22</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Current, I3</label>
			<sensorSet>Current Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_23">
			<type>amperage</type>
			<sensorId>id_register_23</sensorId>
			<value>
				<getOid>register_23</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Average current, Ia</label>
			<sensorSet>Current Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_24">
			<type>num</type>
			<units>percent</units>
			<sensorId>id_register_24</sensorId>
			<value>
				<getOid>register_24</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Current unbalance</label>
			<sensorSet>Current Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_25">
			<type>amperage</type>
			<sensorId>id_register_25</sensorId>
			<value>
				<getOid>register_25</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Neutral current, In</label>
			<sensorSet>Current Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_30">
			<type>num/powerKW</type>
			<sensorId>id_register_30</sensorId>
			<value>
				<getOid>register_30</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Active power phase 1</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_31">
			<type>num/powerKW</type>
			<sensorId>id_register_31</sensorId>
			<value>
				<getOid>register_31</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Active power phase 2</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_32">
			<type>num/powerKW</type>
			<sensorId>id_register_32</sensorId>
			<value>
				<getOid>register_32</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Active power phase 3</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_33">
			<type>num/powerKW</type>
			<sensorId>id_register_33</sensorId>
			<value>
				<getOid>register_33</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Total active power</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_34">
			<type>num/powerKVAR</type>
			<sensorId>id_register_34</sensorId>
			<value>
				<getOid>register_34</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Reactive power phase 1</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_35">
			<type>num/powerKVAR</type>
			<sensorId>id_register_35</sensorId>
			<value>
				<getOid>register_35</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Reactive power phase 2</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_36">
			<type>num/powerKVAR</type>
			<sensorId>id_register_36</sensorId>
			<value>
				<getOid>register_36</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Reactive power phase 3</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_37">
			<type>num/powerKVAR</type>
			<sensorId>id_register_37</sensorId>
			<value>
				<getOid>register_37</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Total reactive power</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_38">
			<type>num/powerfactor</type>
			<sensorId>id_register_38</sensorId>
			<value>
				<mult>
					<op>
						<getOid>register_38</getOid>
					</op>
					<op>.01</op>
				</mult>
			</value>
			<valueInc>.01</valueInc>
			<label>Power factor phase 1</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_39">
			<type>num/powerfactor</type>
			<sensorId>id_register_39</sensorId>
			<value>
				<mult>
					<op>
						<getOid>register_39</getOid>
					</op>
					<op>.01</op>
				</mult>
			</value>
			<valueInc>.01</valueInc>
			<label>Power factor phase 2</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_40">
			<type>num/powerfactor</type>
			<sensorId>id_register_40</sensorId>
			<value>
				<mult>
					<op>
						<getOid>register_40</getOid>
					</op>
					<op>.01</op>
				</mult>
			</value>
			<valueInc>.01</valueInc>
			<label>Power factor phase 3</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_41">
			<type>num/powerfactor</type>
			<sensorId>id_register_41</sensorId>
			<value>
				<mult>
					<op>
						<getOid>register_41</getOid>
					</op>
					<op>.01</op>
				</mult>
			</value>
			<valueInc>.01</valueInc>
			<label>Total power factor</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_42">
			<type>num/powerKVA</type>
			<sensorId>id_register_42</sensorId>
			<value>
				<getOid>register_42</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Apparent power phase 1</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_43">
			<type>num/powerKVA</type>
			<sensorId>id_register_43</sensorId>
			<value>
				<getOid>register_43</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Apparent power phase 2</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_44">
			<type>num/powerKVA</type>
			<sensorId>id_register_44</sensorId>
			<value>
				<getOid>register_44</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Apparent power phase 3</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_45">
			<type>num/powerKVA</type>
			<sensorId>id_register_45</sensorId>
			<value>
				<getOid>register_45</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Total apparent power</label>
			<sensorSet>Power Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_47">
			<type>frequency</type>
			<sensorId>id_register_47</sensorId>
			<value>
				<mult>
					<op>
						<getOid>register_47</getOid>
					</op>
					<op>.01</op>
				</mult>
			</value>
			<valueInc>.01</valueInc>
			<label>Frequency</label>
			<sensorSet>Voltage Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_50">
			<type>num/kwatthr</type>
			<sensorId>id_register_50</sensorId>
			<value>
				<getOid>register_50</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Normal import active energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_52">
			<type>num/kwatthr</type>
			<sensorId>id_register_52</sensorId>
			<value>
				<getOid>register_52</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Normal export active energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_54">
			<type>num/kwatthr</type>
			<sensorId>id_register_54</sensorId>
			<value>
				<getOid>register_54</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Normal total active energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_56">
			<type>num/kVARhr</type>
			<sensorId>id_register_56</sensorId>
			<value>
				<getOid>register_56</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Normal import reactive energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_58">
			<type>num/kVARhr</type>
			<sensorId>id_register_58</sensorId>
			<value>
				<getOid>register_58</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Normal export reactive energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_60">
			<type>num/kVARhr</type>
			<sensorId>id_register_60</sensorId>
			<value>
				<getOid>register_60</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Normal total reactive energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_62">
			<type>num/kVAhr</type>
			<sensorId>id_register_62</sensorId>
			<value>
				<getOid>register_62</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Normal total apparent energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_64">
			<type>voltage</type>
			<sensorId>id_register_64</sensorId>
			<value>
				<getOid>register_64</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal voltage</label>
			<sensorSet>Other Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_65">
			<type>amperage</type>
			<sensorId>id_register_65</sensorId>
			<value>
				<getOid>register_65</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal current</label>
			<sensorSet>Other Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_66">
			<type>num/powerKW</type>
			<sensorId>id_register_66</sensorId>
			<value>
				<getOid>register_66</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal active power capacity</label>
			<sensorSet>Other Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_70">
			<type>num/kwatthr</type>
			<sensorId>id_register_70</sensorId>
			<value>
				<getOid>register_70</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Emergency import active energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_72">
			<type>num/kwatthr</type>
			<sensorId>id_register_72</sensorId>
			<value>
				<getOid>register_72</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Emergency export active energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_74">
			<type>num/kwatthr</type>
			<sensorId>id_register_74</sensorId>
			<value>
				<getOid>register_74</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Emergency total active energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_76">
			<type>num/kVARhr</type>
			<sensorId>id_register_76</sensorId>
			<value>
				<getOid>register_76</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Emergency import reactive energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_78">
			<type>num/kVARhr</type>
			<sensorId>id_register_78</sensorId>
			<value>
				<getOid>register_78</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Emergency export reactive energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_80">
			<type>num/kVARhr</type>
			<sensorId>id_register_80</sensorId>
			<value>
				<getOid>register_80</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Emergency total reactive energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_82">
			<type>num/kVAhr</type>
			<sensorId>id_register_82</sensorId>
			<value>
				<getOid>register_82</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Emergency total apparent energy</label>
			<sensorSet>Energy Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_87">
			<type>num/powerKW</type>
			<sensorId>id_register_87</sensorId>
			<value>
				<getOid>register_87</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Instantaneous active power demand</label>
			<sensorSet>Other Sensors</sensorSet>
		</numSensor>
		<numSensor ruleid="sensor_register_88">
			<type>num/powerKW</type>
			<sensorId>id_register_88</sensorId>
			<value>
				<getOid>register_88</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Maximum active power demand</label>
			<sensorSet>Other Sensors</sensorSet>
		</numSensor>

		<valueMap ruleid="inactive_active-vm">
			<valueIn>0</valueIn>
			<valueOut>0</valueOut>
			<valueIn>*</valueIn>
			<valueOut>1</valueOut>
		</valueMap>
		<enumMap ruleid="inactive_active-em">
			<label>Not Activated</label>
			<label>Activated</label>
		</enumMap>
		<enumMap ruleid="deenergiz_energiz-em">
			<label>Not Energized</label>
			<label>Energized</label>
		</enumMap>
		<enumMap ruleid="no_yes-em">
			<label>No</label>
			<label>Yes</label>
		</enumMap>

		<!-- Data Protocol 40001 for power manager -->
		<stateSensor ruleid="sensor_register_67">
			<type>state</type>
			<sensorId>id_register_67</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<getOid>register_67</getOid>
					</formatNumber>
				</mapValue>
			</value>
			<enum>nominal_frequency-em</enum>
			<label>Nominal frequency, Hz</label>
			<sensorSet>Other Sensors</sensorSet>
		</stateSensor>
		<enumMap ruleid="nominal_frequency-em">
			<label>60</label>
			<label>50</label>
		</enumMap>
		<stateSensor ruleid="sensor_register_93_0">
			<type>state</type>
			<sensorId>id_register_93_0</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit0 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_93</getOid>
									</op>
									<op>0</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>deenergiz_energiz-em</enum>
			<label>Discrete internal input 1</label>
			<sensorSet>Input Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_93_1">
			<type>state</type>
			<sensorId>id_register_93_1</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit1 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_93</getOid>
									</op>
									<op>1</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>deenergiz_energiz-em</enum>
			<label>Discrete internal input 2</label>
			<sensorSet>Input Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_93_2">
			<type>state</type>
			<sensorId>id_register_93_2</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit2 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_93</getOid>
									</op>
									<op>2</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>deenergiz_energiz-em</enum>
			<label>Discrete internal input 3</label>
			<sensorSet>Input Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_93_3">
			<type>state</type>
			<sensorId>id_register_93_3</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit3 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_93</getOid>
									</op>
									<op>3</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>deenergiz_energiz-em</enum>
			<label>Discrete internal input 4</label>
			<sensorSet>Input Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_93_4">
			<type>state</type>
			<sensorId>id_register_93_4</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit4 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_93</getOid>
									</op>
									<op>4</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>deenergiz_energiz-em</enum>
			<label>Discrete internal input 5</label>
			<sensorSet>Input Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_93_5">
			<type>state</type>
			<sensorId>id_register_93_5</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit5 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_93</getOid>
									</op>
									<op>5</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>deenergiz_energiz-em</enum>
			<label>Discrete internal input 6</label>
			<sensorSet>Input Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_93_6">
			<type>state</type>
			<sensorId>id_register_93_6</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit6 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_93</getOid>
									</op>
									<op>6</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>deenergiz_energiz-em</enum>
			<label>Discrete internal input 7</label>
			<sensorSet>Input Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_93_7">
			<type>state</type>
			<sensorId>id_register_93_7</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit7 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_93</getOid>
									</op>
									<op>7</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>deenergiz_energiz-em</enum>
			<label>Discrete internal input 8</label>
			<sensorSet>Input Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_94_0">
			<type>state</type>
			<sensorId>id_register_94_0</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit0 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_94</getOid>
									</op>
									<op>0</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>inactive_active-em</enum>
			<label>Discrete internal output 1</label>
			<sensorSet>Output Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_94_1">
			<type>state</type>
			<sensorId>id_register_94_1</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit1 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_94</getOid>
									</op>
									<op>1</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>inactive_active-em</enum>
			<label>Discrete internal output 2</label>
			<sensorSet>Output Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_94_2">
			<type>state</type>
			<sensorId>id_register_94_2</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit2 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_94</getOid>
									</op>
									<op>2</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>inactive_active-em</enum>
			<label>Discrete internal output 3</label>
			<sensorSet>Output Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_94_3">
			<type>state</type>
			<sensorId>id_register_94_3</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit3 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_94</getOid>
									</op>
									<op>3</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>inactive_active-em</enum>
			<label>Discrete internal output 4</label>
			<sensorSet>Output Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_95">
			<type>state</type>
			<sensorId>id_register_95</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<getOid>register_95</getOid>
					</formatNumber>
				</mapValue>
			</value>
			<enum>switch_positions-em</enum>
			<label>Main and auxiliary ATS position</label>
			<sensorSet>Other Sensors</sensorSet>
		</stateSensor>
		<enumMap ruleid="switch_positions-em">
			<label>Normal source</label>
			<label>Emergency source</label>
		</enumMap>
		<stateSensor ruleid="sensor_register_157">
			<type>state</type>
			<sensorId>id_register_157</sensorId>
			<value>
				<mapValue mapid="register_157-vm">
					<formatNumber>
						<getOid>register_157</getOid>
					</formatNumber>
				</mapValue>
			</value>
			<enum>register_157-em</enum>
			<label>Latest event type</label>
			<sensorSet>Other Sensors</sensorSet>
		</stateSensor>
		<valueMap ruleid="register_157-vm">
			<valueIn>1</valueIn>
			<valueOut>0</valueOut>
			<valueIn>2</valueIn>
			<valueOut>1</valueOut>
			<valueIn>3</valueIn>
			<valueOut>2</valueOut>
			<valueIn>4</valueIn>
			<valueOut>3</valueOut>
			<valueIn>5</valueIn>
			<valueOut>4</valueOut>
			<valueIn>6</valueIn>
			<valueOut>5</valueOut>
			<valueIn>7</valueIn>
			<valueOut>6</valueOut>
			<valueIn>8</valueIn>
			<valueOut>7</valueOut>
			<valueIn>9</valueIn>
			<valueOut>8</valueOut>
			<valueIn>10</valueIn>
			<valueOut>9</valueOut>
			<valueIn>11</valueIn>
			<valueOut>10</valueOut>
			<valueIn>12</valueIn>
			<valueOut>11</valueOut>
			<valueIn>13</valueIn>
			<valueOut>12</valueOut>
			<valueIn>14</valueIn>
			<valueOut>13</valueOut>
			<valueIn>15</valueIn>
			<valueOut>14</valueOut>
			<valueIn>16</valueIn>
			<valueOut>15</valueOut>
			<valueIn>17</valueIn>
			<valueOut>16</valueOut>
			<valueIn>18</valueIn>
			<valueOut>17</valueOut>
			<valueIn>19</valueIn>
			<valueOut>18</valueOut>
			<valueIn>20</valueIn>
			<valueOut>19</valueOut>
			<valueIn>21</valueIn>
			<valueOut>20</valueOut>
			<valueIn>22</valueIn>
			<valueOut>21</valueOut>
		</valueMap>
		<enumMap ruleid="register_157-em">
			<label>Active power prealarm</label>
			<label>Active power alarm</label>
			<label>Over voltage</label>
			<label>Under voltage</label>
			<label>Over frequency</label>
			<label>Under frequency</label>
			<label>Reverse active power</label>
			<label>Reverse reactive power</label>
			<label>Reverse current</label>
			<label>Negative sequence current</label>
			<label>Negative sequence voltage</label>
			<label>Discrete input 1 energized</label>
			<label>Discrete input 2 energized</label>
			<label>Discrete input 3 energized</label>
			<label>Discrete input 4 energized</label>
			<label>Discrete input 5 energized</label>
			<label>Discrete input 6 energized</label>
			<label>Discrete input 7 energized</label>
			<label>Discrete input 8 energized</label>
			<label>ATS position input energized</label>
			<label>None</label>
			<label>Active power demand</label>
		</enumMap>
		<stateSensor ruleid="sensor_register_158">
			<type>state</type>
			<sensorId>id_register_158</sensorId>
			<value>
				<mapValue mapid="register_158-vm">
					<formatNumber>
						<getOid>register_158</getOid>
					</formatNumber>
				</mapValue>
			</value>
			<enum>register_158-em</enum>
			<label>Latest event cause</label>
			<sensorSet>Other Sensors</sensorSet>
		</stateSensor>
		<valueMap ruleid="register_158-vm">
			<valueIn>0</valueIn>
			<valueOut>0</valueOut>
			<valueIn>1</valueIn>
			<valueOut>1</valueOut>
			<valueIn>2</valueIn>
			<valueOut>2</valueOut>
		</valueMap>
		<enumMap ruleid="register_158-em">
			<label>Reset</label>
			<label>Tripped</label>
			<label>Acknowled</label>
		</enumMap>
		<stateSensor ruleid="sensor_register_159_0">
			<type>state</type>
			<sensorId>id_register_159_0</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit0 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_159</getOid>
									</op>
									<op>0</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>no_yes-em</enum>
			<label>Device 86 active</label>
			<sensorSet>Other Sensors</sensorSet>
		</stateSensor>
		<stateSensor ruleid="sensor_register_159_1">
			<type>state</type>
			<sensorId>id_register_159_1</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit1 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_159</getOid>
									</op>
									<op>1</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>register_159_1-em</enum>
			<label>Device 86 state</label>
			<sensorSet>Other Sensors</sensorSet>
		</stateSensor>
		<enumMap ruleid="register_159_1-em">
			<label>Normal</label>
			<label>Tripped</label>
		</enumMap>
		<stateSensor ruleid="sensor_register_159_2">
			<type>state</type>
			<sensorId>id_register_159_2</sensorId>
			<value>
				<mapValue mapid="inactive_active-vm">
					<formatNumber>
						<!-- Determined by bit2 -->
						<bitwise_and>
							<op>
								<right_shift>
									<op>
										<getOid>register_159</getOid>
									</op>
									<op>2</op>
								</right_shift>
							</op>
							<op>1</op>
						</bitwise_and>
					</formatNumber>
				</mapValue>
			</value>
			<enum>register_159_2-em</enum>
			<label>Device 86 hold</label>
			<sensorSet>Other Sensors</sensorSet>
		</stateSensor>
		<enumMap ruleid="register_159_2-em">
			<label>Reset Ok</label>
			<label>Do not reset</label>
		</enumMap>

		<!-- Data Protocol 40001 for power manager -->
		<alarmFlags ruleid="alarm_register_127">
			<value>
				<getOid>register_127</getOid>
			</value>
			<alarmFlagsTest mask="1" match="1">
				<name>
					<activeText>Setpoint 1 output status tripped.</activeText>
					<inactiveText>Setpoint 1 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 1 output status tripped.</activeText>
					<inactiveText>Setpoint 1 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #1 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="2" match="2">
				<name>
					<activeText>Setpoint 1 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 1 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 1 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 1 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #1 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="4" match="4">
				<name>
					<activeText>Setpoint 2 output status tripped.</activeText>
					<inactiveText>Setpoint 2 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 2 output status tripped.</activeText>
					<inactiveText>Setpoint 2 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #2 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="8" match="8">
				<name>
					<activeText>Setpoint 2 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 2 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 2 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 2 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #2 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="10" match="10">
				<name>
					<activeText>Setpoint 3 output status tripped.</activeText>
					<inactiveText>Setpoint 3 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 3 output status tripped.</activeText>
					<inactiveText>Setpoint 3 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #3 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="20" match="20">
				<name>
					<activeText>Setpoint 3 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 3 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 3 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 3 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #3 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="40" match="40">
				<name>
					<activeText>Setpoint 4 output status tripped.</activeText>
					<inactiveText>Setpoint 4 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 4 output status tripped.</activeText>
					<inactiveText>Setpoint 4 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #4 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="80" match="80">
				<name>
					<activeText>Setpoint 4 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 4 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 4 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 4 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #4 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="100" match="100">
				<name>
					<activeText>Setpoint 5 output status tripped.</activeText>
					<inactiveText>Setpoint 5 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 5 output status tripped.</activeText>
					<inactiveText>Setpoint 5 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #5 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="200" match="200">
				<name>
					<activeText>Setpoint 5 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 5 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 5 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 5 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #5 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="400" match="400">
				<name>
					<activeText>Setpoint 6 output status tripped.</activeText>
					<inactiveText>Setpoint 6 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 6 output status tripped.</activeText>
					<inactiveText>Setpoint 6 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #6 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="800" match="800">
				<name>
					<activeText>Setpoint 6 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 6 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 6 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 6 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #6 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="1000" match="1000">
				<name>
					<activeText>Setpoint 7 output status tripped.</activeText>
					<inactiveText>Setpoint 7 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 7 output status tripped.</activeText>
					<inactiveText>Setpoint 7 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #7 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="2000" match="2000">
				<name>
					<activeText>Setpoint 7 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 7 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 7 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 7 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #7 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="4000" match="4000">
				<name>
					<activeText>Setpoint 8 output status tripped.</activeText>
					<inactiveText>Setpoint 8 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 8 output status tripped.</activeText>
					<inactiveText>Setpoint 8 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #8 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="8000" match="8000">
				<name>
					<activeText>Setpoint 8 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 8 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 8 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 8 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #8 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
		</alarmFlags>
		<alarmFlags ruleid="alarm_register_128">
			<value>
				<getOid>register_128</getOid>
			</value>
			<alarmFlagsTest mask="1" match="1">
				<name>
					<activeText>Setpoint 9 output status tripped.</activeText>
					<inactiveText>Setpoint 9 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 9 output status tripped.</activeText>
					<inactiveText>Setpoint 9 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #9 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="2" match="2">
				<name>
					<activeText>Setpoint 9 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 9 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 9 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 9 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #9 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="4" match="4">
				<name>
					<activeText>Setpoint 10 output status tripped.</activeText>
					<inactiveText>Setpoint 10 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 10 output status tripped.</activeText>
					<inactiveText>Setpoint 10 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #10 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="8" match="8">
				<name>
					<activeText>Setpoint 10 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 10 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 10 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 10 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #10 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="10" match="10">
				<name>
					<activeText>Setpoint 11 output status tripped.</activeText>
					<inactiveText>Setpoint 11 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 11 output status tripped.</activeText>
					<inactiveText>Setpoint 11 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #11 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="20" match="20">
				<name>
					<activeText>Setpoint 11 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 11 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 11 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 11 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #11 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="40" match="40">
				<name>
					<activeText>Setpoint 12 output status tripped.</activeText>
					<inactiveText>Setpoint 12 output status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 12 output status tripped.</activeText>
					<inactiveText>Setpoint 12 output status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #12 output status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="80" match="80">
				<name>
					<activeText>Setpoint 12 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 12 acknowledge state acknowledged.</inactiveText>
				</name>
				<severity>information</severity>
				<category>Power</category>
				<description>
					<activeText>Setpoint 12 acknowledge state pending.</activeText>
					<inactiveText>Setpoint 12 acknowledge state acknowledged.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Setpoint #12 acknowledge state Acknowledged/Pending.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="100" match="100">
				<name>
					<activeText>Active power demand setpoint status tripped.</activeText>
					<inactiveText>Active power demand setpoint status normal.</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Power</category>
				<description>
					<activeText>Active power demand setpoint status tripped.</activeText>
					<inactiveText>Active power demand setpoint status normal.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>
						Active power demand setpoint status Normal/Tripped.
					</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
		</alarmFlags>
	</device>

	<protocol>
		<modbus>
			<!-- Data Protocol 40001 for power manager -->
			<value_ref_id valid="register_10">
				<!-- Phase to neutral voltage V1, V -->
				<function>3</function>
				<start_addr>10</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_11">
				<!-- Phase to neutral voltage V2, V -->
				<function>3</function>
				<start_addr>11</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_12">
				<!-- Phase to neutral voltage V3, V -->
				<function>3</function>
				<start_addr>12</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_13">
				<!-- Phase to neutral average voltage Va, V -->
				<function>3</function>
				<start_addr>13</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_14">
				<!-- Phase to phase voltage U12, V -->
				<function>3</function>
				<start_addr>14</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_15">
				<!-- Phase to phase voltage U23, V -->
				<function>3</function>
				<start_addr>15</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_16">
				<!-- Phase to phase voltage U31, V -->
				<function>3</function>
				<start_addr>16</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_17">
				<!-- Phase to phase average voltage Ua, V -->
				<function>3</function>
				<start_addr>17</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_18">
				<!-- Phase to phase voltage unbalance, % -->
				<function>3</function>
				<start_addr>18</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_19">
				<!-- Phase to neutral voltage unbalance, % -->
				<function>3</function>
				<start_addr>19</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_20">
				<!-- Current I1, A -->
				<function>3</function>
				<start_addr>20</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_21">
				<!-- Current I2, A -->
				<function>3</function>
				<start_addr>21</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_22">
				<!-- Current I3, A -->
				<function>3</function>
				<start_addr>22</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_23">
				<!-- Average current Ia, A -->
				<function>3</function>
				<start_addr>23</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_24">
				<!-- Current unbalance, % -->
				<function>3</function>
				<start_addr>24</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_25">
				<!-- Neutral current In, A -->
				<function>3</function>
				<start_addr>25</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_30">
				<!-- Active power phase 1, kW -->
				<function>3</function>
				<start_addr>30</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_31">
				<!-- Active power phase 2, kW -->
				<function>3</function>
				<start_addr>31</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_32">
				<!-- Active power phase 3, kW -->
				<function>3</function>
				<start_addr>32</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_33">
				<!-- Total active power, kW -->
				<function>3</function>
				<start_addr>33</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_34">
				<!-- Reactive power phase 1, kVAr -->
				<function>3</function>
				<start_addr>34</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_35">
				<!-- Reactive power phase 2, kVAr -->
				<function>3</function>
				<start_addr>35</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_36">
				<!-- Reactive power phase 3, kVAr -->
				<function>3</function>
				<start_addr>36</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_37">
				<!-- Total reactive power, kVAr -->
				<function>3</function>
				<start_addr>37</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_38">
				<!-- Power factor phase 1 (- leading, + lagging): 0.01*PF1 -->
				<function>3</function>
				<start_addr>38</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_39">
				<!-- Power factor phase 2 (- leading, + lagging): 0.01*PF2 -->
				<function>3</function>
				<start_addr>39</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_40">
				<!-- Power factor phase 3 (- leading, + lagging): 0.01*PF3 -->
				<function>3</function>
				<start_addr>40</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_41">
				<!-- Total power factor (- leading, + lagging): 0.01*PF -->
				<function>3</function>
				<start_addr>41</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_42">
				<!-- Apparent power phase 1, kVA -->
				<function>3</function>
				<start_addr>42</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_43">
				<!-- Apparent power phase 2, kVA -->
				<function>3</function>
				<start_addr>43</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_44">
				<!-- Apparent power phase 3, kVA -->
				<function>3</function>
				<start_addr>44</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_45">
				<!-- Total apparent power, kVA -->
				<function>3</function>
				<start_addr>45</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_47">
				<!-- Frequency, 0.01*Hz -->
				<function>3</function>
				<start_addr>47</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_50">
				<!-- Normal import active energy, kWh -->
				<function>3</function>
				<start_addr>50</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_52">
				<!-- Normal export active energy, kWh -->
				<function>3</function>
				<start_addr>52</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_54">
				<!-- Normal total active energy, kWh -->
				<function>3</function>
				<start_addr>54</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_56">
				<!-- Normal import reactive energy, kVArh -->
				<function>3</function>
				<start_addr>56</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_58">
				<!-- Normal export reactive energy, kVArh -->
				<function>3</function>
				<start_addr>58</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_60">
				<!-- Normal total reactive energy, kVArh -->
				<function>3</function>
				<start_addr>60</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_62">
				<!-- Normal total apparent energy, kVAh -->
				<function>3</function>
				<start_addr>62</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_64">
				<!-- Nominal voltage, V -->
				<function>3</function>
				<start_addr>64</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_65">
				<!-- Nominal current, A -->
				<function>3</function>
				<start_addr>65</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_66">
				<!-- Nominal active power capacity, kW -->
				<function>3</function>
				<start_addr>66</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_67">
				<!-- Nominal frequency, 0-60Hz/150Hz -->
				<function>3</function>
				<start_addr>67</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_70">
				<!-- Emergency import active energy, kWh -->
				<function>3</function>
				<start_addr>70</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_72">
				<!-- Emergency export active energy, kWh -->
				<function>3</function>
				<start_addr>72</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_74">
				<!-- Emergency total active energy, kWh -->
				<function>3</function>
				<start_addr>74</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_76">
				<!-- Emergency import reactive energy, kVArh -->
				<function>3</function>
				<start_addr>76</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_78">
				<!-- Emergency export reactive energy, kVArh -->
				<function>3</function>
				<start_addr>78</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_80">
				<!-- Emergency total reactive energy, kVArh -->
				<function>3</function>
				<start_addr>80</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_82">
				<!-- Emergency total apparent energy, kVAh -->
				<function>3</function>
				<start_addr>82</start_addr>
				<quantity>2</quantity>
				<type>int_32</type>
			</value_ref_id>
			<value_ref_id valid="register_87">
				<!-- Instantaneous active power demand, kW -->
				<function>3</function>
				<start_addr>87</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_88">
				<!-- Maximum active power demand, kW -->
				<function>3</function>
				<start_addr>88</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="register_93">
				<!-- State internal Digital Inputs 1-8 -->
				<function>3</function>
				<start_addr>93</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_94">
				<!-- State internal Digital Outputs 1-4 -->
				<function>3</function>
				<start_addr>94</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_95">
				<!-- Main and auxiliary ATS position -->
				<function>3</function>
				<start_addr>95</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_127">
				<!-- Bit register for status and alarms -->
				<function>3</function>
				<start_addr>127</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_128">
				<!-- Bit register for status and alarms -->
				<function>3</function>
				<start_addr>128</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_157">
				<!-- Latest event type -->
				<function>3</function>
				<start_addr>157</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_158">
				<!-- Latest event cause -->
				<function>3</function>
				<start_addr>158</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="register_159">
				<!-- Bit register for status and alarms -->
				<function>3</function>
				<start_addr>159</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>

			<!-- Bulk read for performance. Modbus master must request a maximum of 12 holding registers from the ATS controller and 24 from the PM -->
			<packet>
				<function>3</function>
				<start_addr>10</start_addr>
				<quantity>16</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>30</start_addr>
				<quantity>18</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>50</start_addr>
				<quantity>14</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>64</start_addr>
				<quantity>4</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>70</start_addr>
				<quantity>14</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>87</start_addr>
				<quantity>2</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>93</start_addr>
				<quantity>3</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>127</start_addr>
				<quantity>2</quantity>
			</packet>
			<packet>
				<function>3</function>
				<start_addr>157</start_addr>
				<quantity>3</quantity>
			</packet>
		</modbus>
	</protocol>
</APC_DDF>
