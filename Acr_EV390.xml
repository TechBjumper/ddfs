<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="Acr_EV390" ddfname="Acr EV390" ddfversion="1" canremove="yes">
	<schemaVersion>1.6</schemaVersion>
	<device deviceid="Acr_EV390">
		<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
		<setProductData ruleid="vendordata" field="vendor">Acr</setProductData>
		<setProductData ruleid="modeldata" field="model">EV390</setProductData>
		<setProductData ruleid="typedata" field="type">Power Meter</setProductData>
		<setDefaultLabel ruleid="labeldata">
			<sysHostname />
      - Slave
			<commSetting field="slaveaddress" />
		</setDefaultLabel>
		<numSensor ruleid="reg1">
			<type>num</type>
			<units />
			<sensorId>_REG1</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_1</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg1</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="reg3">
			<type>num</type>
			<units />
			<sensorId>_REG3</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_3</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg3</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="reg4">
			<type>num</type>
			<units />
			<sensorId>_REG4</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_4</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg4</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="reg5">
			<type>num</type>
			<units />
			<sensorId>_REG5</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_5</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg5</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="reg6">
			<type>voltage</type>
			<units />
			<sensorId>_REG6</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_6</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg6</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="reg7">
			<type>voltage</type>
			<units />
			<sensorId>_REG7</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_7</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg7</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="reg8">
			<type>voltage</type>
			<units />
			<sensorId>_REG8</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_8</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg8</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="reg9">
			<type>voltage</type>
			<units />
			<sensorId>_REG9</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_9</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg9</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="reg10">
			<type>voltage</type>
			<units />
			<sensorId>_REG10</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_10</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg10</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="reg11">
			<type>voltage</type>
			<units />
			<sensorId>_REG11</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_11</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg11</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="reg12">
			<type>amperage</type>
			<units />
			<sensorId>_REG12</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_12</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg12</label>
			<sensorSet>Ampere</sensorSet>
		</numSensor>
		<numSensor ruleid="reg13">
			<type>amperage</type>
			<units />
			<sensorId>_REG13</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_13</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg13</label>
			<sensorSet>Ampere</sensorSet>
		</numSensor>
		<numSensor ruleid="reg14">
			<type>amperage</type>
			<units />
			<sensorId>_REG14</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_14</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg14</label>
			<sensorSet>Ampere</sensorSet>
		</numSensor>
		<numSensor ruleid="reg15">
			<type>voltage</type>
			<units />
			<sensorId>_REG15</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_15</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg15</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="reg16">
			<type>voltage</type>
			<units />
			<sensorId>_REG16</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_16</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg16</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="reg17">
			<type>amperage</type>
			<units />
			<sensorId>_REG17</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_17</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg17</label>
			<sensorSet>Ampere</sensorSet>
		</numSensor>
		<numSensor ruleid="reg18">
			<type>num/powerKW</type>
			<units />
			<sensorId>_REG18</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_18</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg18</label>
			<sensorSet>Power</sensorSet>
		</numSensor>
		<numSensor ruleid="reg19">
			<type>num/powerKVAR</type>
			<units />
			<sensorId>_REG19</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_19</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg19</label>
			<sensorSet>Power</sensorSet>
		</numSensor>
		<numSensor ruleid="reg20">
			<type>num/powerKVA</type>
			<units />
			<sensorId>_REG20</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_20</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Reg20</label>
			<sensorSet>Power</sensorSet>
		</numSensor>
		<numSensor ruleid="reg21">
			<type>frequency</type>
			<units />
			<sensorId>_REG21</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_21</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Reg21</label>
			<sensorSet>Frequency</sensorSet>
		</numSensor>
		<numSensor ruleid="reg22">
			<type>num</type>
			<units />
			<sensorId>_REG22</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_22</getOid>
					</op>
					<op>0.001</op>
				</mult>
			</value>
			<label>Reg22</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="reg23">
			<type>num/kdisprealenergy</type>
			<units />
			<sensorId>_REG23</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_23</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg23</label>
			<sensorSet>Energy</sensorSet>
		</numSensor>
		<numSensor ruleid="reg25">
			<type>num/kdispreactenergy</type>
			<units />
			<sensorId>_REG25</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Function_3_Reg_25</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Reg25</label>
			<sensorSet>Energy</sensorSet>
		</numSensor>
		<stateSensor ruleid="di1">
			<type>state</type>
			<sensorId>_DI1</sensorId>
			<value>
				<mapValue mapid="offon_vm">
					<getOid>Function_3_Reg_27</getOid>
				</mapValue>
			</value>
			<label>Di1</label>
			<enum>offon_em</enum>
			<sensorSet>Generic</sensorSet>
		</stateSensor>
		<stateSensor ruleid="di2">
			<type>state</type>
			<sensorId>_DI2</sensorId>
			<value>
				<mapValue mapid="offon_vm">
					<getOid>Function_3_Reg_28</getOid>
				</mapValue>
			</value>
			<label>Di2</label>
			<enum>offon_em</enum>
			<sensorSet>Generic</sensorSet>
		</stateSensor>
		<stateSensor ruleid="di3">
			<type>state</type>
			<sensorId>_DI3</sensorId>
			<value>
				<mapValue mapid="offon_vm">
					<getOid>Function_3_Reg_29</getOid>
				</mapValue>
			</value>
			<label>Di3</label>
			<enum>offon_em</enum>
			<sensorSet>Generic</sensorSet>
		</stateSensor>
		<stateSensor ruleid="di4">
			<type>state</type>
			<sensorId>_DI4</sensorId>
			<value>
				<mapValue mapid="offon_vm">
					<getOid>Function_3_Reg_30</getOid>
				</mapValue>
			</value>
			<label>Di4</label>
			<enum>offon_em</enum>
			<sensorSet>Generic</sensorSet>
		</stateSensor>
		<stateSensor ruleid="di5">
			<type>state</type>
			<sensorId>_DI5</sensorId>
			<value>
				<mapValue mapid="offon_vm">
					<getOid>Function_3_Reg_31</getOid>
				</mapValue>
			</value>
			<label>Di5</label>
			<enum>offon_em</enum>
			<sensorSet>Generic</sensorSet>
		</stateSensor>
		<stateSensor ruleid="di6">
			<type>state</type>
			<sensorId>_DI6</sensorId>
			<value>
				<mapValue mapid="offon_vm">
					<getOid>Function_3_Reg_32</getOid>
				</mapValue>
			</value>
			<label>Di6</label>
			<enum>offon_em</enum>
			<sensorSet>Generic</sensorSet>
		</stateSensor>

		<valueMap ruleid="offon_vm">
			<valueIn>0</valueIn>
			<valueOut>0</valueOut>
			<valueIn>1</valueIn>
			<valueOut>1</valueOut>
			<valueIn>*</valueIn>
			<valueOut>0</valueOut>
		</valueMap>

		<enumMap ruleid="offon_em">
			<label>Off</label>
			<label>On</label>
		</enumMap>

	</device>
	<protocol>
		<modbus>
			<value_ref_id valid="Function_3_Reg_22">
				<function>3</function>
				<start_addr>21</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_9">
				<function>3</function>
				<start_addr>8</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_11">
				<function>3</function>
				<start_addr>10</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_25">
				<function>3</function>
				<start_addr>24</start_addr>
				<quantity>1</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_6">
				<function>3</function>
				<start_addr>5</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_15">
				<function>3</function>
				<start_addr>14</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_30">
				<function>3</function>
				<start_addr>29</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_32">
				<function>3</function>
				<start_addr>31</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_4">
				<function>3</function>
				<start_addr>3</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_21">
				<function>3</function>
				<start_addr>20</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_7">
				<function>3</function>
				<start_addr>6</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_20">
				<function>3</function>
				<start_addr>19</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_1">
				<function>3</function>
				<start_addr>0</start_addr>
				<quantity>1</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_23">
				<function>3</function>
				<start_addr>22</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_27">
				<function>3</function>
				<start_addr>26</start_addr>
				<quantity>1</quantity>
				<type>uint_32</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_12">
				<function>3</function>
				<start_addr>11</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_16">
				<function>3</function>
				<start_addr>15</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_10">
				<function>3</function>
				<start_addr>9</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_18">
				<function>3</function>
				<start_addr>17</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_13">
				<function>3</function>
				<start_addr>12</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_3">
				<function>3</function>
				<start_addr>2</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_28">
				<function>3</function>
				<start_addr>27</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_17">
				<function>3</function>
				<start_addr>16</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_5">
				<function>3</function>
				<start_addr>4</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_19">
				<function>3</function>
				<start_addr>18</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_8">
				<function>3</function>
				<start_addr>7</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_14">
				<function>3</function>
				<start_addr>13</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_31">
				<function>3</function>
				<start_addr>30</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="Function_3_Reg_29">
				<function>3</function>
				<start_addr>28</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
		</modbus>
	</protocol>
</APC_DDF>
