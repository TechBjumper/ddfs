<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="ELECTRON_EP3" ddfname="ELECTRON EP3" ddfversion="1" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="ELECTRON_EP3">
    <setProductData ruleid="vendordata" field="vendor">ELECTRON</setProductData>
    <setProductData ruleid="modeldata" field="model">EP3</setProductData>
    <setProductData ruleid="typedata" field="type">Generic Device</setProductData>
	<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
	
	
    <numSensor ruleid="alarm_temperature_limit_sensor_1">
      <type>temp</type>
      <units />
      <sensorId>_ALARM_TEMPERATURE_LIMIT_SENSOR_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_1</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Alarm temperature limit sensor 1</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="alarm_temperature_limit_sensor_2">
      <type>temp</type>
      <units />
      <sensorId>_ALARM_TEMPERATURE_LIMIT_SENSOR_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_2</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Alarm temperature limit sensor 2</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="alarm_temperature_limit_sensor_3">
      <type>temp</type>
      <units />
      <sensorId>_ALARM_TEMPERATURE_LIMIT_SENSOR_3</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_3</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Alarm temperature limit sensor 3</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="sensor_1_shutdown_temperature_limit">
      <type>temp</type>
      <units />
      <sensorId>_SENSOR_1_SHUTDOWN_TEMPERATURE_LIMIT</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_10</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Sensor 1 shutdown temperature limit</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="sensor_2_shutdown_temperature_limit">
      <type>temp</type>
      <units />
      <sensorId>_SENSOR_2_SHUTDOWN_TEMPERATURE_LIMIT</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_11</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Sensor 2 shutdown temperature limit</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="sensor_3_shutdown_temperature_limit">
      <type>temp</type>
      <units />
      <sensorId>_SENSOR_3_SHUTDOWN_TEMPERATURE_LIMIT</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_12</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Sensor 3 shutdown temperature limit</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="delay_time_for_shutdown_in_minutes">
      <type>timeinmin</type>
      <units />
      <sensorId>_DELAY_TIME_FOR_SHUTDOWN_IN_MINUTES</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_18</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Delay time for shutdown in minutes</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="sensor_1_temperature_">
      <type>temp</type>
      <units />
      <sensorId>_SENSOR_1_TEMPERATURE_</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_29</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Sensor 1 temperature</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="sensor_2_temperature_">
      <type>temp</type>
      <units />
      <sensorId>_SENSOR_2_TEMPERATURE_</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_30</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Sensor 2 temperature</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="sensor_3_temperature_">
      <type>temp</type>
      <units />
      <sensorId>_SENSOR_3_TEMPERATURE_</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_31</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Sensor 3 temperature</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="maximum_temperature_reached_by_the_sensor_1_">
      <type>temp</type>
      <units />
      <sensorId>_MAXIMUM_TEMPERATURE_REACHED_BY_THE_SENSOR_1_</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_37</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Maximum temperature reached by the sensor 1</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="maximum_temperature_reached_by_the_sensor_2_">
      <type>temp</type>
      <units />
      <sensorId>_MAXIMUM_TEMPERATURE_REACHED_BY_THE_SENSOR_2_</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_38</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Maximum temperature reached by the sensor 2</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <numSensor ruleid="maximum_temperature_reached_by_the_sensor_3_">
      <type>temp</type>
      <units />
      <sensorId>_MAXIMUM_TEMPERATURE_REACHED_BY_THE_SENSOR_3_</sensorId>
      <value>
        <mult>
          <op>
            <getOid>Function_3_Reg_39</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Maximum temperature reached by the sensor 3</label>
      <sensorSet>Temperature</sensorSet>
    </numSensor>
    <stringSensor ruleid="serial_address">
      <type>string</type>
      <units />
      <sensorId>_SERIAL_ADDRESS</sensorId>
      <value>
        <op>
          <getOid>Function_3_Reg_50</getOid>
        </op>
      </value>
      <label>Serial address</label>
      <sensorSet>Serial Address</sensorSet>
    </stringSensor>
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
    <stateSensor ruleid="high_temperature_alarm_in_sensor_1">
      <type>state</type>
      <sensorId>_HIGH_TEMPERATURE_ALARM_IN_SENSOR_1</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_45</getOid>
                  </op>
                  <op>0</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>High temperature alarm in sensor 1</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="high_temperature_alarm_on_the_sensor_2">
      <type>state</type>
      <sensorId>_HIGH_TEMPERATURE_ALARM_ON_THE_SENSOR_2</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_45</getOid>
                  </op>
                  <op>1</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>High temperature alarm on the sensor 2</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
	
		<valueMap ruleid="true_false_vm">
			<valueIn>0</valueIn><valueOut>0</valueOut>
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="true_false_em">
			<label>False</label>
			<label>True</label>
		</enumMap>	
	
    <stateSensor ruleid="high_temperature_alarm_in_sensor_3">
      <type>state</type>
      <sensorId>_HIGH_TEMPERATURE_ALARM_IN_SENSOR_3</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_45</getOid>
                  </op>
                  <op>2</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>High temperature alarm in sensor 3</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="relay_of_high_temperature_alarm_triggered">
      <type>state</type>
      <sensorId>_RELAY_OF_HIGH_TEMPERATURE_ALARM_TRIGGERED</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_45</getOid>
                  </op>
                  <op>8</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Relay of high temperature alarm triggered</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="counting_the_time_to_shutdown_for_high_temperature_in_sensor_1">
      <type>state</type>
      <sensorId>_COUNTING_THE_TIME_TO_SHUTDOWN_FOR_HIGH_TEMPERATURE_IN_SENSOR_1</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_46</getOid>
                  </op>
                  <op>0</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Counting the time to shutdown for high temperature in sensor 1</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="counting_the_time_to_shutdown_for_high_temperature_in_sensor_2">
      <type>state</type>
      <sensorId>_COUNTING_THE_TIME_TO_SHUTDOWN_FOR_HIGH_TEMPERATURE_IN_SENSOR_2</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_46</getOid>
                  </op>
                  <op>1</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Counting the time to shutdown for high temperature in sensor 2</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="counting_the_time_to_shutdown_for_high_temperature_in_sensor_3">
      <type>state</type>
      <sensorId>_COUNTING_THE_TIME_TO_SHUTDOWN_FOR_HIGH_TEMPERATURE_IN_SENSOR_3</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_46</getOid>
                  </op>
                  <op>2</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Counting the time to shutdown for high temperature in sensor 3</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="counting_time_to_turn_off">
      <type>state</type>
      <sensorId>_COUNTING_TIME_TO_TURN_OFF</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_46</getOid>
                  </op>
                  <op>8</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Counting time to turn off</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="triggered_the_shutdown_relay_for_high_temperature_in_sensor_1">
      <type>state</type>
      <sensorId>_TRIGGERED_THE_SHUTDOWN_RELAY_FOR_HIGH_TEMPERATURE_IN_SENSOR_1</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_47</getOid>
                  </op>
                  <op>0</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Triggered the shutdown relay for high temperature in sensor 1</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="triggered_the_shutdown_relay_for_high_temperature_in_sensor_2">
      <type>state</type>
      <sensorId>_TRIGGERED_THE_SHUTDOWN_RELAY_FOR_HIGH_TEMPERATURE_IN_SENSOR_2</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_47</getOid>
                  </op>
                  <op>1</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Triggered the shutdown relay for high temperature in sensor 2</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="triggered_the_shutdown_relay_for_high_temperature_in_sensor_3">
      <type>state</type>
      <sensorId>_TRIGGERED_THE_SHUTDOWN_RELAY_FOR_HIGH_TEMPERATURE_IN_SENSOR_3</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_47</getOid>
                  </op>
                  <op>2</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Triggered the shutdown relay for high temperature in sensor 3</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="relay_shutdown_triggered_by_high_temperature">
      <type>state</type>
      <sensorId>_RELAY_SHUTDOWN_TRIGGERED_BY_HIGH_TEMPERATURE</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_47</getOid>
                  </op>
                  <op>8</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Relay shutdown triggered by high temperature</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="sensor_failure_1_soff">
      <type>state</type>
      <sensorId>_SENSOR_FAILURE_1_SOFF</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_49</getOid>
                  </op>
                  <op>0</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Sensor failure 1 soff</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="sensor_failure_2_soff">
      <type>state</type>
      <sensorId>_SENSOR_FAILURE_2_SOFF</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_49</getOid>
                  </op>
                  <op>1</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Sensor failure 2 soff</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="sensor_failure_3_soff">
      <type>state</type>
      <sensorId>_SENSOR_FAILURE_3_SOFF</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_49</getOid>
                  </op>
                  <op>2</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Sensor failure 3 soff</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="triggered_sensor_failure">
      <type>state</type>
      <sensorId>_TRIGGERED_SENSOR_FAILURE</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>Function_3_Reg_49</getOid>
                  </op>
                  <op>8</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Triggered sensor failure</label>
      <enum>true_false_em</enum>
      <sensorSet>State Sensors</sensorSet>
    </stateSensor>
	
		<valueMap ruleid="true_false_vmtrue_false_vm">
			<valueIn>0</valueIn><valueOut>0</valueOut>
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="true_false_em">
			<label>False</label>
			<label>True</label>
		</enumMap>		
	
  </device>
  <protocol>
    <modbus>
      <value_ref_id valid="Function_3_Reg_1">
        <function>3</function>
        <start_addr>0</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_2">
        <function>3</function>
        <start_addr>1</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_3">
        <function>3</function>
        <start_addr>2</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_10">
        <function>3</function>
        <start_addr>9</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_11">
        <function>3</function>
        <start_addr>10</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_12">
        <function>3</function>
        <start_addr>11</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_18">
        <function>3</function>
        <start_addr>17</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_29">
        <function>3</function>
        <start_addr>28</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_30">
        <function>3</function>
        <start_addr>29</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_31">
        <function>3</function>
        <start_addr>30</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_37">
        <function>3</function>
        <start_addr>36</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_38">
        <function>3</function>
        <start_addr>37</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="Function_3_Reg_39">
        <function>3</function>
        <start_addr>38</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
	  
      <value_ref_id valid="Function_3_Reg_45">
        <function>3</function>
        <start_addr>44</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>

      <value_ref_id valid="Function_3_Reg_46">
        <function>3</function>
        <start_addr>45</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>

      <value_ref_id valid="Function_3_Reg_47">
        <function>3</function>
        <start_addr>46</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>

      <value_ref_id valid="Function_3_Reg_49">
        <function>3</function>
        <start_addr>48</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>

      <value_ref_id valid="Function_3_Reg_50">
        <function>3</function>
        <start_addr>49</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
    </modbus>
  </protocol>
</APC_DDF>
