<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" 
	ddfid="Bjumper_Sentron_Pac3200" 
	ddfname="Bjumper - Sentron Pac3200"
	ddfversion="4" 
	canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="Bjumper_Sentron_Pac3200">
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
    <setProductData ruleid="vendordata" field="vendor">Siemens</setProductData>
    <setProductData ruleid="modeldata" field="model">SENTRON PAC3200</setProductData>
    <setProductData ruleid="typedata" field="type">Power Meter</setProductData>
    <setDefaultLabel ruleid="labeldata">
      <sysHostname /> - Slave <commSetting field="slaveaddress" />
    </setDefaultLabel>
	<numSensor ruleid="rl_TensionUL1N">
      <type>voltage</type>
      <sensorId>TENSIONUL1N</sensorId>
      <value>
		<mult>
			<op><getOid>def_TensionUL1N</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Tension UL1->N</label>
      <sensorSet>Tension N</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_TensionUL2N">
      <type>voltage</type>
      <sensorId>TENSIONUL2N</sensorId>
      <value>
		<mult>
			<op><getOid>def_TensionUL2N</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Tension UL2->N</label>
      <sensorSet>Tension N</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_TensionUL3N">
      <type>voltage</type>
      <sensorId>TENSIONUL3N</sensorId>
      <value>
		<mult>
			<op><getOid>def_TensionUL3N</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Tension UL3->N</label>
      <sensorSet>Tension N</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_TensionUL1L2">
      <type>voltage</type>
      <sensorId>TENSIONUL1L2</sensorId>
      <value>
		<mult>
			<op><getOid>def_TensionUL1L2</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Tension U L1->L2</label>
      <sensorSet>Tension L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_TensionUL2L3">
      <type>voltage</type>
      <sensorId>TENSIONUL2L3</sensorId>
      <value>
		<mult>
			<op><getOid>def_TensionUL2L3</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Tension U L2->L3</label>
      <sensorSet>Tension L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_TensionUL3L1">
      <type>voltage</type>
      <sensorId>TENSIONUL3L1</sensorId>
      <value>
		<mult>
			<op><getOid>def_TensionUL3L1</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Tension U L3->L1</label>
      <sensorSet>Tension L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_CorrienteL1">
      <type>amperage</type>
      <sensorId>INPUT_CURRENT_PHASE_1</sensorId>
      <value>
		<mult>
			<op><getOid>def_CorrienteL1</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Current L1</label>
      <sensorSet>Current L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_CorrienteL2">
      <type>amperage</type>
      <sensorId>INPUT_CURRENT_PHASE_2</sensorId>
      <value>
		<mult>
			<op><getOid>def_CorrienteL2</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Current L2</label>
      <sensorSet>Current L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_CorrienteL3">
      <type>amperage</type>
      <sensorId>INPUT_CURRENT_PHASE_3</sensorId>
      <value>
		<mult>
			<op><getOid>def_CorrienteL3</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Current L3</label>
      <sensorSet>Current L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaAparenteL1">
      <type>powerVA</type>
      <sensorId>PHASE_VA_1</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaAparenteL1</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Apparent power L1</label>
      <sensorSet>Apparent power L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaAparenteL2">
      <type>powerVA</type>
      <sensorId>PHASE_VA_2</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaAparenteL2</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Apparent power L2</label>
      <sensorSet>Apparent power L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaAparenteL3">
      <type>powerVA</type>
      <sensorId>PHASE_VA_3</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaAparenteL3</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Apparent power L3</label>
      <sensorSet>Apparent power L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaActivaL1">
      <type>powerW</type>
      <sensorId>PHASE_ACTIVE_POWER_1</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaActivaL1</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Active power L1</label>
      <sensorSet>Active power L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaActivaL2">
      <type>powerW</type>
      <sensorId>PHASE_ACTIVE_POWER_2</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaActivaL2</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Active power L2</label>
      <sensorSet>Active power L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaActivaL3">
      <type>powerW</type>
      <sensorId>PHASE_ACTIVE_POWER_3</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaActivaL3</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Active power L3</label>
      <sensorSet>Active power L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaReactivaL1">
      <type>powerW</type>
      <sensorId>PHASE_REACTIVE_POWER_1</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaReactivaL1</getOid></op>
			<op>-1</op>
		</mult>
      </value>
      <label>Reactive power L1</label>
      <sensorSet>Reactive power L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaReactivaL2">
      <type>powerW</type>
      <sensorId>PHASE_REACTIVE_POWER_2</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaReactivaL2</getOid></op>
			<op>-1</op>
		</mult>
      </value>
      <label>Reactive power L2</label>
      <sensorSet>Reactive power L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaReactivaL3">
      <type>powerW</type>
      <sensorId>PHASE_REACTIVE_POWER_3</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaReactivaL3</getOid></op>
			<op>-1</op>
		</mult>
      </value>
      <label>Reactive power L3</label>
      <sensorSet>Reactive power L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_FactorDePotenciaL1">
      <type>num/powerfactor</type>
      <sensorId>PHASE_POWER_FACTOR_1</sensorId>
      <value>
		<mult>
			<op><getOid>def_FactorDePotenciaL1</getOid></op>
			<op>0.01</op>
		</mult>
      </value>
      <label>Power Factor L1</label>
      <sensorSet>Power Factor L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_FactorDePotenciaL2">
      <type>num/powerfactor</type>
      <sensorId>PHASE_POWER_FACTOR_2</sensorId>
      <value>
		<mult>
			<op><getOid>def_FactorDePotenciaL2</getOid></op>
			<op>0.01</op>
		</mult>
      </value>
      <label>Power Factor L2</label>
      <sensorSet>Power Factor L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_FactorDePotenciaL3">
      <type>num/powerfactor</type>
      <sensorId>PHASE_POWER_FACTOR_3</sensorId>
      <value>
		<mult>
			<op><getOid>def_FactorDePotenciaL3</getOid></op>
			<op>0.01</op>
		</mult>
      </value>
      <label>Power Factor L3</label>
      <sensorSet>Power Factor L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_THDREnTensionL1">
      <type>num</type>
	  <units>percent</units>
      <sensorId>THDRTENSIONL1</sensorId>
      <value>
		<mult>
			<op><getOid>def_THDREnTensionL1</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>THD-R tension L1</label>
      <sensorSet>THD-R tension L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_THDREnTensionL2">
      <type>num</type>
	  <units>percent</units>
      <sensorId>THDRTENSIONL2</sensorId>
      <value>
		<mult>
			<op><getOid>def_THDREnTensionL2</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>THD-R tension L2</label>
      <sensorSet>THD-R tension L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_THDREnTensionL3">
      <type>num</type>
	  <units>percent</units>
      <sensorId>THDRTENSIONL3</sensorId>
      <value>
		<mult>
			<op><getOid>def_THDREnTensionL3</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>THD-R tension L3</label>
      <sensorSet>THD-R tension L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_THDREnCorrienteL1">
      <type>num</type>
	  <units>percent</units>
      <sensorId>THDRCURRENTL1</sensorId>
      <value>
		<mult>
			<op><getOid>def_THDREnCorrienteL1</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>THD-R current L1</label>
      <sensorSet>THD-R current L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_THDREnCorrienteL2">
      <type>num</type>
	  <units>percent</units>
      <sensorId>THDRCURRENTL2</sensorId>
      <value>
		<mult>
			<op><getOid>def_THDREnCorrienteL2</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>THD-R current L2</label>
      <sensorSet>THD-R current L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_THDREnCorrienteL3">
      <type>num</type>
	  <units>percent</units>
      <sensorId>THDRCURRENTL3</sensorId>
      <value>
		<mult>
			<op><getOid>def_THDREnCorrienteL3</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>THD-R current L3</label>
      <sensorSet>THD-R current L</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_Frecuencia">
      <type>frequency</type>
      <sensorId>OUTPUT_FREQ</sensorId>
      <value>
		<mult>
			<op><getOid>def_Frecuencia</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Frequency</label>
      <sensorSet>Frequency</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_TensionMediaULN1">
      <type>voltage</type>
      <sensorId>AVERAGETENSIONULN</sensorId>
      <value>
		<mult>
			<op><getOid>def_TensionMediaULN1</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Average tension UL->N</label>
      <sensorSet>Average tension</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_TensionMediaULN2">
      <type>voltage</type>
      <sensorId>AVERAGETENSIONULL</sensorId>
      <value>
		<mult>
			<op><getOid>def_TensionMediaULN1</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Average tension UL->L</label>
      <sensorSet>Average tension</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_CorrienteMedia">
      <type>amperage</type>
      <sensorId>AVERAGECURRENT</sensorId>
      <value>
		<mult>
			<op><getOid>def_CorrienteMedia</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Average current</label>
      <sensorSet>Average current</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaAparenteTotal">
      <type>powerVA</type>
      <sensorId>OUTPUT_APPARENT_POWER_TOTAL</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaAparenteTotal</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Total apparent power</label>
      <sensorSet>Totals</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaActivaTotal">
      <type>powerW</type>
      <sensorId>OUTPUT_ACTIVE_POWER_TOTAL</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaActivaTotal</getOid></op>
			<op>1</op>
		</mult>
      </value>
      <label>Total active power</label>
      <sensorSet>Totals</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_PotenciaReactivaTotal">
      <type>powerW</type>
      <sensorId>OUTPUT_REACTIVE_POWER_TOTAL</sensorId>
      <value>
		<mult>
			<op><getOid>def_PotenciaReactivaTotal</getOid></op>
			<op>-1</op>
		</mult>
      </value>
      <label>Total reactive power</label>
      <sensorSet>Totals</sensorSet>
    </numSensor>
	<numSensor ruleid="rl_FactorDePotenciaTotal">
      <type>num/powerfactor</type>
      <sensorId>OUTPUT_POWER_FACTOR_TOTAL</sensorId>
      <value>
		<mult>
			<op><getOid>def_FactorDePotenciaTotal</getOid></op>
			<op>0.01</op>
		</mult>
      </value>
      <label>Total power factor</label>
      <sensorSet>Totals</sensorSet>
    </numSensor>
  </device>
	<protocol>
		<modbus>
		<type_definition type_name="swapped_int">
			<type>int_32</type>
			<!-- must be one of our 'normal' modbus types -->
			<byte_order>1,0,3,2</byte_order>
			<!-- mapping of device's byte string into the order which we want -->
		</type_definition>
		  <value_ref_id valid="def_TensionUL1N">
			<function>3</function>
			<start_addr>1</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_TensionUL2N">
			<function>3</function>
			<start_addr>3</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_TensionUL3N">
			<function>3</function>
			<start_addr>5</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_TensionUL1L2">
			<function>3</function>
			<start_addr>7</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_TensionUL2L3">
			<function>3</function>
			<start_addr>9</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_TensionUL3L1">
			<function>3</function>
			<start_addr>11</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_CorrienteL1">
			<function>3</function>
			<start_addr>13</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_CorrienteL2">
			<function>3</function>
			<start_addr>15</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_CorrienteL3">
			<function>3</function>
			<start_addr>17</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_PotenciaAparenteL1">
			<function>3</function>
			<start_addr>19</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_PotenciaAparenteL2">
			<function>3</function>
			<start_addr>21</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_PotenciaAparenteL3">
			<function>3</function>
			<start_addr>23</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_PotenciaActivaL1">
			<function>3</function>
			<start_addr>25</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_PotenciaActivaL2">
			<function>3</function>
			<start_addr>27</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_PotenciaActivaL3">
			<function>3</function>
			<start_addr>29</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_PotenciaReactivaL1">
			<function>3</function>
			<start_addr>31</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_PotenciaReactivaL2">
			<function>3</function>
			<start_addr>33</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_PotenciaReactivaL3">
			<function>3</function>
			<start_addr>35</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_FactorDePotenciaL1">
			<function>3</function>
			<start_addr>37</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_FactorDePotenciaL2">
			<function>3</function>
			<start_addr>39</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_FactorDePotenciaL3">
			<function>3</function>
			<start_addr>41</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_THDREnTensionL1">
			<function>3</function>
			<start_addr>43</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_THDREnTensionL2">
			<function>3</function>
			<start_addr>45</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		   <value_ref_id valid="def_THDREnTensionL3">
			<function>3</function>
			<start_addr>47</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_THDREnCorrienteL1">
			<function>3</function>
			<start_addr>49</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_THDREnCorrienteL2">
			<function>3</function>
			<start_addr>51</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_THDREnCorrienteL3">
			<function>3</function>
			<start_addr>53</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_Frecuencia">
			<function>3</function>
			<start_addr>55</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_TensionMediaULN1">
			<function>3</function>
			<start_addr>57</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_TensionMediaULN2">
			<function>3</function>
			<start_addr>59</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_CorrienteMedia">
			<function>3</function>
			<start_addr>61</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_PotenciaAparenteTotal">
			<function>3</function>
			<start_addr>63</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_PotenciaActivaTotal">
			<function>3</function>
			<start_addr>65</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_PotenciaReactivaTotal">
			<function>3</function>
			<start_addr>67</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		  <value_ref_id valid="def_FactorDePotenciaTotal">
			<function>3</function>
			<start_addr>69</start_addr>
			<quantity>2</quantity>
			<type>swapped_int</type>
		  </value_ref_id>
		</modbus>
  </protocol>
</APC_DDF>