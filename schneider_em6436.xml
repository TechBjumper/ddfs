<APC_DDF
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd"
	ddfid="schneider_em6436"
	ddfname="Schneider EM6436"
	ddfversion="3"
	canremove="yes">
	<schemaVersion>1.6</schemaVersion>
	<device deviceid="schneider_em6436">
		<setProductData ruleid="vendordata" field="vendor">Schneider</setProductData>
		<setProductData ruleid="modeldata" field="model">EM6436</setProductData>
		<setProductData ruleid="typedata" field="type">Power Meter</setProductData>
		<setDefaultLabel ruleid="labeldata">
			<sysHostname/> - Slave <commSetting field="slaveaddress"/>
		</setDefaultLabel>

		<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST"/>

		<numSensor ruleid="r-y-phase-voltage">
			<type>voltage</type>
			<units/>
			<sensorId>R-Y_PHASE_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>R-Y_PHASE_VOLTAGE</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>R-Y Phase Voltage</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="y-b-phase-voltage">
			<type>voltage</type>
			<units/>
			<sensorId>Y-B_PHASE_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Y-B_PHASE_VOLTAGE</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Y-B Phase Voltage</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="b-r-phase-voltage">
			<type>voltage</type>
			<units/>
			<sensorId>B-R_PHASE_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>B-R_PHASE_VOLTAGE</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>B-R Phase Voltage</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="r-phase-to-neutral-voltage">
			<type>voltage</type>
			<units/>
			<sensorId>R_PHASE_TO_NEUTRAL_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>R_PHASE_TO_NEUTRAL_VOLTAGE</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>R Phase to Neutral Voltage</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="y-phase-to-neutral-voltage">
			<type>voltage</type>
			<units/>
			<sensorId>Y_PHASE_TO_NEUTRAL_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Y_PHASE_TO_NEUTRAL_VOLTAGE</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Y Phase to Neutral Voltage</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="b-phase-to-neutral-voltage">
			<type>voltage</type>
			<units/>
			<sensorId>B_PHASE_TO_NEUTRAL_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>B_PHASE_TO_NEUTRAL_VOLTAGE</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>B Phase to Neutral Voltage</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="r-phase-current">
			<type>amperage</type>
			<units/>
			<sensorId>R_PHASE_CURRENT</sensorId>
			<value>
				<mult>
					<op>
						<getOid>R_PHASE_CURRENT</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>R Phase Current</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="y-phase-current">
			<type>amperage</type>
			<units/>
			<sensorId>Y_PHASE_CURRENT</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Y_PHASE_CURRENT</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Y Phase Current</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="b-phase-current">
			<type>amperage</type>
			<units/>
			<sensorId>B_PHASE_CURRENT</sensorId>
			<value>
				<mult>
					<op>
						<getOid>B_PHASE_CURRENT</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>B Phase Current</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="frequency">
			<type>frequency</type>
			<units/>
			<sensorId>FREQUENCY</sensorId>
			<value>
				<mult>
					<op>
						<getOid>FREQUENCY</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Frequency</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="r-phase-active-power">
			<type>powerW</type>
			<units/>
			<sensorId>R_PHASE_ACTIVE_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>R_PHASE_ACTIVE_POWER</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>R Phase Active Power</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="y-phase-active-power">
			<type>powerW</type>
			<units/>
			<sensorId>Y_PHASE_ACTIVE_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Y_PHASE_ACTIVE_POWER</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Y Phase Active Power</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="b-phase-active-power">
			<type>powerW</type>
			<units/>
			<sensorId>B_PHASE_ACTIVE_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>B_PHASE_ACTIVE_POWER</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>B Phase Active Power</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="total-active-power">
			<type>num/powerKW</type>
			<units/>
			<sensorId>TOTAL_ACTIVE_POWER</sensorId>
			<value>
				<mult>
					<op>
						<add>
							<op>
								<add>	
									<op>
										<getOid>R_PHASE_ACTIVE_POWER</getOid>
									</op>
									<op>
										<getOid>Y_PHASE_ACTIVE_POWER</getOid>
									</op>
								</add>
							</op>
							<op>
								<getOid>B_PHASE_ACTIVE_POWER</getOid>
							</op>
						</add>
					</op>
					<op>0.0001</op>
				</mult>
			</value>
			<valueInc>0.001</valueInc>
			<label>Total Active Power</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="r-phase-apparent-power">
			<type>num/powerKVA</type>
			<units/>
			<sensorId>R_PHASE_APPARENT_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>R_PHASE_APPARENT_POWER</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>R Phase Apparent Power</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="y-phase-apparent-power">
			<type>num/powerKVA</type>
			<units/>
			<sensorId>Y_PHASE_APPARENT_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Y_PHASE_APPARENT_POWER</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>y Phase Apparent Power</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="b-phase-apparent-power">
			<type>num/powerKVA</type>
			<units/>
			<sensorId>B_PHASE_APPARENT_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>B_PHASE_APPARENT_POWER</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>B Phase Apparent Power</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="total-apparent-power">
			<type>num/powerKVA</type>
			<units/>
			<sensorId>TOTAL_APPARENT_POWER</sensorId>
			<value>
				<mult>
					<op>
						<add>
							<op>
								<add>	
									<op>
										<getOid>R_PHASE_APPARENT_POWER</getOid>
									</op>
									<op>
										<getOid>Y_PHASE_APPARENT_POWER</getOid>
									</op>
								</add>
							</op>
							<op>
								<getOid>B_PHASE_APPARENT_POWER</getOid>
							</op>
						</add>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Total Apparent Power</label>
			<sensorSet/>
		</numSensor>
		<numSensor ruleid="r_current_phase1">
			<type>amperage</type>
			<units />
			<sensorId>_R_CURRENT_PHASE1</sensorId>
			<value>
				<mult>
					<op>
						<getOid>R_CURRENT_PHASE1</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>R Current phase1</label>
			<sensorSet>Current</sensorSet>
		</numSensor>
		<numSensor ruleid="y_current_phase2">
			<type>amperage</type>
			<units />
			<sensorId>_Y_CURRENT_PHASE2</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Y_CURRENT_PHASE2</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Y Current phase2</label>
			<sensorSet>Current</sensorSet>
		</numSensor>
		<numSensor ruleid="b_current_phase3">
			<type>amperage</type>
			<units />
			<sensorId>_B_CURRENT_PHASE3</sensorId>
			<value>
				<mult>
					<op>
						<getOid>B_CURRENT_PHASE3</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>B Current phase3</label>
			<sensorSet>Current</sensorSet>
		</numSensor>
		<numSensor ruleid="average_current">
			<type>amperage</type>
			<units />
			<sensorId>_AVERAGE_CURRENT</sensorId>
			<value>
				<mult>
					<op>
						<getOid>AVERAGE_CURRENT</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Average Current</label>
			<sensorSet>Current</sensorSet>
		</numSensor>
		<numSensor ruleid="frequency_1">
			<type>frequency</type>
			<units />
			<sensorId>_FREQUENCY_1</sensorId>
			<value>
				<mult>
					<op>
						<getOid>FREQUENCY_1</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Frequency 1</label>
			<sensorSet>Frequency</sensorSet>
		</numSensor>
		<numSensor ruleid="real_active_power">
			<type>num/powerKW</type>
			<units />
			<sensorId>_REAL_ACTIVE_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>REAL_ACTIVE_POWER</getOid>
					</op>
					<op>0.001</op>
				</mult>
			</value>
			<label>Real Active Power</label>
			<sensorSet>Active power</sensorSet>
		</numSensor>
		<numSensor ruleid="average_power_factor">
			<type>num/powerfactor</type>
			<units />
			<sensorId>_AVERAGE_POWER_FACTOR</sensorId>
			<value>
				<mult>
					<op>
						<getOid>AVERAGE_POWER_FACTOR</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Average Power Factor</label>
			<sensorSet>Power factor</sensorSet>
		</numSensor>
		<numSensor ruleid="vll_average_line_to_line_voltage">
			<type>voltage</type>
			<units />
			<sensorId>_VLL_AVERAGE_LINE_TO_LINE_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>VLL_AVERAGE_LINE_TO_LINE_VOLTAGE</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>VLL Average Line to Line voltage</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="vln_average_line_to_neutral_voltage">
			<type>voltage</type>
			<units />
			<sensorId>_VLN_AVERAGE_LINE_TO_NEUTRAL_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>VLN_AVERAGE_LINE_TO_NEUTRAL_VOLTAGE</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>VLN Average Line to neutral voltage</label>
			<sensorSet>Voltage</sensorSet>
		</numSensor>
	</device>
	<protocol>
		<modbus>

			<type_definition type_name="swapped_float">
				<type>float</type>                 
				<byte_order>1,0,3,2</byte_order>   
			</type_definition>

			<value_ref_id valid="R-Y_PHASE_VOLTAGE">
				<function>3</function>
				<start_addr>3924</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="Y-B_PHASE_VOLTAGE">
				<function>3</function>
				<start_addr>3938</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="B-R_PHASE_VOLTAGE">
				<function>3</function>
				<start_addr>3952</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="R_PHASE_TO_NEUTRAL_VOLTAGE">
				<function>3</function>
				<start_addr>3926</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="Y_PHASE_TO_NEUTRAL_VOLTAGE">
				<function>3</function>
				<start_addr>3940</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="B_PHASE_TO_NEUTRAL_VOLTAGE">
				<function>3</function>
				<start_addr>3954</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="R_PHASE_CURRENT">
				<function>3</function>
				<start_addr>3928</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="Y_PHASE_CURRENT">
				<function>3</function>
				<start_addr>3942</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="B_PHASE_CURRENT">
				<function>3</function>
				<start_addr>3956</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="FREQUENCY">
				<function>3</function>
				<start_addr>3914</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="R_PHASE_ACTIVE_POWER">
				<function>3</function>
				<start_addr>3918</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="Y_PHASE_ACTIVE_POWER">
				<function>3</function>
				<start_addr>3932</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="B_PHASE_ACTIVE_POWER">
				<function>3</function>
				<start_addr>3946</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="R_PHASE_APPARENT_POWER">
				<function>3</function>
				<start_addr>3916</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="Y_PHASE_APPARENT_POWER">
				<function>3</function>
				<start_addr>3930</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="B_PHASE_APPARENT_POWER">
				<function>3</function>
				<start_addr>3944</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="REAL_ACTIVE_POWER">
				<function>3</function>
				<start_addr>3002</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="AVERAGE_CURRENT">
				<function>3</function>
				<start_addr>3012</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="AVERAGE_POWER_FACTOR">
				<function>3</function>
				<start_addr>3006</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="R_CURRENT_PHASE1">
				<function>3</function>
				<start_addr>3042</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="B_CURRENT_PHASE3">
				<function>3</function>
				<start_addr>3102</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="FREQUENCY_1">
				<function>3</function>
				<start_addr>3014</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="VLN_AVERAGE_LINE_TO_NEUTRAL_VOLTAGE">
				<function>3</function>
				<start_addr>3010</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="VLL_AVERAGE_LINE_TO_LINE_VOLTAGE">
				<function>3</function>
				<start_addr>3008</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
			<value_ref_id valid="Y_CURRENT_PHASE2">
				<function>3</function>
				<start_addr>3072</start_addr>
				<quantity>2</quantity>
				<type>swapped_float</type>
			</value_ref_id>
		</modbus>
	</protocol>
</APC_DDF>
