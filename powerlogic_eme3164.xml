<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="powerlogic_eme3164" ddfname="Powerlogic EME3164" ddfversion="1" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="powerlogic_eme3164">
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
    <setProductData ruleid="vendordata" field="vendor">Powerlogic</setProductData>
    <setProductData ruleid="modeldata" field="model">EME3164</setProductData>
    <setProductData ruleid="typedata" field="type">Power Meter</setProductData>
    <setDefaultLabel ruleid="labeldata">
      <sysHostname />
      - Slave
      <commSetting field="slaveaddress" />
    </setDefaultLabel>
    <numSensor ruleid="energy_consumption_low-word_integer">
      <type>num/kwatthr</type>
      <units />
      <sensorId>_ENERGY_CONSUMPTION_LOW-WORD_INTEGER</sensorId>
      <value>
        <mult>
          <op>
            <getOid>ENERGY_CONSUMPTION_LOWWORD_INTEGER</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Energy Consumption Low-word integer</label>
      <sensorSet>Energy_consuption</sensorSet>
    </numSensor>
    <numSensor ruleid="energy_consumption_high-word_integer">
      <type>num/kwatthr</type>
      <units />
      <sensorId>_ENERGY_CONSUMPTION_HIGH-WORD_INTEGER</sensorId>
      <value>
        <mult>
          <op>
            <getOid>ENERGY_CONSUMPTION_HIGHWORD_INTEGER</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Energy Consumption High-word integer</label>
      <sensorSet>Energy_consuption</sensorSet>
    </numSensor>
    <numSensor ruleid="real_power">
      <type>num/powerKW</type>
      <units />
      <sensorId>_REAL_POWER</sensorId>
      <value>
        <mult>
          <op>
            <getOid>REAL_POWER</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Real Power</label>
      <sensorSet>power</sensorSet>
    </numSensor>
    <numSensor ruleid="reactive_power">
      <type>num/kdispreactpower</type>
      <units />
      <sensorId>_REACTIVE_POWER</sensorId>
      <value>
        <mult>
          <op>
            <getOid>REACTIVE_POWER</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Reactive Power</label>
      <sensorSet>power</sensorSet>
    </numSensor>
    <numSensor ruleid="apparant_power">
      <type>num/kdispapppower</type>
      <units />
      <sensorId>_APPARANT_POWER</sensorId>
      <value>
        <mult>
          <op>
            <getOid>APPARANT_POWER</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Apparant Power</label>
      <sensorSet>power</sensorSet>
    </numSensor>
    <numSensor ruleid="total_power_factor">
      <type>num/powerfactor</type>
      <units />
      <sensorId>_TOTAL_POWER_FACTOR</sensorId>
      <value>
        <mult>
          <op>
            <getOid>TOTAL_POWER_FACTOR</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Total Power Factor</label>
      <sensorSet>power</sensorSet>
    </numSensor>
			<numSensor ruleid="avg_voltage,_l_l">
			<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>AVG_VOLTAGE_L_L</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>voltage</type>
			<units />
			<sensorId>_AVG_VOLTAGE,_L_L</sensorId>
			<value>
				<mult>
					<op>
						<getOid>AVG_VOLTAGE_L_L</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Avg Voltage, L_L</label>
			<sensorSet>Avg</sensorSet>
		</numSensor>
		<numSensor ruleid="avg_voltage,_l_n">
			<type>voltage</type>
			<units />
			<sensorId>_AVG_VOLTAGE,_L_N</sensorId>
			<value>
				<mult>
					<op>
						<getOid>AVG_VOLTAGE_L_N</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Avg Voltage, L_N</label>
			<sensorSet>Avg</sensorSet>
		</numSensor>
		<numSensor ruleid="avg_current">
			<type>amperage</type>
			<units />
			<sensorId>_AVG_CURRENT</sensorId>
			<value>
				<mult>
					<op>
						<getOid>AVG_CURRENT</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Avg Current</label>
			<sensorSet>Avg</sensorSet>
		</numSensor>
		<numSensor ruleid="real_power,_phase_a_">
			<type>num/powerKW</type>
			<units />
			<sensorId>_REAL_POWER,_PHASE_A_</sensorId>
			<value>
				<mult>
					<op>
						<getOid>REAL_POWER_PHASE_A_</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Real Power, phase A</label>
			<sensorSet>power</sensorSet>
		</numSensor>
		<numSensor ruleid="real_power,_phase_b">
			<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>REAL_POWER_PHASE_B</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>num/powerKW</type>
			<units />
			<sensorId>_REAL_POWER,_PHASE_B</sensorId>
			<value>
				<mult>
					<op>
						<getOid>REAL_POWER_PHASE_B</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Real Power, phase B</label>
			<sensorSet>power</sensorSet>
		</numSensor>
		<numSensor ruleid="real_power,_phase_c">
			<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>REAL_POWER_PHASE_C</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>num/powerKW</type>
			<units />
			<sensorId>_REAL_POWER,_PHASE_C</sensorId>
			<value>
				<mult>
					<op>
						<getOid>REAL_POWER_PHASE_C</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Real Power, phase C</label>
			<sensorSet>power</sensorSet>
		</numSensor>
		<numSensor ruleid="power_factor,_phase_a">
			<type>num/powerfactor</type>
			<units />
			<sensorId>_POWER_FACTOR,_PHASE_A</sensorId>
			<value>
				<mult>
					<op>
						<getOid>POWER_FACTOR_PHASE_A</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Power Factor, phase A</label>
			<sensorSet>power</sensorSet>
		</numSensor>
		<numSensor ruleid="power_factor,_phase_b">
			<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>POWER_FACTOR_PHASE_B</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>num/powerfactor</type>
			<units />
			<sensorId>_POWER_FACTOR,_PHASE_B</sensorId>
			<value>
				<mult>
					<op>
						<getOid>POWER_FACTOR_PHASE_B</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Power Factor, phase B</label>
			<sensorSet>power</sensorSet>
		</numSensor>
		<numSensor ruleid="power_factor,_phase_c">
		<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>POWER_FACTOR_PHASE_C</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>num/powerfactor</type>
			<units />
			<sensorId>_POWER_FACTOR,_PHASE_C</sensorId>
			<value>
				<mult>
					<op>
						<getOid>POWER_FACTOR_PHASE_C</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Power Factor, phase c</label>
			<sensorSet>power</sensorSet>
		</numSensor>
		<numSensor ruleid="voltage,_phase_a-b">
		<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>VOLTAGE_PHASE_AB</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>voltage</type>
			<units />
			<sensorId>_VOLTAGE,_PHASE_A-B</sensorId>
			<value>
				<mult>
					<op>
						<getOid>VOLTAGE_PHASE_AB</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Voltage, phase A-B</label>
			<sensorSet>voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="voltage,_phase_b-c">
		<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>VOLTAGE_PHASE_BC</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>voltage</type>
			<units />
			<sensorId>_VOLTAGE,_PHASE_B-C</sensorId>
			<value>
				<mult>
					<op>
						<getOid>VOLTAGE_PHASE_BC</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Voltage, phase B-C</label>
			<sensorSet>voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="voltage,_phase_a-c">
		<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>VOLTAGE_PHASE_AC</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>voltage</type>
			<units />
			<sensorId>_VOLTAGE,_PHASE_A-C</sensorId>
			<value>
				<mult>
					<op>
						<getOid>VOLTAGE_PHASE_AC</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Voltage, phase A-C</label>
			<sensorSet>voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="voltage,_phase_a-n">
			<type>voltage</type>
			<units />
			<sensorId>_VOLTAGE,_PHASE_A-N</sensorId>
			<value>
				<mult>
					<op>
						<getOid>VOLTAGE_PHASE_AN</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Voltage, phase A-N</label>
			<sensorSet>voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="voltage,_phase_b-n">
		<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>VOLTAGE_PHASE_BN</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>voltage</type>
			<units />
			<sensorId>_VOLTAGE,_PHASE_B-N</sensorId>
			<value>
				<mult>
					<op>
						<getOid>VOLTAGE_PHASE_BN</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Voltage, phase B-N</label>
			<sensorSet>voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="voltage,_phase_c-n">
		<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>VOLTAGE_PHASE_CN</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>voltage</type>
			<units />
			<sensorId>_VOLTAGE,_PHASE_C-N</sensorId>
			<value>
				<mult>
					<op>
						<getOid>VOLTAGE_PHASE_CN</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Voltage, phase C-N</label>
			<sensorSet>voltage</sensorSet>
		</numSensor>
		<numSensor ruleid="current,_phase_a">
			<type>amperage</type>
			<units />
			<sensorId>_CURRENT,_PHASE_A</sensorId>
			<value>
				<mult>
					<op>
						<getOid>CURRENT_PHASE_A</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Current, phase A</label>
			<sensorSet>current</sensorSet>
		</numSensor>
		<numSensor ruleid="current,_phase_b">
		<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>CURRENT_PHASE_B</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>amperage</type>
			<units />
			<sensorId>_CURRENT,_PHASE_B</sensorId>
			<value>
				<mult>
					<op>
						<getOid>CURRENT_PHASE_B</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Current, phase B</label>
			<sensorSet>current</sensorSet>
		</numSensor>
		<numSensor ruleid="current,_phase_c">
		<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>CURRENT_PHASE_C</getOid>
							</op>
							<op>65535</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>amperage</type>
			<units />
			<sensorId>_CURRENT,_PHASE_C</sensorId>
			<value>
				<mult>
					<op>
						<getOid>CURRENT_PHASE_C</getOid>
					</op>
					<op>1</op>
				</mult>
			</value>
			<label>Current, phase C</label>
			<sensorSet>current</sensorSet>
		</numSensor>	
    <numSensor ruleid="present_demand_sub-interval">
      <type>num</type>
      <units />
      <sensorId>_PRESENT_DEMAND_SUB-INTERVAL</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PRESENT_DEMAND_SUBINTERVAL</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Present Demand Sub-Interval</label>
      <sensorSet>Demand</sensorSet>
    </numSensor>
    <numSensor ruleid="present_demand_(kw)">
      <type>num/powerKW</type>
      <units />
      <sensorId>_PRESENT_DEMAND_(KW)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PRESENT_DEMAND_KW</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Present Demand (kW)</label>
      <sensorSet>Demand</sensorSet>
    </numSensor>
    <numSensor ruleid="peak_demand">
      <type>num/powerKW</type>
      <units />
      <sensorId>_PEAK_DEMAND</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PEAK_DEMAND</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Peak Demand</label>
      <sensorSet>Demand</sensorSet>
    </numSensor>
    <numSensor ruleid="present_kvar_sub-interval">
      <type>num/kdispreactpower</type>
      <units />
      <sensorId>_PRESENT_KVAR_SUB-INTERVAL</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PRESENT_KVAR_SUBINTERVAL</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Present KVAR Sub-Interval</label>
      <sensorSet>Reactive Power</sensorSet>
    </numSensor>
    <numSensor ruleid="present_kvar">
      <type>num/kdispreactpower</type>
      <units />
      <sensorId>_PRESENT_KVAR</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PRESENT_KVAR</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Present KVAR</label>
      <sensorSet>Reactive Power</sensorSet>
    </numSensor>
    <numSensor ruleid="peak_kvar">
      <type>num/kdispreactpower</type>
      <units />
      <sensorId>_PEAK_KVAR</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PEAK_KVAR</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Peak KVAR</label>
      <sensorSet>Reactive Power</sensorSet>
    </numSensor>
    <numSensor ruleid="count_of_kwh_resets">
      <type>num/kdisprealenergy</type>
      <units />
      <sensorId>_COUNT_OF_KWH_RESETS</sensorId>
      <value>
        <mult>
          <op>
            <getOid>COUNT_OF_KWH_RESETS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Count of KWH resets</label>
      <sensorSet>Count</sensorSet>
    </numSensor>
    <numSensor ruleid="count_of_peak_demand_resets">
      <type>num</type>
      <units />
      <sensorId>_COUNT_OF_PEAK_DEMAND_RESETS</sensorId>
      <value>
        <mult>
          <op>
            <getOid>COUNT_OF_PEAK_DEMAND_RESETS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Count of Peak Demand Resets</label>
      <sensorSet>Count</sensorSet>
    </numSensor>
    <numSensor ruleid="count_of_peak_kvar_resets">
      <type>num/kdispreactpower</type>
      <units />
      <sensorId>_COUNT_OF_PEAK_KVAR_RESETS</sensorId>
      <value>
        <mult>
          <op>
            <getOid>COUNT_OF_PEAK_KVAR_RESETS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Count of Peak KVAR Resets</label>
      <sensorSet>Count</sensorSet>
    </numSensor>
    <numSensor ruleid="count_of_elapsed_sub_intervals">
      <type>num</type>
      <units />
      <sensorId>_COUNT_OF_ELAPSED_SUB_INTERVALS</sensorId>
      <value>
        <mult>
          <op>
            <getOid>COUNT_OF_ELAPSED_SUB_INTERVALS</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Count of elapsed Sub Intervals</label>
      <sensorSet>Count</sensorSet>
    </numSensor>
    <numSensor ruleid="number_readings_in_present_sub-interval">
      <type>num</type>
      <units />
      <sensorId>_NUMBER_READINGS_IN_PRESENT_SUB-INTERVAL</sensorId>
      <value>
        <mult>
          <op>
            <getOid>NUMBER_READINGS_IN_PRESENT_SUBINTERVAL</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Number readings in present sub-interval</label>
      <sensorSet>Sub Interval</sensorSet>
    </numSensor>
    <numSensor ruleid="sub_interval_length">
      <type>num</type>
      <units />
      <sensorId>_SUB_INTERVAL_LENGTH</sensorId>
      <value>
        <mult>
          <op>
            <getOid>SUB_INTERVAL_LENGTH</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Sub Interval Length</label>
      <sensorSet>Sub Interval</sensorSet>
    </numSensor>
    <numSensor ruleid="number_of_sub_intervals_per_demand_interval">
      <type>num</type>
      <units />
      <sensorId>_NUMBER_OF_SUB_INTERVALS_PER_DEMAND_INTERVAL</sensorId>
      <value>
        <mult>
          <op>
            <getOid>NUMBER_OF_SUB_INTERVALS_PER_DEMAND_INTERVAL</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Number of Sub Intervals per Demand Interval</label>
      <sensorSet>Sub Interval</sensorSet>
    </numSensor>
    <numSensor ruleid="system_id">
      <type>num</type>
      <units />
      <sensorId>_SYSTEM_ID</sensorId>
      <value>
        <mult>
          <op>
            <getOid>SYSTEM_ID</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>System ID</label>
      <sensorSet>Sub Interval</sensorSet>
    </numSensor>
    <numSensor ruleid="ct_size">
      <type>num</type>
      <units />
      <sensorId>_CT_SIZE</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CT_SIZE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>CT Size</label>
      <sensorSet>Sys ID</sensorSet>
    </numSensor>
    <numSensor ruleid="ct_number">
      <type>num</type>
      <units />
      <sensorId>_CT_NUMBER</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CT_NUMBER</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>CT Number</label>
      <sensorSet>CT</sensorSet>
    </numSensor>
    <numSensor ruleid="count_of_phase_losses">
      <type>num</type>
      <units />
      <sensorId>_COUNT_OF_PHASE_LOSSES</sensorId>
      <value>
        <mult>
          <op>
            <getOid>COUNT_OF_PHASE_LOSSES</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Count of Phase Losses</label>
      <sensorSet>phase</sensorSet>
    </numSensor>
    <numSensor ruleid="date/time_month_1-12">
      <type>num</type>
      <units />
      <sensorId>_DATE/TIME_MONTH_1-12</sensorId>
      <value>
        <mult>
          <op>
            <getOid>DATETIME_MONTH_112</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Date/Time Month 1-12</label>
      <sensorSet>Date</sensorSet>
    </numSensor>
    <numSensor ruleid="date/time_year_0-199">
      <type>num</type>
      <units />
      <sensorId>_DATE/TIME_YEAR_0-199</sensorId>
      <value>
        <mult>
          <op>
            <getOid>DATETIME_YEAR_0199</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Date/Time Year 0-199</label>
      <sensorSet>Date</sensorSet>
    </numSensor>
    <numSensor ruleid="date/time_minutes_0-59">
      <type>timeinmin</type>
      <units />
      <sensorId>_DATE/TIME_MINUTES_0-59</sensorId>
      <value>
        <mult>
          <op>
            <getOid>DATETIME_MINUTES_059</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Date/Time Minutes 0-59</label>
      <sensorSet>Date</sensorSet>
    </numSensor>
    <numSensor ruleid="phase_loss_timestamp,_month_1-12(lsb)_day_1-31(msb)">
      <type>num</type>
      <units />
      <sensorId>_PHASE_LOSS_TIMESTAMP,_MONTH_1-12(LSB)_DAY_1-31(MSB)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PHASE_LOSS_TIMESTAMP_MONTH_112LSB_DAY_131MSB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Phase Loss Timestamp, Month 1-12(LSB) Day 1-31(MSB)</label>
      <sensorSet>Timestamp</sensorSet>
    </numSensor>
    <numSensor ruleid="phase_loss_timestamp,_year_0-199(lsb)_hour_0-23(msb)">
      <type>num</type>
      <units />
      <sensorId>_PHASE_LOSS_TIMESTAMP,_YEAR_0-199(LSB)_HOUR_0-23(MSB)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PHASE_LOSS_TIMESTAMP_YEAR_0199LSB_HOUR_023MSB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Phase Loss Timestamp, Year 0-199(LSB) Hour 0-23(MSB)</label>
      <sensorSet>Timestamp</sensorSet>
    </numSensor>
    <numSensor ruleid="phase_loss_timestamp,_minutes_0-59(lsb)_seconds_0-59(msb)">
      <type>num</type>
      <units />
      <sensorId>_PHASE_LOSS_TIMESTAMP,_MINUTES_0-59(LSB)_SECONDS_0-59(MSB)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>PHASE_LOSS_TIMESTAMP_MINUTES_059LSB_SECONDS_059MSB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Phase Loss Timestamp, Minutes 0-59(LSB) Seconds 0-59(MSB)</label>
      <sensorSet>Timestamp</sensorSet>
    </numSensor>
    <numSensor ruleid="last_restart_timestamp,_month_1-12(lsb)_day_1-31(msb)">
      <type>num</type>
      <units />
      <sensorId>_LAST_RESTART_TIMESTAMP,_MONTH_1-12(LSB)_DAY_1-31(MSB)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>LAST_RESTART_TIMESTAMP_MONTH_112LSB_DAY_131MSB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Last Restart Timestamp, Month 1-12(LSB) Day 1-31(MSB)</label>
      <sensorSet>Timestamp</sensorSet>
    </numSensor>
    <numSensor ruleid="last_restart_timestamp,_year_0-199(lsb)_hour_0-23(msb)">
      <type>num</type>
      <units />
      <sensorId>_LAST_RESTART_TIMESTAMP,_YEAR_0-199(LSB)_HOUR_0-23(MSB)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>LAST_RESTART_TIMESTAMP_YEAR_0199LSB_HOUR_023MSB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Last Restart Timestamp, Year 0-199(LSB) Hour 0-23(MSB)</label>
      <sensorSet>Timestamp</sensorSet>
    </numSensor>
    <numSensor ruleid="last_restart_timestamp,_minutes_0-59(lsb)_seconds_0-59(msb)">
      <type>num</type>
      <units />
      <sensorId>_LAST_RESTART_TIMESTAMP,_MINUTES_0-59(LSB)_SECONDS_0-59(MSB)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>LAST_RESTART_TIMESTAMP_MINUTES_059LSB_SECONDS_059MSB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Last Restart Timestamp, Minutes 0-59(LSB) Seconds 0-59(MSB)</label>
      <sensorSet>Timestamp</sensorSet>
    </numSensor>
    <numSensor ruleid="last_kwh_reset_timestamp,_month_1-12(lsb)_day_1-31(msb)">
      <type>num</type>
      <units />
      <sensorId>_LAST_KWH_RESET_TIMESTAMP,_MONTH_1-12(LSB)_DAY_1-31(MSB)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>LAST_KWH_RESET_TIMESTAMP_MONTH_112LSB_DAY_131MSB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Last KWH Reset Timestamp, Month 1-12(LSB) Day 1-31(MSB)</label>
      <sensorSet>Timestamp</sensorSet>
    </numSensor>
    <numSensor ruleid="last_kwh_reset_timestamp,_year_0-199(lsb)_hour_0-23(msb)">
      <type>num</type>
      <units />
      <sensorId>_LAST_KWH_RESET_TIMESTAMP,_YEAR_0-199(LSB)_HOUR_0-23(MSB)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>LAST_KWH_RESET_TIMESTAMP_YEAR_0199LSB_HOUR_023MSB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Last KWH Reset Timestamp, Year 0-199(LSB) Hour 0-23(MSB)</label>
      <sensorSet>Timestamp</sensorSet>
    </numSensor>
    <numSensor ruleid="last_kwh_reset_timestamp,_minutes_0-59(lsb)_seconds_0-59(msb)">
      <type>timeinmin</type>
      <units />
      <sensorId>_LAST_KWH_RESET_TIMESTAMP,_MINUTES_0-59(LSB)_SECONDS_0-59(MSB)</sensorId>
      <value>
        <mult>
          <op>
            <getOid>LAST_KWH_RESET_TIMESTAMP_MINUTES_059LSB_SECONDS_059MSB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Last KWH Reset Timestamp, Minutes 0-59(LSB) Seconds 0-59(MSB)</label>
      <sensorSet>Timestamp</sensorSet>
    </numSensor>
    <stateSensor ruleid="begin_new_demand_sub-interval">
      <type>state</type>
      <sensorId>_BEGIN_NEW_DEMAND_SUB-INTERVAL</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>BEGIN_NEW_DEMAND_SUBINTERVAL</getOid>
                  </op>
                  <op>0</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Begin New Demand Sub-Interval</label>
      <enum>true_false_em</enum>
      <sensorSet>Comm</sensorSet>
    </stateSensor>
    <stateSensor ruleid="clear_kwh_accumulator">
      <type>state</type>
      <sensorId>_CLEAR_KWH_ACCUMULATOR</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>CLEAR_KWH_ACCUMULATOR</getOid>
                  </op>
                  <op>1</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Clear KWH accumulator</label>
      <enum>true_false_em</enum>
      <sensorSet>Comm</sensorSet>
    </stateSensor>
    <stateSensor ruleid="reset_peak_demand">
      <type>state</type>
      <sensorId>_RESET_PEAK_DEMAND</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>RESET_PEAK_DEMAND</getOid>
                  </op>
                  <op>2</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Reset Peak Demand</label>
      <enum>true_false_em</enum>
      <sensorSet>Comm</sensorSet>
    </stateSensor>
    <stateSensor ruleid="reset_peak_kvar">
      <type>state</type>
      <sensorId>_RESET_PEAK_KVAR</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>RESET_PEAK_KVAR</getOid>
                  </op>
                  <op>3</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Reset Peak KVAR</label>
      <enum>true_false_em</enum>
      <sensorSet>Comm</sensorSet>
    </stateSensor>
    <stateSensor ruleid="phase_a">
      <type>state</type>
      <sensorId>_PHASE_A</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>PHASE_A</getOid>
                  </op>
                  <op>0</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Phase A</label>
      <enum>true_false_em</enum>
      <sensorSet>Phase</sensorSet>
    </stateSensor>
    <stateSensor ruleid="phase_b">
      <type>state</type>
      <sensorId>_PHASE_B</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>PHASE_B</getOid>
                  </op>
                  <op>1</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Phase B</label>
      <enum>true_false_em</enum>
      <sensorSet>phase</sensorSet>
    </stateSensor>
    <stateSensor ruleid="phase_c">
      <type>state</type>
      <sensorId>_PHASE_C</sensorId>
      <value>
        <mapValue mapid="true_false_vm">
          <formatNumber printffmt="%1.0f">
            <bitwise_and>
              <op>
                <right_shift>
                  <op>
                    <getOid>PHASE_C</getOid>
                  </op>
                  <op>2</op>
                </right_shift>
              </op>
              <op>1</op>
            </bitwise_and>
          </formatNumber>
        </mapValue>
      </value>
      <label>Phase C</label>
      <enum>true_false_em</enum>
      <sensorSet>phase</sensorSet>
    </stateSensor>
  </device>
  <protocol>
    <modbus>
      <value_ref_id valid="CT_NUMBER">
        <function>3</function>
        <start_addr>39</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="PHASE_A">
        <function>3</function>
        <start_addr>41</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="BEGIN_NEW_DEMAND_SUBINTERVAL">
        <function>3</function>
        <start_addr>40</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="SYSTEM_ID">
        <function>3</function>
        <start_addr>37</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="ENERGY_CONSUMPTION_LOWWORD_INTEGER">
        <function>3</function>
        <start_addr>256</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="TOTAL_POWER_FACTOR">
        <function>3</function>
        <start_addr>266</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="PRESENT_KVAR">
        <function>3</function>
        <start_addr>312</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="PHASE_LOSS_TIMESTAMP_MONTH_112LSB_DAY_131MSB">
        <function>3</function>
        <start_addr>46</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="COUNT_OF_PEAK_KVAR_RESETS">
        <function>3</function>
        <start_addr>32</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="LAST_RESTART_TIMESTAMP_YEAR_0199LSB_HOUR_023MSB">
        <function>3</function>
        <start_addr>50</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="NUMBER_READINGS_IN_PRESENT_SUBINTERVAL">
        <function>3</function>
        <start_addr>34</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="RESET_PEAK_KVAR">
        <function>3</function>
        <start_addr>40</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="PRESENT_KVAR_SUBINTERVAL">
        <function>3</function>
        <start_addr>310</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="ENERGY_CONSUMPTION_HIGHWORD_INTEGER">
        <function>3</function>
        <start_addr>258</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="COUNT_OF_PHASE_LOSSES">
        <function>3</function>
        <start_addr>42</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="PRESENT_DEMAND_KW">
        <function>3</function>
        <start_addr>306</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="PHASE_B">
        <function>3</function>
        <start_addr>41</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="COUNT_OF_KWH_RESETS">
        <function>3</function>
        <start_addr>30</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="LAST_RESTART_TIMESTAMP_MINUTES_059LSB_SECONDS_059MSB">
        <function>3</function>
        <start_addr>51</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CT_SIZE">
        <function>3</function>
        <start_addr>38</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="DATETIME_YEAR_0199">
        <function>3</function>
        <start_addr>44</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="DATETIME_MONTH_112">
        <function>3</function>
        <start_addr>43</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="PEAK_DEMAND">
        <function>3</function>
        <start_addr>308</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="NUMBER_OF_SUB_INTERVALS_PER_DEMAND_INTERVAL">
        <function>3</function>
        <start_addr>36</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="PHASE_LOSS_TIMESTAMP_YEAR_0199LSB_HOUR_023MSB">
        <function>3</function>
        <start_addr>47</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="APPARANT_POWER">
        <function>3</function>
        <start_addr>264</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="PHASE_C">
        <function>3</function>
        <start_addr>41</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="SUB_INTERVAL_LENGTH">
        <function>3</function>
        <start_addr>35</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="PEAK_KVAR">
        <function>3</function>
        <start_addr>314</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="PHASE_LOSS_TIMESTAMP_MINUTES_059LSB_SECONDS_059MSB">
        <function>3</function>
        <start_addr>48</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="LAST_KWH_RESET_TIMESTAMP_MINUTES_059LSB_SECONDS_059MSB">
        <function>3</function>
        <start_addr>54</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CLEAR_KWH_ACCUMULATOR">
        <function>3</function>
        <start_addr>40</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="REACTIVE_POWER">
        <function>3</function>
        <start_addr>262</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="LAST_KWH_RESET_TIMESTAMP_MONTH_112LSB_DAY_131MSB">
        <function>3</function>
        <start_addr>52</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="COUNT_OF_PEAK_DEMAND_RESETS">
        <function>3</function>
        <start_addr>31</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="REAL_POWER">
        <function>3</function>
        <start_addr>260</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="PRESENT_DEMAND_SUBINTERVAL">
        <function>3</function>
        <start_addr>304</start_addr>
        <quantity>2</quantity>
        <type>float</type>
      </value_ref_id>
      <value_ref_id valid="LAST_RESTART_TIMESTAMP_MONTH_112LSB_DAY_131MSB">
        <function>3</function>
        <start_addr>49</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="RESET_PEAK_DEMAND">
        <function>3</function>
        <start_addr>40</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="LAST_KWH_RESET_TIMESTAMP_YEAR_0199LSB_HOUR_023MSB">
        <function>3</function>
        <start_addr>53</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="COUNT_OF_ELAPSED_SUB_INTERVALS">
        <function>3</function>
        <start_addr>33</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="DATETIME_MINUTES_059">
        <function>3</function>
        <start_addr>45</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>	  
	  <value_ref_id valid="POWER_FACTOR_PHASE_B">
				<function>3</function>
				<start_addr>282</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="VOLTAGE_PHASE_BN">
				<function>3</function>
				<start_addr>294</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="VOLTAGE_PHASE_AC">
				<function>3</function>
				<start_addr>290</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="VOLTAGE_PHASE_CN">
				<function>3</function>
				<start_addr>296</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="REAL_POWER_PHASE_C">
				<function>3</function>
				<start_addr>278</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="POWER_FACTOR_PHASE_A">
				<function>3</function>
				<start_addr>280</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="VOLTAGE_PHASE_AB">
				<function>3</function>
				<start_addr>286</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="REAL_POWER_PHASE_B">
				<function>3</function>
				<start_addr>276</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="VOLTAGE_PHASE_BC">
				<function>3</function>
				<start_addr>288</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="REAL_POWER_PHASE_A_">
				<function>3</function>
				<start_addr>274</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="CURRENT_PHASE_B">
				<function>3</function>
				<start_addr>300</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="AVG_VOLTAGE_L_L">
				<function>3</function>
				<start_addr>268</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="AVG_VOLTAGE_L_N">
				<function>3</function>
				<start_addr>270</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="POWER_FACTOR_PHASE_C">
				<function>3</function>
				<start_addr>284</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="AVG_CURRENT">
				<function>3</function>
				<start_addr>272</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="VOLTAGE_PHASE_AN">
				<function>3</function>
				<start_addr>292</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="CURRENT_PHASE_C">
				<function>3</function>
				<start_addr>302</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="CURRENT_PHASE_A">
				<function>3</function>
				<start_addr>298</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>	  
    </modbus>
  </protocol>
</APC_DDF>
