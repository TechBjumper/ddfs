<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="schneiderelectric_mgepmmpanel2" ddfname="SchneiderElectric MGEPMMPanel2" ddfversion="1" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="schneiderelectric_mgepmmpanel2">
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
    <setProductData ruleid="vendordata" field="vendor">SchneiderElectric</setProductData>
    <setProductData ruleid="modeldata" field="model">MGEPMMPanel2</setProductData>
    <setProductData ruleid="typedata" field="type">Power Meter</setProductData>
    <setDefaultLabel ruleid="labeldata">
      <sysHostname />
      - Slave
      <commSetting field="slaveaddress" />
    </setDefaultLabel>
    <numSensor ruleid="active_power">
      <type>powerW</type>
      <units />
      <sensorId>REAL_POWER_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>ACTIVE_POWER</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>ACTIVE POWER</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="apparent_power_total">
      <type>powerVA</type>
      <units />
      <sensorId>APPARENT_POWER_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>APPARENT_POWER_TOTAL</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Apparent Power Total</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="avg_current">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>AVG_CURRENT</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>AVG CURRENT</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="frequency">
      <type>frequency</type>
      <units />
      <sensorId>1_FREQUENCY_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>FREQUENCY</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>FREQUENCY</label>
      <sensorSet>Frequency</sensorSet>
    </numSensor>
    <numSensor ruleid="max_current_a">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>MAX_CURRENT_A</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>MAX CURRENT A</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="max_current_avg">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_3</sensorId>
      <value>
        <mult>
          <op>
            <getOid>MAX_CURRENT_AVG</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>MAX CURRENT AVG</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="max_current_b">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_4</sensorId>
      <value>
        <mult>
          <op>
            <getOid>MAX_CURRENT_B</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>MAX CURRENT B</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="max_current_c">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_5</sensorId>
      <value>
        <mult>
          <op>
            <getOid>MAX_CURRENT_C</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>MAX CURRENT C</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="max_current_g">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_6</sensorId>
      <value>
        <mult>
          <op>
            <getOid>MAX_CURRENT_G</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>MAX CURRENT G</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="max_current_n">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_7</sensorId>
      <value>
        <mult>
          <op>
            <getOid>MAX_CURRENT_N</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>MAX CURRENT N</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="over_current_ground">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_8</sensorId>
      <value>
        <mult>
          <op>
            <getOid>OVER_CURRENT_GROUND</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>OVER CURRENT GROUND</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="over_current_neutral">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_9</sensorId>
      <value>
        <mult>
          <op>
            <getOid>OVER_CURRENT_NEUTRAL</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>OVER CURRENT NEUTRAL</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="over_current_phase">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_10</sensorId>
      <value>
        <mult>
          <op>
            <getOid>OVER_CURRENT_PHASE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>OVER CURRENT PHASE</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="power_factor">
      <type>num/powerfactor</type>
      <units />
      <sensorId>CURRENT_11</sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_FACTOR</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>POWER FACTOR</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="reactive_power_total">
      <type>powerVA/powerVAR</type>
      <units />
      <sensorId>1_SMM_2_OID_6</sensorId>
      <value>
        <mult>
          <op>
            <getOid>REACTIVE_POWER_TOTAL</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Reactive Power Total</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="under_current_phase">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_12</sensorId>
      <value>
        <mult>
          <op>
            <getOid>UNDER_CURRENT_PHASE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>UNDER CURRENT PHASE</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage">
      <type>voltage</type>
      <units />
      <sensorId>_SMM_1_OID_</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>VOLTAGE</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_ab">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_AB</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Voltage AB</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_an">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_AN</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Voltage AN</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_bc">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_3</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_BC</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Voltage BC</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_bn">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_4</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_BN</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Voltage BN</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_ca">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_4</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_CA</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Voltage CA</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_cn">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_5</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_CN</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Voltage CN</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_ll_avg">
      <type>voltage</type>
      <units />
      <sensorId>1_SMM_1_OID_5</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_LL_AVG</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Voltage LL Avg</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_ln_avg">
      <type>voltage</type>
      <units />
      <sensorId>1_SMM_1_OID_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_LN_AVG</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Voltage LN Avg</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_ng">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_6</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_NG</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <valueInc>1</valueInc>
      <label>Voltage NG</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
  </device>
  <protocol>
    <modbus>
      <value_ref_id valid="ACTIVE_POWER">
        <function>3</function>
        <start_addr>400</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="APPARENT_POWER_TOTAL">
        <function>3</function>
        <start_addr>401</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="AVG_CURRENT">
        <function>3</function>
        <start_addr>402</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="FREQUENCY">
        <function>3</function>
        <start_addr>403</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="MAX_CURRENT_A">
        <function>3</function>
        <start_addr>404</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="MAX_CURRENT_AVG">
        <function>3</function>
        <start_addr>405</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="MAX_CURRENT_B">
        <function>3</function>
        <start_addr>406</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="MAX_CURRENT_C">
        <function>3</function>
        <start_addr>407</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="MAX_CURRENT_G">
        <function>3</function>
        <start_addr>408</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="MAX_CURRENT_N">
        <function>3</function>
        <start_addr>409</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="OVER_CURRENT_GROUND">
        <function>3</function>
        <start_addr>410</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="OVER_CURRENT_NEUTRAL">
        <function>3</function>
        <start_addr>411</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="OVER_CURRENT_PHASE">
        <function>3</function>
        <start_addr>412</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_FACTOR">
        <function>3</function>
        <start_addr>413</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="REACTIVE_POWER_TOTAL">
        <function>3</function>
        <start_addr>414</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="UNDER_CURRENT_PHASE">
        <function>3</function>
        <start_addr>415</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE">
        <function>3</function>
        <start_addr>416</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_AB">
        <function>3</function>
        <start_addr>417</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_AN">
        <function>3</function>
        <start_addr>418</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_BC">
        <function>3</function>
        <start_addr>419</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_BN">
        <function>3</function>
        <start_addr>420</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_CA">
        <function>3</function>
        <start_addr>421</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_CN">
        <function>3</function>
        <start_addr>422</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_LL_AVG">
        <function>3</function>
        <start_addr>423</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_LN_AVG">
        <function>3</function>
        <start_addr>424</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_NG">
        <function>3</function>
        <start_addr>425</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
    </modbus>
  </protocol>
</APC_DDF>
