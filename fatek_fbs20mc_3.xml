<APC_DDF
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd"
	ddfid="fatek_fbs20mc"
	ddfname="Fatek FBS20MC"
	ddfversion="1"
	canremove="yes">
	<schemaVersion>1.6</schemaVersion>
	<device deviceid="fatek_fbs20mc">
		<setProductData ruleid="vendordata" field="vendor">Fatek</setProductData>
		<setProductData ruleid="modeldata" field="model">FBS20MC</setProductData>
		<setProductData ruleid="typedata" field="type">Generic Device</setProductData>
		<setDefaultLabel ruleid="labeldata"><sysHostname/> - Slave <commSetting field="slaveaddress"/></setDefaultLabel>

		<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST"/>

		<stateSensor ruleid="chiller-status">
			<type>state</type>
			<sensorId>CHILLER_STATUS</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>CHILLER_STATUS</getOid>
				</mapValue>
			</value>
			<label>Chiller Status</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="chiller-alarm">
			<type>state</type>
			<sensorId>CHILLER_ALARM</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>CHILLER_ALARM</getOid>
				</mapValue>
			</value>
			<label>Chiller Alarm</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="chiller-pump-1-status">
			<type>state</type>
			<sensorId>CHILLER_PUMP_1_STATUS</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>CHILLER_PUMP_1_STATUS</getOid>
				</mapValue>
			</value>
			<label>Chiller Pump 1 Status</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="chiller-pump-2-status">
			<type>state</type>
			<sensorId>CHILLER_PUMP_2_STATUS</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>CHILLER_PUMP_2_STATUS</getOid>
				</mapValue>
			</value>
			<label>Chiller Pump 2 Status</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="chiller-pump-1-alarm">
			<type>state</type>
			<sensorId>CHILLER_PUMP_1_ALARM</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>CHILLER_PUMP_1_ALARM</getOid>
				</mapValue>
			</value>
			<label>Chiller Pump 1 Alarm</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="chiller-pump-2-alarm">
			<type>state</type>
			<sensorId>CHILLER_PUMP_2_ALARM</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>CHILLER_PUMP_2_ALARM</getOid>
				</mapValue>
			</value>
			<label>Chiller Pump 2 Alarm</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="fire-alarm">
			<type>state</type>
			<sensorId>FIRE_ALARM</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>FIRE_ALARM</getOid>
				</mapValue>
			</value>
			<label>Fire Alarm</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="water-leak-1">
			<type>state</type>
			<sensorId>WATER_LEAK_1</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>WATER_LEAK_1</getOid>
				</mapValue>
			</value>
			<label>Water Leak 1</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="water-leak-2">
			<type>state</type>
			<sensorId>WATER_LEAK_2</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>WATER_LEAK_2</getOid>
				</mapValue>
			</value>
			<label>Water Leak 2</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="water-leak-3">
			<type>state</type>
			<sensorId>WATER_LEAK_3</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>WATER_LEAK_3</getOid>
				</mapValue>
			</value>
			<label>Water Leak 3</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="red-light">
			<type>state</type>
			<sensorId>RED_LIGHT</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>RED_LIGHT</getOid>
				</mapValue>
			</value>
			<label>Red Light</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="yellow-light">
			<type>state</type>
			<sensorId>YELLOW_LIGHT</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>YELLOW_LIGHT</getOid>
				</mapValue>
			</value>
			<label>Yellow Light</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="green-light">
			<type>state</type>
			<sensorId>GREEN_LIGHT</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>GREEN_LIGHT</getOid>
				</mapValue>
			</value>
			<label>Green Light</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="buzzer">
			<type>state</type>
			<sensorId>BUZZER</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>BUZZER</getOid>
				</mapValue>
			</value>
			<label>Buzzer</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="rc-1-shutdown">
			<type>state</type>
			<sensorId>RC_1_SHUTDOWN</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>RC_1_SHUTDOWN</getOid>
				</mapValue>
			</value>
			<label>RC 1 Shutdown</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="rc-2-shutdown">
			<type>state</type>
			<sensorId>RC_2_SHUTDOWN</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<getOid>RC_2_SHUTDOWN</getOid>
				</mapValue>
			</value>
			<label>RC 2 Shutdown</label>
			<enum>onOff-em</enum>
			<sensorSet>Status</sensorSet>
		</stateSensor>
		<numSensor ruleid="power-meter:-a-b-phase-voltage">
			<type>voltage</type>
			<units></units>
			<sensorId>POWER_METER:_A-B_PHASE_VOLTAGE</sensorId>
			<value>
				<mult>
				<op><getOid>POWER_METER:_A-B_PHASE_VOLTAGE</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Power Meter: A-B Phase Voltage</label>
			<sensorSet>Power Meter</sensorSet>
		</numSensor>
		<numSensor ruleid="power-meter:-b-c-phase-voltage">
			<type>voltage</type>
			<units></units>
			<sensorId>POWER_METER:_B-C_PHASE_VOLTAGE</sensorId>
			<value>
				<mult>
				<op><getOid>POWER_METER:_B-C_PHASE_VOLTAGE</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Power Meter: B-C Phase Voltage</label>
			<sensorSet>Power Meter</sensorSet>
		</numSensor>
		<numSensor ruleid="power-meter:-c-a-phase-voltage">
			<type>voltage</type>
			<units></units>
			<sensorId>POWER_METER:_C-A_PHASE_VOLTAGE</sensorId>
			<value>
				<mult>
				<op><getOid>POWER_METER:_C-A_PHASE_VOLTAGE</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Power Meter: C-A Phase Voltage</label>
			<sensorSet>Power Meter</sensorSet>
		</numSensor>
		<numSensor ruleid="power-meter:-a-phase-current">
			<type>amperage</type>
			<units></units>
			<sensorId>POWER_METER:_A_PHASE_CURRENT</sensorId>
			<value>
				<mult>
				<op><getOid>POWER_METER:_A_PHASE_CURRENT</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Power Meter: A Phase Current</label>
			<sensorSet>Power Meter</sensorSet>
		</numSensor>
		<numSensor ruleid="power-meter:-b-phase-current">
			<type>amperage</type>
			<units></units>
			<sensorId>POWER_METER:_B_PHASE_CURRENT</sensorId>
			<value>
				<mult>
				<op><getOid>POWER_METER:_B_PHASE_CURRENT</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Power Meter: B Phase Current</label>
			<sensorSet>Power Meter</sensorSet>
		</numSensor>
		<numSensor ruleid="power-meter:-c-phase-current">
			<type>amperage</type>
			<units></units>
			<sensorId>POWER_METER:_C_PHASE_CURRENT</sensorId>
			<value>
				<mult>
				<op><getOid>POWER_METER:_C_PHASE_CURRENT</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Power Meter: C Phase Current</label>
			<sensorSet>Power Meter</sensorSet>
		</numSensor>
		<numSensor ruleid="power-meter:-hz">
			<type>frequency</type>
			<units></units>
			<sensorId>POWER_METER:_HZ</sensorId>
			<value>
				<mult>
				<op><getOid>POWER_METER:_HZ</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Power Meter: Hz</label>
			<sensorSet>Power Meter</sensorSet>
		</numSensor>
		<numSensor ruleid="power-meter:-pf">
			<type>num/powerfactor</type>
			<units></units>
			<sensorId>POWER_METER:_PF</sensorId>
			<value>
				<mult>
				<op><getOid>POWER_METER:_PF</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Power Meter: PF</label>
			<sensorSet>Power Meter</sensorSet>
		</numSensor>
		<numSensor ruleid="power-meter:-kw">
			<type>num/powerKW</type>
			<units></units>
			<sensorId>POWER_METER:_KW</sensorId>
			<value>
				<mult>
				<op><getOid>POWER_METER:_KW</getOid></op>
				<op>1</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Power Meter: kW</label>
			<sensorSet>Power Meter</sensorSet>
		</numSensor>
		<valueMap ruleid="binaryDefaultZero-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="onOff-em">
			<label>Off</label>
			<label>On</label>
		</enumMap>
		<enumMap ruleid="trueFalse-em">
			<label>False</label>
			<label>True</label>
		</enumMap>

	</device>
	<protocol>
		<modbus>
			<value_ref_id valid="CHILLER_STATUS">
				<function>3</function>
				<start_addr>0</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="CHILLER_ALARM">
				<function>3</function>
				<start_addr>1</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="CHILLER_PUMP_1_STATUS">
				<function>3</function>
				<start_addr>2</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="CHILLER_PUMP_2_STATUS">
				<function>3</function>
				<start_addr>4</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="CHILLER_PUMP_1_ALARM">
				<function>3</function>
				<start_addr>3</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="CHILLER_PUMP_2_ALARM">
				<function>3</function>
				<start_addr>5</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="FIRE_ALARM">
				<function>3</function>
				<start_addr>6</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="WATER_LEAK_1">
				<function>3</function>
				<start_addr>7</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="WATER_LEAK_2">
				<function>3</function>
				<start_addr>8</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="WATER_LEAK_3">
				<function>3</function>
				<start_addr>9</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="RED_LIGHT">
				<function>3</function>
				<start_addr>20</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="YELLOW_LIGHT">
				<function>3</function>
				<start_addr>21</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="GREEN_LIGHT">
				<function>3</function>
				<start_addr>22</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="BUZZER">
				<function>3</function>
				<start_addr>23</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="RC_1_SHUTDOWN">
				<function>3</function>
				<start_addr>24</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="RC_2_SHUTDOWN">
				<function>3</function>
				<start_addr>25</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="POWER_METER:_A-B_PHASE_VOLTAGE">
				<function>3</function>
				<start_addr>100</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="POWER_METER:_B-C_PHASE_VOLTAGE">
				<function>3</function>
				<start_addr>101</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="POWER_METER:_C-A_PHASE_VOLTAGE">
				<function>3</function>
				<start_addr>102</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="POWER_METER:_A_PHASE_CURRENT">
				<function>3</function>
				<start_addr>103</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="POWER_METER:_B_PHASE_CURRENT">
				<function>3</function>
				<start_addr>104</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="POWER_METER:_C_PHASE_CURRENT">
				<function>3</function>
				<start_addr>105</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="POWER_METER:_HZ">
				<function>3</function>
				<start_addr>106</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="POWER_METER:_PF">
				<function>3</function>
				<start_addr>107</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
			<value_ref_id valid="POWER_METER:_KW">
				<function>3</function>
				<start_addr>108</start_addr>
				<quantity>1</quantity>
				<type>uint_16</type>
			</value_ref_id>
		</modbus>
	</protocol>
</APC_DDF>
