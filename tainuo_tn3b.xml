<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="tainuo_tn3b" ddfname="TAINUO TN3B" ddfversion="1" canremove="yes">
	<schemaVersion>1.6</schemaVersion>
	<device deviceid="tainuo_tn3b">
		<oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
		<setProductData ruleid="vendordata" field="vendor">TAINUO</setProductData>
		<setProductData ruleid="modeldata" field="model">TN3B</setProductData>
		<setProductData ruleid="typedata" field="type">Power Meter</setProductData>
		<setDefaultLabel ruleid="labeldata">
			<sysHostname />
      - Slave
			<commSetting field="slaveaddress" />
		</setDefaultLabel>
		<numSensor ruleid="ia">
			<type>amperage</type>
			<units />
			<sensorId>CURRENT_1</sensorId>
			<value>
				<mult>
					<op>
						<getOid>IA</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Ia</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="ib">
			<type>amperage</type>
			<units />
			<sensorId>CURRENT_2</sensorId>
			<value>
				<mult>
					<op>
						<getOid>IB</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Ib</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="ic">
			<type>amperage</type>
			<units />
			<sensorId>CURRENT_3</sensorId>
			<value>
				<mult>
					<op>
						<getOid>IC</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Ic</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="ua">
			<type>voltage</type>
			<units />
			<sensorId>OUTPUT_VOLTAGE_1</sensorId>
			<value>
				<mult>
					<op>
						<getOid>UA</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Ua</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="ub">
			<type>voltage</type>
			<units />
			<sensorId>OUTPUT_VOLTAGE_2</sensorId>
			<value>
				<mult>
					<op>
						<getOid>UB</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Ub</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="uc">
			<type>voltage</type>
			<units />
			<sensorId>OUTPUT_VOLTAGE_3</sensorId>
			<value>
				<mult>
					<op>
						<getOid>UC</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Uc</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="pa">
			<type>num/powerKW</type>
			<units />
			<sensorId>_POWER_KW_1</sensorId>
			<value>
				<mult>
					<op>
						<getOid>PA</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Pa</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="pb">
			<type>num/powerKW</type>
			<units />
			<sensorId>_POWER_KW_2</sensorId>
			<value>
				<mult>
					<op>
						<getOid>PB</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Pb</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="pc">
			<type>num/powerKW</type>
			<units />
			<sensorId>_POWER_KW_3</sensorId>
			<value>
				<mult>
					<op>
						<getOid>PC</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Pc</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="p_total">
			<type>num/powerKW</type>
			<units />
			<sensorId>_POWER_KW_4</sensorId>
			<value>
				<mult>
					<op>
						<getOid>P_TOTAL</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>P Total</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="qa">
			<type>num/powerKVAR</type>
			<units />
			<sensorId>_POWERMETER_KVAR_1</sensorId>
			<value>
				<mult>
					<op>
						<getOid>QA</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Qa</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="qb">
			<type>num/powerKVAR</type>
			<units />
			<sensorId>_POWERMETER_KVAR_2</sensorId>
			<value>
				<mult>
					<op>
						<getOid>QB</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Qb</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="qc">
			<type>num/powerKVAR</type>
			<units />
			<sensorId>_POWERMETER_KVAR_3</sensorId>
			<value>
				<mult>
					<op>
						<getOid>QC</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Qc</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="q_total">
			<type>num/powerKVAR</type>
			<units />
			<sensorId>_POWERMETER_KVAR_4</sensorId>
			<value>
				<mult>
					<op>
						<getOid>Q_TOTAL</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<label>Q Total</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="pfa">
			<type>pctofcapacity</type>
			<units />
			<sensorId>_POWER_METER_ANALOG_VALUE_1</sensorId>
			<value>
				<mult>
					<op>
						<getOid>PFA</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>PFa</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="pfb">
			<type>pctofcapacity</type>
			<units />
			<sensorId>_POWER_METER_ANALOG_VALUE_2</sensorId>
			<value>
				<mult>
					<op>
						<getOid>PFB</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>PFb</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="pfc">
			<type>pctofcapacity</type>
			<units />
			<sensorId>_POWER_METER_ANALOG_VALUE_3</sensorId>
			<value>
				<mult>
					<op>
						<getOid>PFC</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>PFc</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
		<numSensor ruleid="pf_total">
			<type>pctofcapacity</type>
			<units />
			<sensorId>_POWER_METER_ANALOG_VALUE_4</sensorId>
			<value>
				<mult>
					<op>
						<getOid>PF_TOTAL</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>PF Total</label>
			<sensorSet>Generic</sensorSet>
		</numSensor>
	</device>
	<protocol>
		<modbus>
			<value_ref_id valid="PFB">
				<function>3</function>
				<start_addr>6034</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="QB">
				<function>3</function>
				<start_addr>6027</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="PFC">
				<function>3</function>
				<start_addr>6035</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="IA">
				<function>3</function>
				<start_addr>6001</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="PFA">
				<function>3</function>
				<start_addr>6033</start_addr>
				<quantity>1</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="IC">
				<function>3</function>
				<start_addr>6005</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="UC">
				<function>3</function>
				<start_addr>6013</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="PB">
				<function>3</function>
				<start_addr>6019</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="PF_TOTAL">
				<function>3</function>
				<start_addr>6036</start_addr>
				<quantity>1</quantity>
				<type>int_16</type>
			</value_ref_id>
			<value_ref_id valid="QA">
				<function>3</function>
				<start_addr>6025</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="QC">
				<function>3</function>
				<start_addr>6029</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="UA">
				<function>3</function>
				<start_addr>6009</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="PC">
				<function>3</function>
				<start_addr>6021</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="P_TOTAL">
				<function>3</function>
				<start_addr>6023</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="UB">
				<function>3</function>
				<start_addr>6011</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="PA">
				<function>3</function>
				<start_addr>6017</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="IB">
				<function>3</function>
				<start_addr>6003</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
			<value_ref_id valid="Q_TOTAL">
				<function>3</function>
				<start_addr>6031</start_addr>
				<quantity>2</quantity>
				<type>float</type>
			</value_ref_id>
		</modbus>
	</protocol>
</APC_DDF>
