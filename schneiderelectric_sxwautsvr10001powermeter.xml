<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="schneiderelectric_sxwautsvr10001powermeter" ddfname="SchneiderElectric SXWAUTSVR10001PowerMeter" ddfversion="2" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="schneiderelectric_sxwautsvr10001powermeter">
    <oidMustExist ruleid="modbusdevicetest" oid="MODBUS_OID_MUST_EXIST" />
    <setProductData ruleid="vendordata" field="vendor">SchneiderElectric</setProductData>
    <setProductData ruleid="modeldata" field="model">SXWAUTSVR10001PowerMeter</setProductData>
    <setProductData ruleid="typedata" field="type">Power Meter</setProductData>
    <setDefaultLabel ruleid="labeldata">
      <sysHostname />
      - Slave
      <commSetting field="slaveaddress" />
    </setDefaultLabel>
    <numSensor ruleid="apparent_energy_into_the_load">
      <type>num/kwatthr</type>
      <units />
      <sensorId>APPARENT_ENERGY_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>APPARENT_ENERGY_INTO_THE_LOAD</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Apparent Energy Into the Load</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="apparent_power_a">
      <type>num/powerKVA</type>
      <units />
      <sensorId>_APP_POWER_KVA_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>APPARENT_POWER_A</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Apparent Power A</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="apparent_power_b">
      <type>num/powerKVA</type>
      <units />
      <sensorId>_APP_POWER_KVA_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>APPARENT_POWER_B</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Apparent Power B</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="apparent_power_c">
      <type>num/powerKVA</type>
      <units />
      <sensorId>_APP_POWER_KVA_3</sensorId>
      <value>
        <mult>
          <op>
            <getOid>APPARENT_POWER_C</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Apparent Power C</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="apparent_power_total">
      <type>num/powerKVA</type>
      <units />
      <sensorId>_APP_POWER_KVA_4</sensorId>
      <value>
        <mult>
          <op>
            <getOid>APPARENT_POWER_TOTAL</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Apparent Power Total</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="power_factor_total">
      <type>num/powerfactor</type>
      <units />
      <sensorId>POWER_FACTOR_TOTAL</sensorId>
      <value>
        <mult>
          <op>
            <getOid>POWER_FACTOR_TOTAL</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Power Factor Total</label>
      <sensorSet>Power</sensorSet>
    </numSensor>
    <numSensor ruleid="current_avg">
      <type>amperage</type>
      <units />
      <sensorId>AVERAGE_CURRENT_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CURRENT_AVG</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Current Avg</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="current_a">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CURRENT_A</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Current A</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="current_b">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CURRENT_B</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Current B</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="current_c">
      <type>amperage</type>
      <units />
      <sensorId>CURRENT_3</sensorId>
      <value>
        <mult>
          <op>
            <getOid>CURRENT_C</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Current C</label>
      <sensorSet>Current</sensorSet>
    </numSensor>
    <numSensor ruleid="frequency">
      <type>frequency</type>
      <units />
      <sensorId>_FREQUENCY_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>FREQUENCY</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Frequency</label>
      <sensorSet>Frequency</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_l_l_avg">
      <type>voltage</type>
      <units />
      <sensorId>_SMM_1_OID_8</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_L_L_AVG</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Voltage L_L Avg</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_l_n_avg">
      <type>voltage</type>
      <units />
      <sensorId>_SMM_1_OID_4</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_L_N_AVG</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Voltage L_N Avg</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_a_n">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_1</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_A_N</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Voltage A_N</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_a_b">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_2</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_A_B</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Voltage A_B</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_b_n">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_3</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_B_N</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Voltage B_N</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_b_c">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_4</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_B_C</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Voltage B_C</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_c_n">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_5</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_C_N</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Voltage C_N</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <numSensor ruleid="voltage_c_a">
      <type>voltage</type>
      <units />
      <sensorId>INPUT_VOLTAGE_6</sensorId>
      <value>
        <mult>
          <op>
            <getOid>VOLTAGE_C_A</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>Voltage C_A</label>
      <sensorSet>Voltage</sensorSet>
    </numSensor>
    <stateSensor ruleid="em1_status">
      <type>state</type>
      <sensorId>_EMS_SENSOR_STATE_1</sensorId>
      <value>
        <mapValue mapid="offon_vm">
          <getOid>EM1_STATUS</getOid>
        </mapValue>
      </value>
      <label>EM1_Status</label>
      <enum>offon_em</enum>
      <sensorSet>Status</sensorSet>
    </stateSensor>
	<valueMap ruleid="offon_vm">
			<valueIn>0</valueIn>
			<valueOut>0</valueOut>
			<valueIn>1</valueIn>
			<valueOut>1</valueOut>
			<valueIn>*</valueIn>
			<valueOut>0</valueOut>
	</valueMap>

	<enumMap ruleid="offon_em">
			<label>OFF</label>
			<label>ON</label>
	</enumMap>
  </device>
  <protocol>
    <modbus>
      <value_ref_id valid="VOLTAGE_B_C">
        <function>3</function>
        <start_addr>217</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CURRENT_B">
        <function>3</function>
        <start_addr>208</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="FREQUENCY">
        <function>3</function>
        <start_addr>210</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_B_N">
        <function>3</function>
        <start_addr>216</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="POWER_FACTOR_TOTAL">
        <function>3</function>
        <start_addr>205</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_L_N_AVG">
        <function>3</function>
        <start_addr>212</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="APPARENT_POWER_C">
        <function>3</function>
        <start_addr>203</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="APPARENT_ENERGY_INTO_THE_LOAD">
        <function>3</function>
        <start_addr>200</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_C_A">
        <function>3</function>
        <start_addr>219</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="APPARENT_POWER_A">
        <function>3</function>
        <start_addr>201</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CURRENT_AVG">
        <function>3</function>
        <start_addr>206</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="EM1_STATUS">
        <function>3</function>
        <start_addr>213</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="APPARENT_POWER_B">
        <function>3</function>
        <start_addr>202</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_A_B">
        <function>3</function>
        <start_addr>215</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_L_L_AVG">
        <function>3</function>
        <start_addr>211</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="APPARENT_POWER_TOTAL">
        <function>3</function>
        <start_addr>204</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CURRENT_C">
        <function>3</function>
        <start_addr>209</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_C_N">
        <function>3</function>
        <start_addr>218</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="VOLTAGE_A_N">
        <function>3</function>
        <start_addr>214</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
      <value_ref_id valid="CURRENT_A">
        <function>3</function>
        <start_addr>207</start_addr>
        <quantity>1</quantity>
        <type>uint_16</type>
      </value_ref_id>
    </modbus>
  </protocol>
</APC_DDF>
